{"version":3,"mappings":"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","names":["pb","PocketBase","fetchPocketbaseDocument","__name","collection","id","fetchAllPocketbaseDocuments","collectionName","record","createPocketbaseDocument","data","updatePocketbaseDocument","deletePocketbaseDocument","authProvider","email","password","response","token","ProductList","isSmall","useMediaQuery","theme","jsx","List","ListActions","Box","ProductFilters","ProductGrid","isLoading","useListContext","useTheme","isXs","isSm","isMd","isLg","columns","cardWidth","_","index","jsxs","Card","CardContent","Typography","RecordContextProvider","ProductCard","useRecordContext","CardMedia","e","CardActions","IconButton","VisibilityIcon","EditIcon","useTranslate","dataProvider","useDataProvider","notify","useNotify","setFilters","filterValues","categories","setCategories","React.useState","loadingCategories","setLoadingCategories","searchValue","setSearchValue","React.useEffect","handleCategoryToggle","categoryId","newCategoryId","handleSearchChange","event","value","handleSalesFilter","filterType","handleStockFilter","MuiTextField","InputAdornment","SearchIcon","MuiList","ListItem","ListItemButton","ListItemIcon","CheckIcon","ListItemText","category","TopToolbar","FilterButton","SortButton","CreateButton","ExportButton","RichTextInput","React.lazy","__vitePreload","n","module","ProductTitle","appTitle","useDefaultTitle","defaultTitle","useEditContext","Fragment","ProductEdit","Edit","SimpleForm","TextInput","required","React.Suspense","NumberInput","ReferenceInput","SelectInput","ArrayInput","SimpleFormIterator","useCreateContext","ProductCreate","Create","useShowContext","ProductImage","validImageUrls","url","ImageList","imageUrl","ImageListItem","ProductShow","Show","Grid","TextField","AttachMoney","NumberField","Category","ReferenceField","Chip","Divider","Paper","CalendarToday","DateField","Inventory","products","ProductIcon","LinkToRelatedProducts","translate","Button","Link","queryString","CategoriesTitle","title","CategoryList","CategoryGrid","error","isPending","humanize","EditButton","Img","styled","ThumbnailField","ProductRefField","Column","DataTable","ColumnNumber","CategoryEdit","CategoryTitle","Labeled","ReferenceManyField","CategoryIcon","useCurrency","currencies","useQuery","CurrencyContext","createContext","CurrencyProvider","children","currency","setCurrency","useState","rate","setRate","displayCurrency","useMemo","useEffect","selected","c","convert","useCallback","useCurrencyContext","context","useContext","formatCurrency","locale","roundedValue","OrderPendingList","CardHeader","formatDate","dateString","format","parseISO","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","order","RevenueFilter","onFilterChange","isOpen","setIsOpen","isMonthChecked","setIsMonthChecked","isYearChecked","setIsYearChecked","startDate","setStartDate","dayjs","endDate","setEndDate","handleMonthCheck","checked","handleYearCheck","handleDateChange","React","LocalizationProvider","AdapterDayjs","Close","FilterList","Collapse","FormControlLabel","Checkbox","DatePicker","newValue","SellRevenueChart","loading","defaultData","finalData","chartData","year","monthMap","item","fullData","m","generateSampleData","sampleData","baseUSD","_a","i","variation","usdValue","_b","_c","displayData","CircularProgress","ResponsiveContainer","LineChart","CartesianGrid","XAxis","YAxis","Line","ModernStatusCard","icon","StatusCountCards","sellRevenue","orderStatusCount","customerCount","AttachMoneyIcon","PersonAddRoundedIcon","ShoppingCartIcon","CheckCircleIcon","CancelIcon","useStaticDashboardData","setData","prev","statusCountResponse","orderListResponse","useRevenueData","filterParams","sellRevenueParams","sellRevenueUrl","sellRevenueResponse","styles","VerticalSpacer","Dashboard","isXSmall","setFilterParams","statusCount","orderList","staticLoading","staticError","revenueLoading","revenueError","handleFilterChange","params","Alert","DashboardComponent","API_BASE_URL","ordersApiDataProvider","resource","page","perPage","status","queryParams","blogService","sort","filter","options","result","ids","deletedIds","blogsDataProvider","field","filterString","filters","customersDataProvider","q","filterParts","key","target","productsDataProvider","pagination","filterStr","filterConditions","stockFilters","salesFilters","sortStr","COLLECTION_NAME","productCategoriesDataProvider","usersDataProvider","dataProviderFactory","type","dataProviderPromise","getDataProvider","defaultDataProvider","name","provider","customEnglishMessages","englishMessages","AvatarField","size","sx","Avatar","FullNameField","props","FullNameField$1","memo","AddressField","TableCellRight","Basket","productIds","useGetMany","productsById","acc","product","InvoiceShow","CustomerField","listFilters","DateInput","ColumnsButton","InvoicesTitle","InvoiceList","invoices","InvoiceIcon","CustomArrowDropDownIcon","color","ArrowDropDownIcon","CustomArrowDropUpIcon","ArrowDropUpIcon","CurrencySelector","showLabel","variant","minWidth","open","setOpen","handleCurrencyChange","filteredCurrencies","IconComponent","FormControl","Select","MenuItem","AppBarToolbar","LocalesMenuButton","LoadingIndicator","CustomAppBar","isLargeEnough","AppBar","TitlePortal","lazy","BlogCreate","BlogEditActions","ShowButton","DeleteButton","BlogEdit","DescriptionField","plainText","html","tmp","truncatedText","blogFilters","SearchInput","BlogListActions","BlogBulkActions","BulkDeleteButton","BlogList","Datagrid","UrlField","BlogShowActions","BlogShow","SimpleShowLayout","RichTextField","blogs","DescriptionIcon","customerFilters","CustomerListActions","handleExportExcel","exportData","customer","worksheet","XLSX.utils","workbook","XLSX.writeFile","Download","CustomerTitle","VerifiedField","update","useUpdate","refresh","useRefresh","handleVerifiedChange","newVerified","Switch","CustomerList","EmailField","validateForm","values","errors","CustomerCreate","SectionTitle","Separator","ImageInput","ImageField","BooleanInput","label","CustomerEdit","CustomerAside","customers","People","CustomerReferenceField","MobileGrid","BooleanField","OrderList","ToggleButtonGroup","newCurrency","ToggleButton","TabbedDatagrid","tabs","activeTab","setActiveTab","orderCounts","setOrderCounts","counts","tab","handleChange","Tabs","choice","Tab","OrdersTable","OrderDetail","orderItems","setOrderItems","setCustomer","address","setAddress","setProducts","setLoading","setError","fetchOrderDetails","itemsResponse","customerData","err","addressData","productPromises","productId","productData","productResults","productsMap","totals","amount","currencyType","getCurrentTotal","ExpandLess","ExpandMore","Loading","Receipt","Person","LocationOn","price","total","React.memo","orders","setOrders","Totals","OrderEdit","OrderTitle","OrderForm","CustomerDetails","RaLink","CustomerAddress","Spacer","Form","PrevNextButtons","Toolbar","OrderIcon","userFilters","UserListActions","user","UserTitle","EmailVisibilityField","handleEmailVisibilityChange","newEmailVisibility","UserList","UserCreate","redirect","useRedirect","PasswordInput","UserEdit","UserShowActions","UserShow","users","Menu","dense","state","setState","useSidebarState","clsx","DashboardMenuItem","MenuItemLink","Layout","ReviewItem","createPath","useCreatePath","ListItemAvatar","FunctionField","ReviewListMobile","review","ProductReferenceField","StarRatingField","Icon","rowSx","selectedRow","style","green","orange","red","noSelection","BulkAcceptButton","selectedIds","unselectAll","useUnselectAll","updateMany","useUpdateMany","ThumbUp","BulkRejectButton","ThumbDown","ReviewsBulkActionButtons","ReviewListDesktop","navigate","useNavigate","colorMap","reviewFilters","AutocompleteInput","AcceptButton","redirectTo","approve","RejectButton","reject","ReviewEditToolbar","SaveButton","ReviewTitle","ReviewEdit","onCancel","EditBase","Stack","CloseIcon","ReviewListActions","ReviewsTitle","ReviewList","location","useLocation","handleClose","match","matchPath","Drawer","StarRatingInput","useInput","StyledRating","Rating","ReviewCreate","onSuccess","getRecordFromLocation","reviews","ReviewIcon","segments","segment","VisitorIcon","LinkToRelatedCustomers","visitors","Segments","getResourceLabel","useGetResourceLabel","pageTitle","Title","softDarkTheme","defaultTheme","softLightTheme","chiptuneTheme","createTheme","lightTheme","lighten","darkTheme","cssVariablesTheme","BW_SIDEBAR_OVERRIDE","themes","defaultLightTheme","defaultDarkTheme","bwLightTheme","bwDarkTheme","nanoLightTheme","nanoDarkTheme","radiantLightTheme","radiantDarkTheme","houseLightTheme","houseDarkTheme","LoginPage","setEmail","setPassword","login","useLogin","handleSubmit","Login","Container","MuiProvider","emotionCache","createCache","CacheProvider","ThemeProvider","CssBaseline","ProductCategoryFilters","ProductCategoryListActions","ProductCategoryList","ProductCategoryTitle","ProductCategoryEdit","ProductCategoryCreate","ProductCategoryShowActions","ProductCategoryShow","productCategories","i18nProvider","polyglotI18nProvider","messages","store","localStorageStore","App","themeName","useStore","singleTheme","Admin","CustomRoutes","Route","Resource","queryClient","QueryClient","AppWrapper","StoreContextProvider","QueryClientProvider","container","root","createRoot"],"ignoreList":[],"sources":["../../src/api/pocketbase.ts","../../src/authProvider.ts","../../src/products/ProductList.tsx","../../src/products/ProductEdit.tsx","../../src/products/ProductCreate.tsx","../../src/products/ProductShow.tsx","../../src/products/index.tsx","../../src/categories/LinkToRelatedProducts.tsx","../../src/categories/CategoryList.tsx","../../src/products/ThumbnailField.tsx","../../src/products/ProductRefField.tsx","../../src/categories/CategoryEdit.tsx","../../src/categories/index.ts","../../src/hooks/useCurrency.ts","../../src/components/CurrencySelector/CurrencyProvider.tsx","../../src/utils/format.ts","../../src/dashboard/OrderPendingList.tsx","../../src/dashboard/RevenueFilter.tsx","../../src/dashboard/SellRevenueChart.tsx","../../src/dashboard/StatusCountCards.tsx","../../src/dashboard/useDashboardData.ts","../../src/dashboard/Dashboard.tsx","../../src/dashboard/index.ts","../../src/dataProvider/ordersApi.ts","../../src/api/blogsService.ts","../../src/dataProvider/blogsDataProvider.ts","../../src/dataProvider/customersDataProvider.ts","../../src/dataProvider/productsDataProvider.ts","../../src/dataProvider/productCategoriesDataProvider.ts","../../src/dataProvider/usersDataProvider.ts","../../src/dataProvider/index.ts","../../src/i18n/en.ts","../../src/visitors/AvatarField.tsx","../../src/visitors/FullNameField.tsx","../../src/visitors/AddressField.tsx","../../src/orders/TableCellRight.tsx","../../src/orders/Basket.tsx","../../src/invoices/InvoiceShow.tsx","../../src/invoices/InvoiceList.tsx","../../src/invoices/index.ts","../../src/components/CurrencySelector/CurrencySelector.tsx","../../src/layout/AppBarToolbar.tsx","../../src/layout/AppBar.tsx","../../src/blogs/BlogCreate.tsx","../../src/blogs/BlogEdit.tsx","../../src/blogs/BlogList.tsx","../../src/blogs/BlogShow.tsx","../../src/blogs/index.ts","../../src/customers/CustomerList.tsx","../../src/customers/CustomerCreate.tsx","../../src/customers/CustomerEdit.tsx","../../src/customers/index.ts","../../src/visitors/CustomerReferenceField.tsx","../../src/orders/MobileGrid.tsx","../../src/orders/OrderList.tsx","../../src/orders/Totals.tsx","../../src/orders/OrderEdit.tsx","../../src/orders/index.ts","../../src/users/UserList.tsx","../../src/users/UserCreate.tsx","../../src/users/UserEdit.tsx","../../src/users/UserShow.tsx","../../src/users/index.ts","../../src/layout/Menu.tsx","../../src/layout/Layout.tsx","../../src/reviews/ReviewItem.tsx","../../src/reviews/ReviewListMobile.tsx","../../src/products/ProductReferenceField.tsx","../../src/reviews/StarRatingField.tsx","../../src/reviews/rowSx.tsx","../../src/reviews/BulkAcceptButton.tsx","../../src/reviews/BulkRejectButton.tsx","../../src/reviews/ReviewListDesktop.tsx","../../src/reviews/reviewFilters.tsx","../../src/reviews/AcceptButton.tsx","../../src/reviews/RejectButton.tsx","../../src/reviews/ReviewEditToolbar.tsx","../../src/reviews/ReviewEdit.tsx","../../src/reviews/ReviewList.tsx","../../src/reviews/StarRatingInput.tsx","../../src/reviews/ReviewCreate.tsx","../../src/reviews/index.ts","../../src/segments/data.ts","../../src/visitors/SegmentsField.tsx","../../src/visitors/VisitorList.tsx","../../src/visitors/index.ts","../../src/segments/LinkToRelatedCustomers.tsx","../../src/segments/Segments.tsx","../../src/themes/softTheme.ts","../../src/themes/chiptuneTheme.ts","../../src/themes/cssVariablesTheme.ts","../../src/themes/themes.tsx","../../src/layout/Login2.tsx","../../src/styles/theme.ts","../../src/styles/ThemeProvider.tsx","../../src/productCategories/ProductCategoryList.tsx","../../src/productCategories/ProductCategoryEdit.tsx","../../src/productCategories/ProductCategoryCreate.tsx","../../src/productCategories/ProductCategoryShow.tsx","../../src/productCategories/index.ts","../../src/App.tsx","../../src/index.tsx"],"sourcesContent":["import PocketBase from \"pocketbase\";\n\n// const pb = new PocketBase(\"http://localhost:8080\"); // Replace with your PocketBase URL\nconst pb = new PocketBase(\"https://sensornode.shop\"); // Replace with your PocketBase URL\npb.autoCancellation(false);\n\nexport default pb;\n\n// Generic function to fetch a single document from the collection\nexport const fetchPocketbaseDocument = async <T extends Record<string, any>>(\n  collection: string,\n  id: string | any,\n): Promise<T> => {\n  const record = await pb.collection(collection).getOne<T>(id);\n  return record;\n};\n\n// Generic function to fetch all documents from the collection\nexport async function fetchAllPocketbaseDocuments<\n  T extends Record<string, any>,\n>(collectionName: string): Promise<T[]> {\n  const records = await pb.collection(collectionName).getFullList();\n  return records.map((record) => record as unknown as T);\n}\n\n// Generic function to create a document in the collection\nexport async function createPocketbaseDocument<T extends Record<string, any>>(\n  collectionName: string,\n  data: T,\n): Promise<string> {\n  const record = await pb.collection(collectionName).create(data);\n  return record.id;\n}\n\n// Generic function to update a document in the collection\nexport async function updatePocketbaseDocument<T extends Record<string, any>>(\n  collectionName: string,\n  id: string,\n  data: Partial<T>,\n): Promise<void> {\n  await pb.collection(collectionName).update(id, data);\n}\n\n// Generic function to delete a document from the collection\nexport async function deletePocketbaseDocument(\n  collectionName: string,\n  id: string,\n): Promise<void> {\n  await pb.collection(collectionName).delete(id);\n}\n","import { AuthProvider } from 'react-admin';\nimport pb from './api/pocketbase'; // Import PocketBase instance\n\nconst authProvider: AuthProvider = {\n  login: async ({\n    email,\n    password,\n  }: {\n    email: string;\n    password: string;\n  }): Promise<void> => {\n    try {\n      const response = await pb\n        .collection('users')\n        .authWithPassword(email, password);\n      localStorage.setItem('username', email);\n\n      const token = response.token;\n\n      if (token) {\n        pb.authStore.save(token); // Save token in PocketBase's auth store\n      }\n      return Promise.resolve();\n    } catch (e) {\n      return Promise.reject();\n    }\n  },\n  logout: () => {\n    localStorage.removeItem('username');\n    return Promise.resolve();\n  },\n  checkError: () => Promise.resolve(),\n  checkAuth: () =>\n    localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n  getPermissions: () => Promise.resolve(),\n  getIdentity: () =>\n    Promise.resolve({\n      id: 'user',\n      fullName: 'Jane Doe',\n      avatar:\n        'data:image/jpeg;base64,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',\n    }),\n};\n\nexport default authProvider;\n","import * as React from 'react';\nimport { \n    Box, \n    Chip, \n    useMediaQuery, \n    Theme, \n    Card, \n    CardContent, \n    Typography, \n    CardMedia,\n    CardActions,\n    Button,\n    IconButton,\n    useTheme,\n    List as MuiList,\n    ListItem,\n    ListItemButton,\n    ListItemText,\n    ListItemIcon,\n    InputAdornment,\n    TextField as MuiTextField\n} from '@mui/material';\nimport { Check as CheckIcon } from '@mui/icons-material';\nimport {\n    CreateButton,\n    ExportButton,\n    FilterButton,\n    InputProps,\n    List,\n    TextField,\n    NumberField,\n    DateField,\n    EditButton,\n    DeleteButton,\n    ShowButton,\n    SortButton,\n    Title,\n    TopToolbar,\n    useTranslate,\n    useDefaultTitle,\n    useListContext,\n    BulkDeleteButton,\n    BulkExportButton,\n    ImageField,\n    useRecordContext,\n    RecordContextProvider,\n    useDataProvider,\n    useNotify,\n} from 'react-admin';\nimport { Edit as EditIcon, Delete as DeleteIcon, Visibility as VisibilityIcon, Search as SearchIcon } from '@mui/icons-material';\n\nconst ProductList = () => {\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('md'));\n    \n    return (\n        <List\n            perPage={24}\n            sort={{ field: 'name', order: 'ASC' }}\n            actions={<ListActions />}\n        >\n            <Box sx={{ display: 'flex' }}>\n                {!isSmall && <ProductFilters />}\n                <Box sx={{ flex: 1 }}>\n                    <ProductGrid />\n                </Box>\n            </Box>\n        </List>\n    );\n};\n\nconst ProductGrid = () => {\n    const { data, isLoading } = useListContext();\n    const theme = useTheme();\n    const isXs = useMediaQuery(theme.breakpoints.down('sm'));\n    const isSm = useMediaQuery(theme.breakpoints.between('sm', 'md'));\n    const isMd = useMediaQuery(theme.breakpoints.between('md', 'lg'));\n    const isLg = useMediaQuery(theme.breakpoints.between('lg', 'xl'));\n    \n    let columns = 12;\n    if (isXs) columns = 2;\n    else if (isSm) columns = 3;\n    else if (isMd) columns = 4;\n    else if (isLg) columns = 6;\n    \n    const cardWidth = `calc(${100 / columns}% - 16px)`;\n    \n    if (isLoading) {\n        return (\n            <Box sx={{ \n                display: 'flex',\n                flexWrap: 'wrap',\n                gap: 2,\n                alignItems: 'stretch'\n            }}>\n                {Array.from({ length: 12 }).map((_, index) => (\n                    <Card \n                        key={index}\n                        sx={{ \n                            width: cardWidth,\n                            minWidth: '200px',\n                            height: 300, \n                            display: 'flex', \n                            flexDirection: 'column' \n                        }}\n                    >\n                        <Box sx={{ height: 200, bgcolor: 'grey.200' }} />\n                        <CardContent sx={{ flex: 1 }}>\n                            <Box sx={{ height: 20, bgcolor: 'grey.200', mb: 1 }} />\n                            <Box sx={{ height: 16, bgcolor: 'grey.200', width: '60%' }} />\n                        </CardContent>\n                    </Card>\n                ))}\n            </Box>\n        );\n    }\n    \n    if (!data || data.length === 0) {\n        return (\n            <Box sx={{ textAlign: 'center', py: 4 }}>\n                <Typography variant=\"h6\" color=\"textSecondary\">\n                    No products found\n                </Typography>\n            </Box>\n        );\n    }\n    \n    return (\n        <Box sx={{ \n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: 2,\n            alignItems: 'stretch'\n        }}>\n            {data.map((record: any) => (\n                <Box \n                    key={record.id}\n                    sx={{ \n                        width: cardWidth,\n                        minWidth: '200px'\n                    }}\n                >\n                    <RecordContextProvider value={record}>\n                        <ProductCard />\n                    </RecordContextProvider>\n                </Box>\n            ))}\n        </Box>\n    );\n};\n\nconst ProductCard = () => {\n    const record = useRecordContext();\n    const theme = useTheme();\n    \n    if (!record) return null;\n    \n    return (\n        <Card \n            sx={{ \n                height: '100%', \n                display: 'flex', \n                flexDirection: 'column',\n                transition: 'transform 0.2s, box-shadow 0.2s',\n                '&:hover': {\n                    transform: 'translateY(-2px)',\n                    boxShadow: theme.shadows[4]\n                }\n            }}\n        >\n            <CardMedia\n                component=\"img\"\n                height=\"200\"\n                image={\n                    Array.isArray(record.image_url) \n                        ? (record.image_url.length > 0 ? record.image_url[0] : '/placeholder-product.svg')\n                        : (record.image_url || '/placeholder-product.svg')\n                }\n                alt={record.name}\n                sx={{ \n                    objectFit: 'cover',\n                    bgcolor: 'grey.100'\n                }}\n                onError={(e: any) => {\n                    e.target.src = '/placeholder-product.svg';\n                }}\n            />\n            <CardContent sx={{ flex: 1, pb: 1 }}>\n                <Typography \n                    variant=\"h6\" \n                    component=\"h3\" \n                    gutterBottom\n                    sx={{ \n                        fontSize: '1rem',\n                        fontWeight: 600,\n                        lineHeight: 1.2,\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        display: '-webkit-box',\n                        WebkitLineClamp: 2,\n                        WebkitBoxOrient: 'vertical'\n                    }}\n                >\n                    {record.name}\n                </Typography>\n                {record.name_la && (\n                    <Typography \n                        variant=\"body2\" \n                        color=\"textSecondary\"\n                        sx={{ \n                            mb: 1,\n                            overflow: 'hidden',\n                            textOverflow: 'ellipsis',\n                            whiteSpace: 'nowrap'\n                        }}\n                    >\n                        {record.name_la}\n                    </Typography>\n                )}\n                <Typography \n                    variant=\"body2\" \n                    color=\"textSecondary\"\n                    sx={{ \n                        mb: 1,\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        display: '-webkit-box',\n                        WebkitLineClamp: 2,\n                        WebkitBoxOrient: 'vertical',\n                        minHeight: '2.5em'\n                    }}\n                >\n                    {record.description}\n                </Typography>\n                <Typography \n                    variant=\"h6\" \n                    color=\"primary\"\n                    sx={{ \n                        fontWeight: 600,\n                        fontSize: '1.1rem'\n                    }}\n                >\n                    ${Number(record.price).toFixed(2)}\n                </Typography>\n            </CardContent>\n            <CardActions sx={{ pt: 0, justifyContent: 'space-between' }}>\n                <Box>\n                    <IconButton \n                        size=\"small\" \n                        component=\"a\" \n                        href={`#/products/${record.id}/show`}\n                        sx={{ color: 'info.main' }}\n                    >\n                        <VisibilityIcon fontSize=\"small\" />\n                    </IconButton>\n                    <IconButton \n                        size=\"small\" \n                        component=\"a\" \n                        href={`#/products/${record.id}`}\n                        sx={{ color: 'primary.main' }}\n                    >\n                        <EditIcon fontSize=\"small\" />\n                    </IconButton>\n                </Box>\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                    {new Date(record.created).toLocaleDateString()}\n                </Typography>\n            </CardActions>\n        </Card>\n    );\n};\n\nconst ProductTitle = () => {\n    const appTitle = useDefaultTitle();\n    const { defaultTitle } = useListContext();\n\n    return (\n        <>\n            <title>{`${appTitle} - ${defaultTitle}`}</title>\n            <Title defaultTitle={defaultTitle} />\n        </>\n    );\n};\n\nconst QuickFilter = ({ label }: InputProps) => {\n    const translate = useTranslate();\n    return <Chip sx={{ mb: 1 }} label={translate(label as string)} />;\n};\n\nconst ProductFilters = () => {\n    const translate = useTranslate();\n    const dataProvider = useDataProvider();\n    const notify = useNotify();\n    const { setFilters, filterValues } = useListContext();\n    const [categories, setCategories] = React.useState<any[]>([]);\n    const [loadingCategories, setLoadingCategories] = React.useState(true);\n    const [searchValue, setSearchValue] = React.useState('');\n    \n    React.useEffect(() => {\n        const fetchCategories = async () => {\n            try {\n                const { data } = await dataProvider.getList('categories', {\n                    pagination: { page: 1, perPage: 100 },\n                    sort: { field: 'name', order: 'ASC' },\n                    filter: {},\n                });\n                setCategories(data);\n            } catch (error) {\n                notify('Error loading categories', { type: 'warning' });\n            } finally {\n                setLoadingCategories(false);\n            }\n        };\n        \n        fetchCategories();\n    }, [dataProvider, notify]);\n\n    const handleCategoryToggle = (categoryId: string) => {\n        const currentCategoryId = filterValues.category_id;\n        const newCategoryId = currentCategoryId === categoryId ? undefined : categoryId;\n        setFilters({ ...filterValues, category_id: newCategoryId }, null);\n    };\n\n    const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const value = event.target.value;\n        setSearchValue(value);\n        setFilters({ ...filterValues, q: value }, null);\n    };\n\n    const handleSalesFilter = (filterType: string, value: boolean) => {\n        setFilters({ ...filterValues, [filterType]: value }, null);\n    };\n\n    const handleStockFilter = (filterType: string, value: boolean) => {\n        setFilters({ ...filterValues, [filterType]: value }, null);\n    };\n    \n    return (\n        <Card sx={{ order: -1, mr: 2, width: '16em' }}>\n            <CardContent>\n                <Typography variant=\"h6\" gutterBottom>\n                    Filters\n                </Typography>\n                \n                <MuiTextField\n                    fullWidth\n                    placeholder=\"Search products...\"\n                    value={searchValue}\n                    onChange={handleSearchChange}\n                    size=\"small\"\n                    sx={{ mb: 3 }}\n                    InputProps={{\n                        startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <SearchIcon sx={{ color: 'text.secondary' }} />\n                            </InputAdornment>\n                        ),\n                    }}\n                />\n                \n                <Typography variant=\"subtitle2\" sx={{ mt: 2, mb: 1, display: 'flex', alignItems: 'center' }}>\n                    💰 SALES\n                </Typography>\n                <MuiList dense sx={{ py: 0 }}>\n                    <ListItem disablePadding>\n                        <ListItemButton\n                            onClick={() => handleSalesFilter('sales_best', !filterValues.sales_best)}\n                            sx={{ py: 0.5 }}\n                        >\n                            <ListItemIcon sx={{ minWidth: 32 }}>\n                                {filterValues.sales_best && <CheckIcon fontSize=\"small\" color=\"primary\" />}\n                            </ListItemIcon>\n                            <ListItemText \n                                primary=\"Best sellers\"\n                                primaryTypographyProps={{ variant: 'body2' }}\n                            />\n                        </ListItemButton>\n                    </ListItem>\n                    <ListItem disablePadding>\n                        <ListItemButton\n                            onClick={() => handleSalesFilter('sales_average', !filterValues.sales_average)}\n                            sx={{ py: 0.5 }}\n                        >\n                            <ListItemIcon sx={{ minWidth: 32 }}>\n                                {filterValues.sales_average && <CheckIcon fontSize=\"small\" color=\"primary\" />}\n                            </ListItemIcon>\n                            <ListItemText \n                                primary=\"Average\"\n                                primaryTypographyProps={{ variant: 'body2' }}\n                            />\n                        </ListItemButton>\n                    </ListItem>\n                    <ListItem disablePadding>\n                        <ListItemButton\n                            onClick={() => handleSalesFilter('sales_low', !filterValues.sales_low)}\n                            sx={{ py: 0.5 }}\n                        >\n                            <ListItemIcon sx={{ minWidth: 32 }}>\n                                {filterValues.sales_low && <CheckIcon fontSize=\"small\" color=\"primary\" />}\n                            </ListItemIcon>\n                            <ListItemText \n                                primary=\"Low\"\n                                primaryTypographyProps={{ variant: 'body2' }}\n                            />\n                        </ListItemButton>\n                    </ListItem>\n                    <ListItem disablePadding>\n                        <ListItemButton\n                            onClick={() => handleSalesFilter('sales_never', !filterValues.sales_never)}\n                            sx={{ py: 0.5 }}\n                        >\n                            <ListItemIcon sx={{ minWidth: 32 }}>\n                                {filterValues.sales_never && <CheckIcon fontSize=\"small\" color=\"primary\" />}\n                            </ListItemIcon>\n                            <ListItemText \n                                primary=\"Never sold\"\n                                primaryTypographyProps={{ variant: 'body2' }}\n                            />\n                        </ListItemButton>\n                    </ListItem>\n                </MuiList>\n\n                <Typography variant=\"subtitle2\" sx={{ mt: 2, mb: 1, display: 'flex', alignItems: 'center' }}>\n                    📊 STOCK\n                </Typography>\n                <MuiList dense sx={{ py: 0 }}>\n                    <ListItem disablePadding>\n                        <ListItemButton\n                            onClick={() => handleStockFilter('stock_out', !filterValues.stock_out)}\n                            sx={{ py: 0.5 }}\n                        >\n                            <ListItemIcon sx={{ minWidth: 32 }}>\n                                {filterValues.stock_out && <CheckIcon fontSize=\"small\" color=\"primary\" />}\n                            </ListItemIcon>\n                            <ListItemText \n                                primary=\"Out of stock\"\n                                primaryTypographyProps={{ variant: 'body2' }}\n                            />\n                        </ListItemButton>\n                    </ListItem>\n                    <ListItem disablePadding>\n                        <ListItemButton\n                            onClick={() => handleStockFilter('stock_low', !filterValues.stock_low)}\n                            sx={{ py: 0.5 }}\n                        >\n                            <ListItemIcon sx={{ minWidth: 32 }}>\n                                {filterValues.stock_low && <CheckIcon fontSize=\"small\" color=\"primary\" />}\n                            </ListItemIcon>\n                            <ListItemText \n                                primary=\"1-9 items\"\n                                primaryTypographyProps={{ variant: 'body2' }}\n                            />\n                        </ListItemButton>\n                    </ListItem>\n                    <ListItem disablePadding>\n                        <ListItemButton\n                            onClick={() => handleStockFilter('stock_medium', !filterValues.stock_medium)}\n                            sx={{ py: 0.5 }}\n                        >\n                            <ListItemIcon sx={{ minWidth: 32 }}>\n                                {filterValues.stock_medium && <CheckIcon fontSize=\"small\" color=\"primary\" />}\n                            </ListItemIcon>\n                            <ListItemText \n                                primary=\"10-49 items\"\n                                primaryTypographyProps={{ variant: 'body2' }}\n                            />\n                        </ListItemButton>\n                    </ListItem>\n                    <ListItem disablePadding>\n                        <ListItemButton\n                            onClick={() => handleStockFilter('stock_high', !filterValues.stock_high)}\n                            sx={{ py: 0.5 }}\n                        >\n                            <ListItemIcon sx={{ minWidth: 32 }}>\n                                {filterValues.stock_high && <CheckIcon fontSize=\"small\" color=\"primary\" />}\n                            </ListItemIcon>\n                            <ListItemText \n                                primary=\"50 items and more\"\n                                primaryTypographyProps={{ variant: 'body2' }}\n                            />\n                        </ListItemButton>\n                    </ListItem>\n                </MuiList>\n                    \n                <Typography variant=\"subtitle2\" sx={{ mt: 2, mb: 1, display: 'flex', alignItems: 'center' }}>\n                    🏷️ CATEGORIES\n                </Typography>\n                {loadingCategories ? (\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                        Loading categories...\n                    </Typography>\n                ) : (\n                    <MuiList dense sx={{ py: 0 }}>\n                        {categories.map((category) => (\n                            <ListItem key={category.id} disablePadding>\n                                <ListItemButton\n                                    onClick={() => handleCategoryToggle(category.id)}\n                                    sx={{ py: 0.5 }}\n                                >\n                                    <ListItemIcon sx={{ minWidth: 32 }}>\n                                        {filterValues.category_id === category.id && <CheckIcon fontSize=\"small\" color=\"primary\" />}\n                                    </ListItemIcon>\n                                    <ListItemText \n                                        primary={category.name}\n                                        primaryTypographyProps={{ variant: 'body2' }}\n                                    />\n                                </ListItemButton>\n                            </ListItem>\n                        ))}\n                    </MuiList>\n                )}\n            </CardContent>\n        </Card>\n    );\n};\n\n\nconst ProductBulkActionButtons = () => (\n    <>\n        <BulkDeleteButton />\n        <BulkExportButton />\n    </>\n);\n\nconst ListActions = () => {\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('md'));\n    \n    return (\n        <TopToolbar>\n            {isSmall && <FilterButton />}\n            <SortButton fields={['name', 'price', 'created', 'updated']} />\n            <CreateButton />\n            <ExportButton />\n        </TopToolbar>\n    );\n};\n\nexport default ProductList;\n","import * as React from 'react';\nimport {\n    Edit,\n    SimpleForm,\n    TextInput,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    required,\n    useDefaultTitle,\n    useEditContext,\n    ArrayInput,\n    SimpleFormIterator,\n} from 'react-admin';\n\nconst RichTextInput = React.lazy(() =>\n    import('ra-input-rich-text').then(module => ({\n        default: module.RichTextInput,\n    }))\n);\n\nconst ProductTitle = () => {\n    const appTitle = useDefaultTitle();\n    const { defaultTitle } = useEditContext();\n    return (\n        <>\n            <title>{`${appTitle} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst ProductEdit = () => (\n    <Edit title={<ProductTitle />}>\n        <SimpleForm sx={{ maxWidth: '40em' }}>\n            <TextInput \n                source=\"name\" \n                validate={required()} \n                fullWidth \n            />\n            <TextInput \n                source=\"name_la\" \n                label=\"Name (Lao)\" \n                fullWidth \n            />\n            <React.Suspense fallback={<div>Loading...</div>}>\n                <RichTextInput \n                    source=\"description\" \n                    validate={required()} \n                    fullWidth \n                />\n            </React.Suspense>\n            <React.Suspense fallback={<div>Loading...</div>}>\n                <RichTextInput \n                    source=\"description_la\" \n                    label=\"Description (Lao)\" \n                    fullWidth \n                />\n            </React.Suspense>\n            <NumberInput \n                source=\"price\" \n                validate={required()} \n                min={0} \n                step={0.01} \n                fullWidth \n            />\n            <ReferenceInput\n                source=\"category_id\"\n                reference=\"categories\"\n            >\n                <SelectInput source=\"name\" fullWidth validate={required()} />\n            </ReferenceInput>\n            <ArrayInput source=\"image_url\" label=\"Image URLs\">\n                <SimpleFormIterator inline>\n                    <TextInput \n                        source=\"\" \n                        label=\"Image URL\" \n                        fullWidth\n                        helperText=\"Enter image URL\"\n                    />\n                </SimpleFormIterator>\n            </ArrayInput>\n            <React.Suspense fallback={<div>Loading...</div>}>\n                <RichTextInput \n                    source=\"details\" \n                    fullWidth \n                />\n            </React.Suspense>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default ProductEdit;\n","import * as React from 'react';\nimport {\n    Create,\n    SimpleForm,\n    TextInput,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    required,\n    useCreateContext,\n    useDefaultTitle,\n    ArrayInput,\n    SimpleFormIterator,\n} from 'react-admin';\n\nconst RichTextInput = React.lazy(() =>\n    import('ra-input-rich-text').then(module => ({\n        default: module.RichTextInput,\n    }))\n);\n\nconst ProductTitle = () => {\n    const appTitle = useDefaultTitle();\n    const { defaultTitle } = useCreateContext();\n\n    return (\n        <>\n            <title>{`${appTitle} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst ProductCreate = () => (\n    <Create title={<ProductTitle />}>\n        <SimpleForm sx={{ maxWidth: '40em' }}>\n            <TextInput \n                autoFocus \n                source=\"name\" \n                validate={required()} \n                fullWidth \n            />\n            <TextInput \n                source=\"name_la\" \n                label=\"Name (Lao)\" \n                fullWidth \n            />\n            <React.Suspense fallback={<div>Loading...</div>}>\n                <RichTextInput \n                    source=\"description\" \n                    validate={required()} \n                    fullWidth \n                />\n            </React.Suspense>\n            <React.Suspense fallback={<div>Loading...</div>}>\n                <RichTextInput \n                    source=\"description_la\" \n                    label=\"Description (Lao)\" \n                    fullWidth \n                />\n            </React.Suspense>\n            <NumberInput \n                source=\"price\" \n                validate={required()} \n                min={0} \n                step={0.01} \n                fullWidth \n            />\n            <ReferenceInput\n                source=\"category_id\"\n                reference=\"categories\"\n            >\n                <SelectInput source=\"name\" fullWidth validate={required()} />\n            </ReferenceInput>\n            <ArrayInput source=\"image_url\" label=\"Image URLs\">\n                <SimpleFormIterator inline>\n                    <TextInput \n                        source=\"\" \n                        label=\"Image URL\" \n                        fullWidth\n                        helperText=\"Enter image URL\"\n                    />\n                </SimpleFormIterator>\n            </ArrayInput>\n            <React.Suspense fallback={<div>Loading...</div>}>\n                <RichTextInput \n                    source=\"details\" \n                    fullWidth \n                />\n            </React.Suspense>\n        </SimpleForm>\n    </Create>\n);\n\nexport default ProductCreate;\n","import * as React from 'react';\nimport {\n    Show,\n    SimpleShowLayout,\n    TextField,\n    NumberField,\n    DateField,\n    ReferenceField,\n    ImageField,\n    useDefaultTitle,\n    useShowContext,\n    useRecordContext,\n} from 'react-admin';\nimport {\n    Box,\n    Card,\n    CardContent,\n    Typography,\n    Chip,\n    Grid,\n    Divider,\n    Paper,\n    CardMedia,\n    ImageList,\n    ImageListItem,\n} from '@mui/material';\nimport { AttachMoney, Category, CalendarToday, Inventory } from '@mui/icons-material';\n\nconst ProductTitle = () => {\n    const appTitle = useDefaultTitle();\n    const { defaultTitle } = useShowContext();\n    return (\n        <>\n            <title>{`${appTitle} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst ProductImage = () => {\n    const record = useRecordContext();\n    \n    if (!record) return null;\n    \n    const imageUrls = Array.isArray(record.image_url) ? record.image_url : [record.image_url];\n    const validImageUrls = imageUrls.filter(url => url && url.trim() !== '');\n    \n    if (validImageUrls.length === 0) {\n        return (\n            <CardMedia\n                component=\"img\"\n                image=\"/placeholder-product.svg\"\n                alt={record.name || 'Product image'}\n                sx={{ \n                    width: '100%', \n                    height: 'auto', \n                    borderRadius: 2,\n                    maxHeight: 400,\n                    objectFit: 'cover',\n                    bgcolor: 'grey.100'\n                }}\n            />\n        );\n    }\n    \n    if (validImageUrls.length === 1) {\n        return (\n            <CardMedia\n                component=\"img\"\n                image={validImageUrls[0]}\n                alt={record.name || 'Product image'}\n                sx={{ \n                    width: '100%', \n                    height: 'auto', \n                    borderRadius: 2,\n                    maxHeight: 400,\n                    objectFit: 'cover',\n                    bgcolor: 'grey.100'\n                }}\n                onError={(e: any) => {\n                    e.target.src = '/placeholder-product.svg';\n                }}\n            />\n        );\n    }\n    \n    return (\n        <ImageList variant=\"masonry\" cols={2} gap={8}>\n            {validImageUrls.map((imageUrl, index) => (\n                <ImageListItem key={index}>\n                    <CardMedia\n                        component=\"img\"\n                        image={imageUrl}\n                        alt={`${record.name || 'Product'} image ${index + 1}`}\n                        sx={{ \n                            width: '100%', \n                            height: 'auto', \n                            borderRadius: 2,\n                            objectFit: 'cover',\n                            bgcolor: 'grey.100'\n                        }}\n                        onError={(e: any) => {\n                            e.target.src = '/placeholder-product.svg';\n                        }}\n                    />\n                </ImageListItem>\n            ))}\n        </ImageList>\n    );\n};\n\nconst ProductShow = () => (\n    <Show title={<ProductTitle />}>\n        <Box sx={{ p: 2 }}>\n            <Grid container spacing={3}>\n                <Grid size={{ xs: 12, md: 5 }}>\n                    <Card sx={{ height: 'fit-content' }}>\n                        <CardContent>\n                            <ProductImage />\n                        </CardContent>\n                    </Card>\n                </Grid>\n                \n                <Grid size={{ xs: 12, md: 7 }}>\n                    <Card>\n                        <CardContent>\n                            <Box sx={{ mb: 3 }}>\n                                <TextField \n                                    source=\"name\" \n                                    sx={{ \n                                        '& .RaTextField-text': { \n                                            fontSize: '2rem', \n                                            fontWeight: 600, \n                                            color: 'primary.main',\n                                            mb: 1 \n                                        } \n                                    }} \n                                />\n                                <TextField \n                                    source=\"name_la\" \n                                    label=\"\"\n                                    sx={{ \n                                        '& .RaTextField-text': { \n                                            fontSize: '1.2rem', \n                                            color: 'text.secondary',\n                                            fontStyle: 'italic'\n                                        } \n                                    }} \n                                />\n                            </Box>\n\n                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                                <AttachMoney color=\"success\" sx={{ mr: 1 }} />\n                                <NumberField \n                                    source=\"price\" \n                                    sx={{ \n                                        '& .RaNumberField-text': { \n                                            fontSize: '1.5rem', \n                                            fontWeight: 600, \n                                            color: 'success.main' \n                                        } \n                                    }} \n                                />\n                            </Box>\n\n                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                                <Category color=\"primary\" sx={{ mr: 1 }} />\n                                <ReferenceField source=\"category_id\" reference=\"categories\">\n                                    <Chip label={<TextField source=\"name\" />} color=\"primary\" variant=\"outlined\" />\n                                </ReferenceField>\n                            </Box>\n\n                            <Divider sx={{ my: 2 }} />\n\n                            <Box sx={{ mb: 2 }}>\n                                <Typography variant=\"h6\" sx={{ mb: 1, color: 'text.primary' }}>\n                                    Description\n                                </Typography>\n                                <TextField \n                                    source=\"description\" \n                                    sx={{ \n                                        '& .RaTextField-text': { \n                                            lineHeight: 1.6,\n                                            color: 'text.secondary'\n                                        } \n                                    }} \n                                />\n                                <Box sx={{ mt: 1 }}>\n                                    <TextField \n                                        source=\"description_la\" \n                                        label=\"\"\n                                        sx={{ \n                                            '& .RaTextField-text': { \n                                                lineHeight: 1.6,\n                                                color: 'text.secondary',\n                                                fontStyle: 'italic'\n                                            } \n                                        }} \n                                    />\n                                </Box>\n                            </Box>\n\n                            {/* Additional Details Section */}\n                            <Paper sx={{ p: 2, backgroundColor: 'grey.50' }}>\n                                <Typography variant=\"h6\" sx={{ mb: 2, color: 'text.primary' }}>\n                                    Product Details\n                                </Typography>\n                                <TextField \n                                    source=\"details\" \n                                    sx={{ \n                                        '& .RaTextField-text': { \n                                            lineHeight: 1.6 \n                                        } \n                                    }} \n                                />\n                            </Paper>\n\n                            <Divider sx={{ my: 2 }} />\n\n                            <Grid container spacing={2}>\n                                <Grid size={{ xs: 6 }}>\n                                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                                        <CalendarToday fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n                                        <Box>\n                                            <Typography variant=\"caption\" display=\"block\" color=\"text.secondary\">\n                                                Created\n                                            </Typography>\n                                            <DateField source=\"created\" />\n                                        </Box>\n                                    </Box>\n                                </Grid>\n                                <Grid size={{ xs: 6 }}>\n                                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                                        <Inventory fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n                                        <Box>\n                                            <Typography variant=\"caption\" display=\"block\" color=\"text.secondary\">\n                                                Updated\n                                            </Typography>\n                                            <DateField source=\"updated\" />\n                                        </Box>\n                                    </Box>\n                                </Grid>\n                            </Grid>\n                        </CardContent>\n                    </Card>\n                </Grid>\n            </Grid>\n        </Box>\n    </Show>\n);\n\nexport default ProductShow;","import ProductIcon from '@mui/icons-material/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\nimport ProductShow from './ProductShow';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    show: ProductShow,\n    icon: ProductIcon,\n    recordRepresentation: (record: any) => record.name || `Product ${record.id}`,\n};\n","import * as React from 'react';\nimport Button from '@mui/material/Button';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useRecordContext } from 'react-admin';\nimport queryString from 'query-string';\n\nimport products from '../products';\nimport { Category } from '../types';\n\nconst LinkToRelatedProducts = () => {\n    const record = useRecordContext<Category>();\n    const translate = useTranslate();\n    if (!record) return null;\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/products',\n                search: queryString.stringify({\n                    filter: { category_id: record.id },\n                }),\n            }}\n            sx={{ display: 'inline-flex', alignItems: 'center' }}\n        >\n            <products.icon sx={{ paddingRight: '0.5em' }} />\n            {translate('resources.categories.fields.products')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedProducts;\n","import * as React from 'react';\nimport {\n    EditButton,\n    List,\n    RecordContextProvider,\n    useDefaultTitle,\n    useListContext,\n} from 'react-admin';\nimport {\n    Grid,\n    Card,\n    CardMedia,\n    CardContent,\n    CardActions,\n    Typography,\n} from '@mui/material';\nimport { humanize } from 'inflection';\n\nimport LinkToRelatedProducts from './LinkToRelatedProducts';\nimport { Category } from '../types';\n\nconst CategoriesTitle = () => {\n    const title = useDefaultTitle();\n    const { defaultTitle } = useListContext();\n    return (\n        <>\n            <title>{`${title} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst CategoryList = () => (\n    <List\n        sort={{ field: 'name', order: 'ASC' }}\n        perPage={20}\n        pagination={false}\n        component=\"div\"\n        actions={false}\n        title={<CategoriesTitle />}\n    >\n        <CategoryGrid />\n    </List>\n);\n\nconst CategoryGrid = () => {\n    const { data, error, isPending } = useListContext<Category>();\n    if (isPending) {\n        return null;\n    }\n    if (error) {\n        return null;\n    }\n    return (\n        <Grid container spacing={2} sx={{ mt: 0 }}>\n            {data.map(record => (\n                <RecordContextProvider key={record.id} value={record}>\n                    <Grid\n                        key={record.id}\n                        size={{ xs: 12, sm: 6, md: 4, lg: 3, xl: 2 }}\n                    >\n                        <Card>\n                            <CardMedia\n                                image={`https://marmelab.com/posters/${record.name}-1.jpeg`}\n                                sx={{ height: 140 }}\n                            />\n                            <CardContent sx={{ paddingBottom: '0.5em' }}>\n                                <Typography\n                                    variant=\"h5\"\n                                    component=\"h2\"\n                                    align=\"center\"\n                                >\n                                    {humanize(record.name)}\n                                </Typography>\n                            </CardContent>\n                            <CardActions\n                                sx={{\n                                    '.MuiCardActions-spacing': {\n                                        display: 'flex',\n                                        justifyContent: 'space-around',\n                                    },\n                                }}\n                            >\n                                <LinkToRelatedProducts />\n                                <EditButton />\n                            </CardActions>\n                        </Card>\n                    </Grid>\n                </RecordContextProvider>\n            ))}\n        </Grid>\n    );\n};\n\nexport default CategoryList;\n","import * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { useRecordContext } from 'react-admin';\nimport { Product } from '../types';\n\nconst Img = styled('img')({\n    width: 25,\n    maxWidth: 25,\n    maxHeight: 25,\n    verticalAlign: 'middle',\n});\n\nconst ThumbnailField = (_: { source: string; label?: string }) => {\n    const record = useRecordContext<Product>();\n    if (!record) return null;\n    return <Img src={record.thumbnail} alt=\"\" />;\n};\n\nexport default ThumbnailField;\n","import * as React from 'react';\nimport { useRecordContext, Link } from 'react-admin';\nimport { Product } from '../types';\n\nconst ProductRefField = (_: { source: string }) => {\n    const record = useRecordContext<Product>();\n    return record ? (\n        <Link to={`/products/${record.id}`}>{record.reference}</Link>\n    ) : null;\n};\n\nexport default ProductRefField;\n","import * as React from 'react';\nimport {\n    DataTable,\n    Edit,\n    EditButton,\n    Labeled,\n    ReferenceManyField,\n    SimpleForm,\n    TextInput,\n    useDefaultTitle,\n    useEditContext,\n} from 'react-admin';\n\nimport { type Product } from '../types';\nimport ThumbnailField from '../products/ThumbnailField';\nimport ProductRefField from '../products/ProductRefField';\n\nconst Column = DataTable.Col<Product>;\nconst ColumnNumber = DataTable.NumberCol<Product>;\n\nconst CategoryEdit = () => (\n    <Edit title={<CategoryTitle />}>\n        <SimpleForm>\n            <TextInput source=\"name\" />\n            <Labeled label=\"resources.categories.fields.products\" fullWidth>\n                <ReferenceManyField\n                    reference=\"products\"\n                    target=\"category_id\"\n                    perPage={20}\n                >\n                    <DataTable>\n                        <Column\n                            sx={{ width: 25, padding: 0 }}\n                            field={ThumbnailField}\n                            label={false}\n                        />\n                        <Column source=\"reference\" field={ProductRefField} />\n                        <ColumnNumber\n                            source=\"price\"\n                            options={{ style: 'currency', currency: 'USD' }}\n                        />\n                        <ColumnNumber\n                            source=\"width\"\n                            options={{ minimumFractionDigits: 2 }}\n                        />\n                        <ColumnNumber\n                            source=\"height\"\n                            options={{ minimumFractionDigits: 2 }}\n                        />\n                        <ColumnNumber source=\"stock\" />\n                        <ColumnNumber source=\"sales\" />\n                        <Column align=\"right\">\n                            <EditButton />\n                        </Column>\n                    </DataTable>\n                </ReferenceManyField>\n            </Labeled>\n        </SimpleForm>\n    </Edit>\n);\n\nconst CategoryTitle = () => {\n    const appTitle = useDefaultTitle();\n    const { defaultTitle } = useEditContext();\n    return (\n        <>\n            <title>{`${appTitle} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nexport default CategoryEdit;\n","import CategoryIcon from '@mui/icons-material/Bookmark';\n\nimport CategoryList from './CategoryList';\nimport CategoryEdit from './CategoryEdit';\n\nexport default {\n    list: CategoryList,\n    edit: CategoryEdit,\n    icon: CategoryIcon,\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { fetchAllPocketbaseDocuments } from '../api/pocketbase';\nimport { CurrencyItem } from '../model/currency';\n\nexport const useCurrency = () => {\n  const { data: currencies } = useQuery({\n    queryKey: ['currencies'],\n    queryFn: async () => {\n      return await fetchAllPocketbaseDocuments<CurrencyItem>('currency');\n    },\n  });\n\n  return {\n    currencies,\n  };\n};\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { useCurrency } from '../../hooks/useCurrency';\n\ninterface CurrencyContextType {\n  displayCurrency: string;\n  currency: string;\n  rate: number;\n  convert: (value: number) => number;\n  setCurrency: (ccy: string) => void;\n}\n\nconst CurrencyContext = createContext<CurrencyContextType | undefined>(\n  undefined\n);\n\nexport const CurrencyProvider: React.FC<{ children: React.ReactNode }> = ({\n  children,\n}) => {\n  const { currencies } = useCurrency();\n  const [currency, setCurrency] = useState<string>('USD');\n  const [rate, setRate] = useState<number>(1);\n  const displayCurrency = useMemo(() => {\n    switch (currency) {\n      case 'THB':\n        return '฿';\n      case 'USD':\n        return '$';\n      case 'LAK':\n        return 'LAK';\n      default:\n        return currency;\n    }\n  }, [currency]);\n\n  useEffect(() => {\n    const selected = currencies?.find(\n      (c) => c?.ccy === currency && c?.type === 'SELL'\n    );\n    if (selected) {\n      setRate(Number(selected.rate));\n    }\n  }, [currency, currencies]);\n\n  const convert = useCallback(\n    (value: number) => {\n      return value / rate;\n    },\n    [rate]\n  );\n\n  return (\n    <CurrencyContext.Provider\n      value={{ currency, displayCurrency, rate, convert, setCurrency }}\n    >\n      {children}\n    </CurrencyContext.Provider>\n  );\n};\n\nexport const useCurrencyContext = () => {\n  const context = useContext(CurrencyContext);\n  if (!context) {\n    throw new Error(\n      'useCurrencyContext must be used within a CurrencyProvider'\n    );\n  }\n  return context;\n};\n\nexport const formatCurrency = (value: number, locale = 'en-US') => {\n  const hasFraction = value % 1 !== 0;\n  return new Intl.NumberFormat(locale, {\n    style: 'decimal',\n    minimumFractionDigits: hasFraction ? 2 : 0,\n    maximumFractionDigits: 2,\n  }).format(value);\n};\n","import { localStorageData } from \"./cache\";\n\nexport const formatCurrency = (value: number, locale = 'en-US') => {\n  const roundedValue = value % 1 >= 0.5 ? Math.ceil(value) : Math.floor(value);\n  return new Intl.NumberFormat(locale, {\n    style: 'decimal',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(roundedValue);\n};\nexport const formattedDate = (date: string) => {\n  const options: Intl.DateTimeFormatOptions = {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n  };\n  return new Date(date).toLocaleDateString('en-GB', options);\n};\n\nexport function formatDateDMY(dateStr: string | Date): string {\n  const date = new Date(dateStr);\n  const day = date.getDate();\n  const month = String(date.getMonth() + 1).padStart(2, '0');\n  const year = date.getFullYear();\n  return `${day}-${month}-${year}`;\n}\n\nexport const viewAvatar = (avatar?: string) => {\n  const avatarUrl = avatar?.startsWith('http')\n    ? avatar\n    : `${process.env.BASE_URL}/api/files/_pb_users_auth_/${localStorageData('customer_id').getLocalStrage()}/${avatar}?token=${localStorageData('token').getLocalStrage()}`;\n  return avatarUrl;\n};\n\nexport const cleanedDescription = (description: string, maxLines = 5) => {\n  const cleaned = description\n    ?.replace(/\\r\\n/g, '<div style=\"height: 7px\"></div>')\n    ?.replace(/<h1>/g, '<h1 style=\"font-weight: bold;\">')\n    ?.replace(/<\\/h1>/g, '</h1>')\n    ?.replace(/<h2>/g, '<h1 style=\"font-weight: bold;\">');\n\n  // Create a temporary DOM element to parse the HTML and extract text content\n  const tempDiv = document.createElement('div');\n  tempDiv.innerHTML = cleaned || '';\n  const textContent = tempDiv.textContent || '';\n\n  const lines = textContent.split('\\n').slice(0, maxLines).join('\\n');\n  return `<div style=\"display: -webkit-box; -webkit-line-clamp: ${maxLines}; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; padding: 0; margin: 0;\">${lines}</div>`;\n};\n","import * as React from 'react';\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Chip,\n  Typography,\n  Box,\n} from '@mui/material';\nimport { format, parseISO } from 'date-fns';\nimport { useCurrencyContext } from '../components/CurrencySelector/CurrencyProvider';\nimport { formatCurrency } from '../utils/format';\n\ninterface OrderItem {\n  id: string;\n  referenceID: string;\n  customerID: string;\n  customerName: string;\n  phoneNumber: string;\n  address: string;\n  status: string;\n  quantity: number;\n  amountLAK: string;\n  amountTHB: string;\n  amountUSD: string;\n  created: string;\n  updated: string;\n}\n\ninterface OrderListData {\n  items: OrderItem[];\n  page: number;\n  perPage: number;\n  totalItems: number;\n  totalPages: number;\n}\n\ninterface Props {\n  data: OrderListData;\n}\n\nconst OrderPendingList: React.FC<Props> = ({ data }) => {\n  if (!data || !data.items || data.items.length === 0) {\n    return (\n      <Card elevation={3} sx={{ borderRadius: 3, p: 2 }}>\n        <CardHeader\n          title='Pending Orders'\n          titleTypographyProps={{ fontWeight: 'bold', fontSize: 18 }}\n        />\n        <CardContent>\n          <Typography variant='body2' color='text.secondary'>\n            No pending orders\n          </Typography>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const formatDate = (dateString: string) => {\n    try {\n      return format(parseISO(dateString), 'MMM dd, yyyy HH:mm');\n    } catch {\n      return dateString;\n    }\n  };\n\n  const { currency } = useCurrencyContext();\n\n  return (\n    <Card sx={{ borderRadius: '10px', p: 2 }}>\n      <CardHeader\n        sx={{ mt: -1 }}\n        title={`Pending Orders (${data.totalItems})`}\n        subheader={`Showing ${data.items.length} of ${data.totalItems} orders`}\n        titleTypographyProps={{ fontWeight: 'bold', fontSize: 18 }}\n        subheaderTypographyProps={{ color: 'text.secondary' }}\n      />\n      <CardContent sx={{ padding: 0 }}>\n        <Box sx={{ overflowX: 'auto', maxWidth: 630, mx: 'auto' }}>\n          <TableContainer>\n            <Table size='small' sx={{ minWidth: '800px' }}>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Reference ID</TableCell>\n                  <TableCell>Customer</TableCell>\n                  <TableCell>Quantity</TableCell>\n                  <TableCell>Amount</TableCell>\n                  <TableCell>Status</TableCell>\n                  <TableCell>Created</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {data.items.map((order, index) => (\n                  <TableRow\n                    key={order.id}\n                    hover\n                    sx={{\n                      backgroundColor: index % 2 === 0 ? '#fafafa' : 'inherit',\n                    }}\n                  >\n                    <TableCell>\n                      <Box>\n                        <Typography variant='body2' fontWeight='medium'>\n                          {order.referenceID}\n                        </Typography>\n                      </Box>\n                    </TableCell>\n                    <TableCell>\n                      <Box display='flex' flexDirection='column'>\n                        <Typography variant='body2' fontWeight='medium'>\n                          {order.customerName}\n                        </Typography>\n                      </Box>\n                    </TableCell>\n                    <TableCell>\n                      <Typography variant='body2'>{order.quantity}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Box>\n                        <Typography variant='body2' fontWeight='medium'>\n                          {currency === 'USD' &&\n                            order?.amountUSD &&\n                            `${formatCurrency(Number(order?.amountUSD))} $`}\n                          {currency === 'THB' &&\n                            order?.amountTHB &&\n                            `${formatCurrency(Number(order?.amountTHB))} ฿`}\n                          {currency === 'LAK' &&\n                            order?.amountLAK &&\n                            `${formatCurrency(Number(order?.amountLAK))} ₭`}\n                        </Typography>\n                      </Box>\n                    </TableCell>\n                    <TableCell>\n                      <Chip\n                        label={order.status}\n                        color={\n                          order.status === 'pending'\n                            ? 'warning'\n                            : order.status === 'completed'\n                            ? 'success'\n                            : 'default'\n                        }\n                        size='small'\n                        variant='filled'\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Typography variant='caption' color='text.secondary'>\n                        {formatDate(order.created)}\n                      </Typography>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default OrderPendingList;\n","import React, { useState } from 'react';\nimport {\n  Box,\n  FormControlLabel,\n  Checkbox,\n  TextField,\n  IconButton,\n  Collapse,\n  Typography,\n} from '@mui/material';\nimport { FilterList, Close } from '@mui/icons-material';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport dayjs, { Dayjs } from 'dayjs';\n\ninterface FilterParams {\n  isYear: boolean;\n  startDate?: string;\n  endDate?: string;\n}\n\ninterface Props {\n  onFilterChange: (params: FilterParams) => void;\n}\n\nconst RevenueFilter: React.FC<Props> = ({ onFilterChange }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isMonthChecked, setIsMonthChecked] = useState(false);\n  const [isYearChecked, setIsYearChecked] = useState(false);\n  const [startDate, setStartDate] = useState<Dayjs | null>(dayjs().subtract(30, 'day'));\n  const [endDate, setEndDate] = useState<Dayjs | null>(dayjs());\n\n  const handleMonthCheck = (checked: boolean) => {\n    setIsMonthChecked(checked);\n    if (checked) {\n      setIsYearChecked(false);\n    }\n    onFilterChange({\n      isYear: checked ? false : isYearChecked,\n      ...(checked ? {} : {\n        startDate: startDate?.format('YYYY-MM-DD'),\n        endDate: endDate?.format('YYYY-MM-DD'),\n      })\n    });\n  };\n\n  const handleYearCheck = (checked: boolean) => {\n    setIsYearChecked(checked);\n    if (checked) {\n      setIsMonthChecked(false);\n    }\n    onFilterChange({\n      isYear: checked ? true : false,\n      ...(checked ? {} : {\n        startDate: startDate?.format('YYYY-MM-DD'),\n        endDate: endDate?.format('YYYY-MM-DD'),\n      })\n    });\n  };\n\n  const handleDateChange = () => {\n    if (startDate && endDate) {\n      onFilterChange({\n        isYear: isYearChecked,\n        ...(!isMonthChecked && !isYearChecked ? {\n          startDate: startDate.format('YYYY-MM-DD'),\n          endDate: endDate.format('YYYY-MM-DD'),\n        } : {})\n      });\n    }\n  };\n\n  React.useEffect(() => {\n    handleDateChange();\n  }, [startDate, endDate, isYearChecked, isMonthChecked]);\n\n  return (\n    <LocalizationProvider dateAdapter={AdapterDayjs}>\n      <Box sx={{ position: 'relative' }}>\n        <IconButton\n          onClick={() => setIsOpen(!isOpen)}\n          sx={{ \n            color: '#666',\n            border: '1px solid #e0e0e0',\n            borderRadius: 1,\n            p: 1,\n          }}\n        >\n          {isOpen ? <Close /> : <FilterList />}\n        </IconButton>\n\n        <Collapse in={isOpen}>\n          <Box\n            sx={{\n              position: 'absolute',\n              top: '100%',\n              right: 0,\n              mt: 1,\n              p: 2,\n              bgcolor: 'white',\n              border: '1px solid #e0e0e0',\n              borderRadius: 2,\n              boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n              minWidth: 320,\n              zIndex: 1000,\n            }}\n          >\n            <Typography variant=\"subtitle2\" sx={{ mb: 2, fontWeight: 600 }}>\n              Filter Options\n            </Typography>\n\n            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={isMonthChecked}\n                    onChange={(e) => handleMonthCheck(e.target.checked)}\n                  />\n                }\n                label=\"Month\"\n              />\n              \n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={isYearChecked}\n                    onChange={(e) => handleYearCheck(e.target.checked)}\n                  />\n                }\n                label=\"Year\"\n              />\n\n              <Typography variant=\"subtitle2\" sx={{ mt: 2, mb: 1, fontWeight: 600 }}>\n                Date Range\n              </Typography>\n              \n              <DatePicker\n                label=\"Start Date\"\n                value={startDate}\n                onChange={(newValue) => setStartDate(newValue)}\n                slotProps={{ textField: { size: 'small' } }}\n              />\n              \n              <DatePicker\n                label=\"End Date\"\n                value={endDate}\n                onChange={(newValue) => setEndDate(newValue)}\n                slotProps={{ textField: { size: 'small' } }}\n              />\n            </Box>\n          </Box>\n        </Collapse>\n      </Box>\n    </LocalizationProvider>\n  );\n};\n\nexport default RevenueFilter;","import {\n  Box,\n  Card,\n  CardContent,\n  CardHeader,\n  CircularProgress,\n  Grid,\n  Typography,\n} from '@mui/material';\nimport React, { useState } from 'react';\nimport {\n  CartesianGrid,\n  Line,\n  LineChart,\n  ResponsiveContainer,\n  XAxis,\n  YAxis,\n} from 'recharts';\nimport RevenueFilter from './RevenueFilter';\n\ninterface SellRevenueData {\n  year: number;\n  month: number;\n  amountLAK: string;\n  amountUSD: string;\n  amountTHB: string;\n}\n\ninterface FilterParams {\n  isYear: boolean;\n  startDate?: string;\n  endDate?: string;\n  month?: number;\n  year?: number;\n}\n\ninterface Props {\n  data: SellRevenueData[];\n  onFilterChange?: (params: FilterParams) => void;\n  loading?: boolean;\n}\n\nconst SellRevenueChart: React.FC<Props> = ({ data, onFilterChange, loading }) => {\n\n  const defaultData: SellRevenueData[] = [\n    {\n      year: 2025,\n      month: 6,\n      amountLAK: '15000000',\n      amountUSD: '1000',\n      amountTHB: '35000',\n    },\n  ];\n\n  const finalData = data && data.length > 0 ? data : defaultData;\n\n  const fillMissingMonths = (data: SellRevenueData[]): SellRevenueData[] => {\n    const year = data[0]?.year ?? new Date().getFullYear();\n    const monthMap = new Map(data.map((item) => [item.month, item]));\n\n    const fullData: SellRevenueData[] = [];\n    for (let m = 1; m <= 12; m++) {\n      if (monthMap.has(m)) {\n        fullData.push(monthMap.get(m)!);\n      } else {\n        fullData.push({\n          year,\n          month: m,\n          amountLAK: '0',\n          amountUSD: '0',\n          amountTHB: '0',\n        });\n      }\n    }\n\n    return fullData;\n  };\n\n  const filledData = fillMissingMonths(finalData);\n\n  // Transform data for the chart\n  const chartData = filledData.map((item, index) => ({\n    date: `${String(item.month).padStart(2, '0')}/${String(item.year).slice(\n      -2\n    )}`,\n    usd: Number.parseFloat(item.amountUSD),\n    thb: Number.parseFloat(item.amountTHB),\n    lak: Number.parseInt(item.amountLAK) / 1000, // Convert to thousands for better visualization\n    day: index + 1,\n  }));\n\n  // Generate sample 30-day data if we don't have enough data points\n  const generateSampleData = () => {\n    const sampleData = [];\n    const baseUSD = Number.parseFloat(finalData[0]?.amountUSD || '800');\n\n    for (let i = 1; i <= 30; i++) {\n      const variation = Math.sin(i * 0.2) * 300 + Math.random() * 200 - 100;\n      const usdValue = Math.max(400, baseUSD + variation);\n\n      sampleData.push({\n        date: `${String(finalData[0]?.month).padStart(2, '0')}/${String(\n          finalData[0]?.year\n        ).slice(-2)}`,\n        usd: Math.round(usdValue),\n        day: i,\n      });\n    }\n    return sampleData;\n  };\n\n  const displayData = chartData.length >= 10 ? chartData : generateSampleData();\n\n  return (\n    <Card className='w-full'>\n      <CardHeader\n        title={\n          <Typography\n            variant='h6'\n            sx={{ fontWeight: 'bold', textAlign: 'start' }}\n          >\n            30 Day Revenue History\n          </Typography>\n        }\n        action={\n          onFilterChange && <RevenueFilter onFilterChange={onFilterChange} />\n        }\n      />\n      <CardContent>\n        <Box sx={{ height: 320, width: '100%', position: 'relative' }}>\n          {loading && (\n            <Box\n              sx={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                backgroundColor: 'rgba(255, 255, 255, 0.8)',\n                zIndex: 1,\n              }}\n            >\n              <CircularProgress />\n            </Box>\n          )}\n          <ResponsiveContainer width='100%' height='100%'>\n            <LineChart\n              data={displayData}\n              margin={{\n                top: 0,\n                right: 0,\n                left: -10,\n                bottom: 10,\n              }}\n            >\n              <CartesianGrid\n                strokeDasharray='3 3'\n                stroke='#f0f0f0'\n                horizontal={true}\n                vertical={false}\n              />\n              <XAxis\n                dataKey='date'\n                axisLine={false}\n                tickLine={false}\n                tick={{ fontSize: 12, fill: '#666' }}\n                interval='preserveStartEnd'\n              />\n              <YAxis\n                axisLine={false}\n                tickLine={false}\n                tick={{ fontSize: 12, fill: '#666' }}\n                tickFormatter={(value) => `$${value}`}\n                domain={[0, 2000]}\n                ticks={[0, 500, 1000, 1500, 2000]}\n              />\n              <Line\n                type='monotone'\n                dataKey='usd'\n                stroke='#D4A574'\n                strokeWidth={3}\n                dot={false}\n                activeDot={{ r: 4, fill: '#D4A574' }}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </Box>\n\n        {/* Revenue Summary Cards */}\n        <Grid container spacing={2} mt={1}>\n          <Grid\n            size={{\n              xs: 12,\n              md: 4,\n            }}\n          >\n            <Box\n              sx={{\n                textAlign: 'center',\n                p: 2,\n                backgroundColor: '#f9fafb',\n                borderRadius: 2,\n              }}\n            >\n              <Typography variant='body2' color='text.secondary' mb={1}>\n                LAK\n              </Typography>\n              <Typography variant='h6' color='#a67c00'>\n                {Number.parseInt(\n                  finalData[0]?.amountLAK || '0'\n                ).toLocaleString()}{' '}\n                ₭\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid\n            size={{\n              xs: 12,\n              md: 4,\n            }}\n          >\n            <Box\n              sx={{\n                textAlign: 'center',\n                p: 2,\n                backgroundColor: '#f9fafb',\n                borderRadius: 2,\n              }}\n            >\n              <Typography variant='body2' color='text.secondary' mb={1}>\n                USD\n              </Typography>\n              <Typography variant='h6' color='#a67c00'>\n                ${Number.parseFloat(finalData[0]?.amountUSD || '0').toFixed(2)}\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid\n            size={{\n              xs: 12,\n              md: 4,\n            }}\n          >\n            <Box\n              sx={{\n                textAlign: 'center',\n                p: 2,\n                backgroundColor: '#f9fafb',\n                borderRadius: 2,\n              }}\n            >\n              <Typography variant='body2' color='text.secondary' mb={1}>\n                THB\n              </Typography>\n              <Typography variant='h6' color='#a67c00'>\n                ฿{Number.parseFloat(finalData[0]?.amountTHB || '0').toFixed(2)}\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default SellRevenueChart;\n","import {\n  Cancel as CancelIcon,\n  AttachMoney as MoneyIcon,\n} from '@mui/icons-material';\nimport AttachMoneyIcon from '@mui/icons-material/AttachMoney';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport PersonAddRoundedIcon from '@mui/icons-material/PersonAddRounded';\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\nimport { Box, Card, CardContent, Grid, Typography } from '@mui/material';\nimport * as React from 'react';\nimport { SellRevenue } from '../model/dashboard';\nimport { useCurrencyContext } from '../components/CurrencySelector/CurrencyProvider';\nimport { formatCurrency } from '../utils/format';\n\ninterface OrderStatusCount {\n  pending: number;\n  accepted: number;\n  delivering: number;\n  completed: number;\n  cancel: number;\n}\n\ninterface SellAmount {\n  amountLAK: string;\n  amountUSD: string;\n  amountTHB: string;\n}\n\ninterface Props {\n  sellRevenue: SellRevenue;\n  orderStatusCount: OrderStatusCount;\n  customerCount: number;\n  sellAmount: SellAmount;\n}\n\nconst ModernStatusCard: React.FC<{\n  title: string;\n  value: number | string;\n  icon: React.ReactNode;\n  color: string;\n  bgColor: string;\n}> = ({ title, value, icon }) => (\n  <Card\n    sx={{\n      height: '100%',\n      borderRadius: 2,\n      backgroundColor: '#fff',\n      border: '1px solid #ece7df',\n      boxShadow: 'none',\n      px: 3,\n      py: 3,\n      position: 'relative',\n      overflow: 'hidden',\n      display: 'flex',\n      alignItems: 'center',\n    }}\n  >\n    {/* Background shape */}\n    <Box\n      sx={{\n        position: 'absolute',\n        left: -60,\n        top: 0,\n        bottom: 0,\n        width: 170,\n        backgroundColor: '#fef1dc',\n        borderTopRightRadius: 100,\n        borderBottomRightRadius: 180,\n      }}\n    />\n    {/* Icon */}\n    <Box\n      sx={{\n        position: 'relative',\n        width: 48,\n        height: 48,\n        minWidth: 48,\n        borderRadius: '50%',\n        backgroundColor: '#fef1dc',\n        color: '#D4AF37',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        fontSize: 22,\n        zIndex: 1,\n        ml: -1,\n        mr: 3,\n        mt: 1,\n      }}\n    >\n      {icon}\n    </Box>\n    {/* Text */}\n    <Box\n      sx={{\n        ml: 5,\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-end',\n      }}\n    >\n      <Typography\n        variant='body2'\n        sx={{ fontSize: '0.9rem', color: '#7b7462', fontWeight: 500 }}\n      >\n        {title}\n      </Typography>\n      <Typography\n        variant='h6'\n        sx={{ fontSize: '1.5rem', color: '#000', fontWeight: 700 }}\n      >\n        {value}\n      </Typography>\n    </Box>\n  </Card>\n);\n\nconst StatusCountCards: React.FC<Props> = ({\n  sellRevenue,\n  orderStatusCount,\n  customerCount,\n}) => {\n  const { currency } = useCurrencyContext();\n\n  return (\n    <Grid container spacing={3}>\n      <Grid size={{ xs: 12, sm: 6, lg: 4 }}>\n        <ModernStatusCard\n          title='Monthly Revenue'\n          value={\n            currency === 'USD' && sellRevenue?.amountUSD\n              ? `${formatCurrency(Number(sellRevenue?.amountUSD))} $`\n              : currency === 'THB' && sellRevenue?.amountTHB\n              ? `${formatCurrency(Number(sellRevenue?.amountTHB))} ฿`\n              : currency === 'LAK' && sellRevenue?.amountLAK\n              ? `${formatCurrency(Number(sellRevenue?.amountLAK))} ₭`\n              : ''\n          }\n          icon={\n            <Box>\n              <AttachMoneyIcon sx={{ fontSize: 35 }} />\n            </Box>\n          }\n          color='#607d8b'\n          bgColor='#607d8b'\n        />\n      </Grid>\n      <Grid size={{ xs: 12, sm: 6, lg: 4 }}>\n        <ModernStatusCard\n          title='Total Customers'\n          value={customerCount}\n          icon={\n            <Box>\n              <PersonAddRoundedIcon sx={{ fontSize: 35 }} />\n            </Box>\n          }\n          color='#607d8b'\n          bgColor='#607d8b'\n        />\n      </Grid>\n      <Grid size={{ xs: 12, sm: 6, lg: 4 }}>\n        <ModernStatusCard\n          title='Pending Orders'\n          value={orderStatusCount.pending}\n          icon={\n            <Box>\n              <ShoppingCartIcon sx={{ fontSize: 35 }} />\n            </Box>\n          }\n          color='#090909'\n          bgColor='#ff9800'\n        />\n      </Grid>\n      <Grid size={{ xs: 12, sm: 6, lg: 3 }}>\n        <ModernStatusCard\n          title='Accepted Orders'\n          value={orderStatusCount.accepted}\n          icon={\n            <Box sx={{ fontSize: 35 }}>\n              <svg\n                xmlns='http://www.w3.org/2000/svg'\n                width='1em'\n                height='1em'\n                viewBox='0 0 24 24'\n              >\n                <g fill='currentColor'>\n                  <path d='m16.414 10.979l-1.436-1.393l-2.88 2.97l-1.062-1.118l-1.45 1.377l2.498 2.63z' />\n                  <path\n                    fillRule='evenodd'\n                    d='M6 4a2 2 0 0 1 2-2h8.107l2.146 2.342L21 7.638V17a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2zm8.667 0H8v13h11V9h-2.333a2 2 0 0 1-2-2zm2 1.57l.08.088L17.865 7h-1.198z'\n                    clipRule='evenodd'\n                  />\n                  <path d='M5 5.5v1H3v-1zM16.5 22h-9c-1.026 0-2.13-.454-2.975-1.201C3.662 20.035 3 18.9 3 17.5v-11h2v11c0 .731.338 1.347.85 1.8c.53.47 1.176.7 1.65.7h9zm0-2h1v2h-1z' />\n                </g>\n              </svg>\n            </Box>\n          }\n          color='#2196f3'\n          bgColor='#2196f3'\n        />\n      </Grid>\n      <Grid size={{ xs: 12, sm: 6, lg: 3 }}>\n        <ModernStatusCard\n          title='Orders Delivering'\n          value={orderStatusCount.delivering}\n          icon={\n            <Box sx={{ fontSize: 35 }}>\n              <svg\n                xmlns='http://www.w3.org/2000/svg'\n                width='1em'\n                height='1em'\n                viewBox='0 0 24 24'\n              >\n                <path\n                  fill='currentColor'\n                  d='M21.5 2h-14v7.842a5 5 0 0 1 .94-.092h4.685a4.375 4.375 0 0 1 4.093 2.83l1.964-.452a4.06 4.06 0 0 1 2.318.088zm-9 2h4v4l-2-1.5l-2 1.5z'\n                />\n                <path\n                  fill='currentColor'\n                  d='m19.54 13.585l-3.553.817a2.87 2.87 0 0 0-.83-2.31a2.88 2.88 0 0 0-2.032-.842H8.439a3.25 3.25 0 0 0-2.301.948L4.086 14.25H0v7.25h11.373l6.197-1.55l3.74-1.594l.026-.014a2.555 2.555 0 0 0-1.797-4.757m-11.584-.24a1.3 1.3 0 0 1 .479-.095h4.69a.875.875 0 1 1 0 1.75H10v2h3.614l6.412-1.475l.02-.005a.556.556 0 0 1 .416 1.022L16.93 18.05l-5.803 1.45H5.5v-3.836l2.05-2.05a1.3 1.3 0 0 1 .406-.27M2 16.25h1.5v3.25H2z'\n                />\n              </svg>\n            </Box>\n          }\n          color='#9c27b0'\n          bgColor='#9c27b0'\n        />\n      </Grid>\n      <Grid size={{ xs: 12, sm: 6, lg: 3 }}>\n        <ModernStatusCard\n          title='Completed Orders'\n          value={orderStatusCount.completed}\n          icon={\n            <Box sx={{ fontSize: 35 }}>\n              <CheckCircleIcon fontSize='inherit' />\n            </Box>\n          }\n          color='#4caf50'\n          bgColor='#4caf50'\n        />\n      </Grid>\n      <Grid size={{ xs: 12, sm: 6, lg: 3 }}>\n        <ModernStatusCard\n          title='Cancelled Orders'\n          value={orderStatusCount.cancel}\n          icon={\n            <Box sx={{ fontSize: 35 }}>\n              <CancelIcon fontSize='inherit' />\n            </Box>\n          }\n          color='#f44336'\n          bgColor='#f44336'\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default StatusCountCards;\n","import { useState, useEffect } from 'react';\nimport pb from '../api/pocketbase';\n\ninterface SellRevenueData {\n  year: number;\n  month: number;\n  amountLAK: string;\n  amountTHB: string;\n  amountUSD: string;\n}\n\ninterface OrderItem {\n  id: string;\n  referenceID: string;\n  customerID: string;\n  customerName: string;\n  phoneNumber: string;\n  address: string;\n  status: string;\n  quantity: number;\n  amountLAK: string;\n  amountTHB: string;\n  amountUSD: string;\n  created: string;\n  updated: string;\n}\n\ninterface OrderStatusCount {\n  pending: number;\n  accepted: number;\n  delivering: number;\n  completed: number;\n  cancel: number;\n}\n\ninterface SellAmount {\n  amountLAK: string;\n  amountUSD: string;\n  amountTHB: string;\n}\n\ninterface StatusCountData {\n  orderStatusCount: OrderStatusCount;\n  customerCount: number;\n  sellAmount: SellAmount;\n}\n\ninterface OrderListData {\n  items: OrderItem[];\n  page: number;\n  perPage: number;\n  totalItems: number;\n  totalPages: number;\n}\n\ninterface DashboardData {\n  sellRevenue: SellRevenueData[] | null;\n  statusCount: StatusCountData | null;\n  orderList: OrderListData | null;\n  loading: boolean;\n  error: string | null;\n}\n\ninterface FilterParams {\n  isYear?: boolean;\n  startDate?: string;\n  endDate?: string;\n}\n\n// Hook for static dashboard data (status count and order list)\nexport const useStaticDashboardData = () => {\n  const [data, setData] = useState<Omit<DashboardData, 'sellRevenue'>>({\n    statusCount: null,\n    orderList: null,\n    loading: true,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchStaticDashboardData = async () => {\n      try {\n        setData((prev) => ({ ...prev, loading: true, error: null }));\n\n        const [statusCountResponse, orderListResponse] = await Promise.all([\n          pb.send('/dashboard/status-count', {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json',\n              Authorization: `Bearer ${pb.authStore.token}`,\n            },\n          }),\n          pb.send('/order-list?page=1&perPage=10&status=pending', {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json',\n              Authorization: `Bearer ${pb.authStore.token}`,\n            },\n          }),\n        ]);\n\n        setData({\n          statusCount: statusCountResponse,\n          orderList: orderListResponse,\n          loading: false,\n          error: null,\n        });\n      } catch (error) {\n        console.error('Error fetching static dashboard data:', error);\n        setData((prev) => ({\n          ...prev,\n          loading: false,\n          error:\n            error instanceof Error\n              ? error.message\n              : 'Failed to fetch static dashboard data',\n        }));\n      }\n    };\n\n    fetchStaticDashboardData();\n  }, []);\n\n  return data;\n};\n\n// Hook for revenue data with filter parameters\nexport const useRevenueData = (filterParams?: FilterParams) => {\n  const [data, setData] = useState<{\n    sellRevenue: SellRevenueData[] | null;\n    loading: boolean;\n    error: string | null;\n  }>({\n    sellRevenue: null,\n    loading: true,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchRevenueData = async () => {\n      try {\n        setData((prev) => ({ ...prev, loading: true, error: null }));\n\n        // Build query parameters for sell-revenue endpoint\n        const sellRevenueParams = new URLSearchParams();\n        if (filterParams?.isYear !== undefined) {\n          sellRevenueParams.append('isYear', filterParams.isYear.toString());\n        }\n        if (filterParams?.startDate) {\n          sellRevenueParams.append('startDate', filterParams.startDate);\n        }\n        if (filterParams?.endDate) {\n          sellRevenueParams.append('endDate', filterParams.endDate);\n        }\n\n        const sellRevenueUrl = `/dashboard/sell-revenue${sellRevenueParams.toString() ? `?${sellRevenueParams.toString()}` : ''}`;\n\n        const sellRevenueResponse = await pb.send(sellRevenueUrl, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${pb.authStore.token}`,\n          },\n        });\n\n        setData({\n          sellRevenue: sellRevenueResponse.sell,\n          loading: false,\n          error: null,\n        });\n      } catch (error) {\n        console.error('Error fetching revenue data:', error);\n        setData((prev) => ({\n          ...prev,\n          loading: false,\n          error:\n            error instanceof Error\n              ? error.message\n              : 'Failed to fetch revenue data',\n        }));\n      }\n    };\n\n    fetchRevenueData();\n  }, [filterParams?.isYear, filterParams?.startDate, filterParams?.endDate]);\n\n  return data;\n};\n\n// Backward compatibility hook\nexport const useDashboardData = (filterParams?: FilterParams) => {\n  const staticData = useStaticDashboardData();\n  const revenueData = useRevenueData(filterParams);\n\n  return {\n    sellRevenue: revenueData.sellRevenue,\n    statusCount: staticData.statusCount,\n    orderList: staticData.orderList,\n    loading: staticData.loading || revenueData.loading,\n    error: staticData.error || revenueData.error,\n  };\n};\n","import {\n  Alert,\n  Box,\n  CircularProgress,\n  Theme,\n  useMediaQuery,\n} from '@mui/material';\nimport { CSSProperties, useState } from 'react';\n\nimport OrderPendingList from './OrderPendingList';\nimport SellRevenueChart from './SellRevenueChart';\nimport StatusCountCards from './StatusCountCards';\nimport { useStaticDashboardData, useRevenueData } from './useDashboardData';\n\nimport { SellRevenue } from '../model/dashboard';\nimport { Order } from '../types';\n\ninterface OrderStats {\n  revenue: number;\n  nbNewOrders: number;\n  pendingOrders: Order[];\n}\n\ninterface State {\n  nbNewOrders?: number;\n  pendingOrders?: Order[];\n  recentOrders?: Order[];\n  revenue?: string;\n}\n\nconst styles = {\n  flex: { display: 'flex' },\n  flexColumn: { display: 'flex', flexDirection: 'column' },\n  leftCol: { flex: 1, marginRight: '0.5em' },\n  rightCol: { flex: 1, marginLeft: '0.5em' },\n  singleCol: { marginTop: '1em', marginBottom: '1em' },\n};\n\nconst VerticalSpacer = () => <span style={{ height: '1em' }} />;\n\ninterface FilterParams {\n  isYear: boolean;\n  startDate?: string;\n  endDate?: string;\n  month?: number;\n  year?: number;\n}\n\nconst Dashboard = () => {\n  const isXSmall = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.down('sm')\n  );\n  const isSmall = useMediaQuery((theme: Theme) => theme.breakpoints.down('lg'));\n\n  const [filterParams, setFilterParams] = useState<FilterParams>({\n    isYear: false,\n    startDate: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n    endDate: new Date().toISOString().split('T')[0],\n  });\n\n  // Use separate hooks for static and revenue data\n  const { statusCount, orderList, loading: staticLoading, error: staticError } = \n    useStaticDashboardData();\n  const { sellRevenue, loading: revenueLoading, error: revenueError } = \n    useRevenueData(filterParams);\n\n  const loading = staticLoading;\n  const error = staticError || revenueError;\n\n  const handleFilterChange = (params: FilterParams) => {\n    setFilterParams(params);\n  };\n\n  // Show loading state\n  if (loading) {\n    return (\n      <Box\n        display='flex'\n        justifyContent='center'\n        alignItems='center'\n        minHeight='200px'\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  // Show error state\n  if (error) {\n    return (\n      <Box p={2}>\n        <Alert severity='error' sx={{ mb: 2 }}>\n          {error}\n        </Alert>\n      </Box>\n    );\n  }\n  return isXSmall ? (\n    <div>\n      <div style={styles.flexColumn as CSSProperties}>\n        <VerticalSpacer />\n        {/* Status Section */}\n        {statusCount && (\n          <>\n            <StatusCountCards\n              sellRevenue={sellRevenue?.[0] as SellRevenue}\n              orderStatusCount={statusCount.orderStatusCount}\n              customerCount={statusCount.customerCount}\n              sellAmount={statusCount.sellAmount}\n            />\n            <VerticalSpacer />\n          </>\n        )}\n        {/* Sell Revenue Section */}\n        {sellRevenue && (\n          <>\n            <SellRevenueChart data={sellRevenue} onFilterChange={handleFilterChange} loading={revenueLoading} />\n            <VerticalSpacer />\n          </>\n        )}\n        {/* Order Pending List Section */}\n        {orderList && <OrderPendingList data={orderList} />}\n      </div>\n    </div>\n  ) : isSmall ? (\n    <div style={styles.flexColumn as CSSProperties}>\n      {/* Status Section */}\n      {statusCount && (\n        <div style={styles.singleCol}>\n          <StatusCountCards\n            sellRevenue={sellRevenue?.[0] as SellRevenue}\n            orderStatusCount={statusCount.orderStatusCount}\n            customerCount={statusCount.customerCount}\n            sellAmount={statusCount.sellAmount}\n          />\n        </div>\n      )}\n      {/* Sell Revenue Section */}\n      {sellRevenue && (\n        <div style={styles.singleCol}>\n          <div className='min-h-screen bg-gray-100 p-4'>\n            <div className='max-w-4xl mx-auto'>\n              <SellRevenueChart data={sellRevenue} onFilterChange={handleFilterChange} loading={revenueLoading} />\n            </div>\n          </div>\n        </div>\n      )}\n      {/* Order Pending List Section */}\n      {orderList && (\n        <div style={styles.singleCol}>\n          <OrderPendingList data={orderList} />\n        </div>\n      )}\n    </div>\n  ) : (\n    <>\n      <div style={styles.singleCol}>\n        {/* Status Section */}\n        {statusCount && (\n          <StatusCountCards\n            sellRevenue={sellRevenue?.[0] as SellRevenue}\n            orderStatusCount={statusCount.orderStatusCount}\n            customerCount={statusCount.customerCount}\n            sellAmount={statusCount.sellAmount}\n          />\n        )}\n      </div>\n      <div style={styles.flex}>\n        <div style={styles.leftCol}>\n          {/* Sell Revenue Section */}\n          {sellRevenue && (\n            <div style={styles.singleCol}>\n              <SellRevenueChart data={sellRevenue} onFilterChange={handleFilterChange} loading={revenueLoading} />\n            </div>\n          )}\n        </div>\n        <div style={styles.rightCol}>\n          {/* Order Pending List Section */}\n          {orderList && (\n            <div style={styles.singleCol}>\n              <OrderPendingList data={orderList} />\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import {\n  DataProvider,\n  GetListParams,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  GetManyParams,\n  GetManyResult,\n  Identifier,\n} from 'react-admin';\nimport { ApiOrder, ApiOrderResponse } from '../types';\nimport pb from '../api/pocketbase'; // Import PocketBase instance\n\nconst API_BASE_URL = 'http://localhost:8080';\n\nconst ordersApiDataProvider: Partial<DataProvider> = {\n  getList: async <RecordType extends { id: Identifier } = ApiOrder>(\n    resource: string,\n    params: GetListParams\n  ): Promise<GetListResult<RecordType>> => {\n    if (resource !== 'orders') {\n      throw new Error(`Unknown resource: ${resource}`);\n    }\n\n    const { page = 1, perPage = 25 } = params.pagination || {};\n    const { status } = params.filter || {};\n\n    const url = `/order-list`;\n\n    try {\n      const queryParams = new URLSearchParams({\n        page: page.toString(),\n        perPage: perPage.toString(),\n        ...(status && { status }),\n      });\n\n      const response = await pb.send(`${url}?${queryParams}`, {\n        method: 'GET',\n      });\n\n      const data: ApiOrderResponse = response;\n\n      return {\n        data: data.items as unknown as RecordType[],\n        total: data.totalItems,\n        pageInfo: {\n          hasNextPage: data.page < data.totalPages,\n          hasPreviousPage: data.page > 1,\n        },\n      };\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n      throw error;\n    }\n  },\n\n  getOne: async <RecordType extends { id: Identifier } = ApiOrder>(\n    resource: string,\n    params: GetOneParams<RecordType>\n  ): Promise<GetOneResult<RecordType>> => {\n    if (resource !== 'orders') {\n      throw new Error(`Unknown resource: ${resource}`);\n    }\n\n    // Since the API doesn't have a single order endpoint,\n    // we'll fetch from the list and find the specific order\n    const response = await fetch(`${API_BASE_URL}/order-list?perPage=1000`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${pb.authStore.token}`,\n      },\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data: ApiOrderResponse = await response.json();\n    const order = data.items.find((item) => item.id === params.id.toString());\n\n    if (!order) {\n      throw new Error(`Order with id ${params.id} not found`);\n    }\n\n    return { data: order as unknown as RecordType };\n  },\n\n  getMany: async <RecordType extends { id: Identifier } = ApiOrder>(\n    resource: string,\n    params: GetManyParams<RecordType>\n  ): Promise<GetManyResult<RecordType>> => {\n    if (resource !== 'orders') {\n      throw new Error(`Unknown resource: ${resource}`);\n    }\n\n    // Since the API doesn't have a bulk endpoint,\n    // we'll fetch from the list and filter by ids\n    const response = await fetch(`${API_BASE_URL}/order-list?perPage=1000`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${pb.authStore.token}`,\n      },\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data: ApiOrderResponse = await response.json();\n    const orders = data.items.filter((item) =>\n      params.ids.includes(item.id.toString())\n    );\n\n    return { data: orders as unknown as RecordType[] };\n  },\n\n  create: async () => {\n    throw new Error('Create operation not supported for orders');\n  },\n\n  update: async () => {\n    throw new Error('Update operation not supported for orders');\n  },\n\n  delete: async () => {\n    throw new Error('Delete operation not supported for orders');\n  },\n\n  deleteMany: async () => {\n    throw new Error('Delete many operation not supported for orders');\n  },\n\n  updateMany: async () => {\n    throw new Error('Update many operation not supported for orders');\n  },\n\n  getManyReference: async () => {\n    throw new Error('Get many reference operation not supported for orders');\n  },\n};\n\nexport default ordersApiDataProvider;\n","import pb from './pocketbase';\n\nexport interface Blog {\n  collectionId: string;\n  collectionName: string;\n  id: string;\n  image_url: string;\n  title: string;\n  description: string;\n  video_url: string;\n  count: number;\n  created: string;\n  updated: string;\n}\n\nexport const blogService = {\n  async getList(page = 1, perPage = 10, sort = '-created', filter = '') {\n    const options: any = {\n      page,\n      perPage,\n      sort,\n    };\n    \n    if (filter) {\n      options.filter = filter;\n    }\n\n    const result = await pb.collection('blogs').getList<Blog>(page, perPage, options);\n    return {\n      data: result.items,\n      total: result.totalItems,\n    };\n  },\n\n  async getOne(id: string) {\n    return await pb.collection('blogs').getOne<Blog>(id);\n  },\n\n  async create(data: Partial<Blog>) {\n    const result = await pb.collection('blogs').create<Blog>(data);\n    return result;\n  },\n\n  async update(id: string, data: Partial<Blog>) {\n    const result = await pb.collection('blogs').update<Blog>(id, data);\n    return result;\n  },\n\n  async delete(id: string) {\n    await pb.collection('blogs').delete(id);\n    return { id };\n  },\n\n  async deleteMany(ids: string[]) {\n    const deletedIds = [];\n    for (const id of ids) {\n      try {\n        await pb.collection('blogs').delete(id);\n        deletedIds.push(id);\n      } catch (error) {\n        console.error(`Failed to delete blog ${id}:`, error);\n      }\n    }\n    return { ids: deletedIds };\n  },\n};","import { DataProvider } from 'react-admin';\nimport { blogService } from '../api/blogsService';\n\nexport const blogsDataProvider: Partial<DataProvider> = {\n  getList: async (resource, params) => {\n    if (resource !== 'blogs') return { data: [], total: 0 };\n    \n    const { page, perPage } = params.pagination || { page: 1, perPage: 25 };\n    const { field, order } = params.sort || {};\n    const { filter } = params;\n    \n    let sort = '';\n    if (field && order) {\n      sort = order === 'ASC' ? field : `-${field}`;\n    }\n    \n    let filterString = '';\n    if (filter) {\n      const filters = [];\n      if (filter.title) {\n        filters.push(`title ~ \"${filter.title}\"`);\n      }\n      if (filter.description) {\n        filters.push(`description ~ \"${filter.description}\"`);\n      }\n      if (filter.q) {\n        filters.push(`(title ~ \"${filter.q}\" || description ~ \"${filter.q}\")`);\n      }\n      filterString = filters.join(' && ');\n    }\n    \n    const result = await blogService.getList(page, perPage, sort, filterString);\n    return {\n      data: result.data as any,\n      total: result.total,\n    };\n  },\n\n  getOne: async (resource, params) => {\n    if (resource !== 'blogs') return { data: {} as any };\n    \n    const data = await blogService.getOne(String(params.id));\n    return { data: data as any };\n  },\n\n  create: async (resource, params) => {\n    if (resource !== 'blogs') return { data: {} as any };\n    \n    const data = await blogService.create({\n      title: params.data.title,\n      description: params.data.description,\n      image_url: params.data.image_url || '',\n      video_url: params.data.video_url || '',\n      count: params.data.count || 0,\n    });\n    return { data: data as any };\n  },\n\n  update: async (resource, params) => {\n    if (resource !== 'blogs') return { data: {} as any };\n    \n    const data = await blogService.update(String(params.id), {\n      title: params.data.title,\n      description: params.data.description,\n      image_url: params.data.image_url,\n      video_url: params.data.video_url,\n      count: params.data.count,\n    });\n    return { data: data as any };\n  },\n\n  delete: async (resource, params) => {\n    if (resource !== 'blogs') return { data: {} as any };\n    \n    await blogService.delete(String(params.id));\n    return { data: { id: params.id } };\n  },\n\n  deleteMany: async (resource, params) => {\n    if (resource !== 'blogs') return { data: [] };\n    \n    const result = await blogService.deleteMany(params.ids.map(String));\n    return { data: result.ids };\n  },\n};","import { DataProvider } from 'react-admin';\nimport pb from '../api/pocketbase';\n\nexport interface Customer {\n  id: string;\n  username: string;\n  name: string;\n  phone_number: string;\n  avatar: string;\n  verified: boolean;\n  email: string;\n  emailVisibility: boolean;\n  address_id: string;\n  created: string;\n  updated: string;\n}\n\nexport const customersDataProvider: Partial<DataProvider> = {\n  getList: async (resource, params) => {\n    const { page, perPage } = params.pagination || { page: 1, perPage: 10 };\n    const { field, order } = params.sort || { field: 'id', order: 'ASC' };\n    const { q, ...filters } = params.filter;\n\n    try {\n      let filter = '';\n      const filterParts = [];\n\n      // Search query\n      if (q) {\n        filterParts.push(`(name ~ \"${q}\" || email ~ \"${q}\" || username ~ \"${q}\")`);\n      }\n\n      // Other filters\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== '') {\n          if (key === 'has_ordered') {\n            // Special handling for has_ordered filter - check if customer has any orders\n            if (value === true) {\n              filterParts.push(`id IN (SELECT DISTINCT customer_id FROM orders WHERE customer_id != \"\")`);\n            } else {\n              filterParts.push(`id NOT IN (SELECT DISTINCT customer_id FROM orders WHERE customer_id != \"\")`);\n            }\n          } else if (key === 'customer_id') {\n            // Handle customer dropdown filter\n            filterParts.push(`id = \"${value}\"`);\n          } else if (typeof value === 'boolean') {\n            filterParts.push(`${key} = ${value}`);\n          } else if (typeof value === 'string') {\n            filterParts.push(`${key} ~ \"${value}\"`);\n          } else {\n            filterParts.push(`${key} = ${value}`);\n          }\n        }\n      });\n\n      if (filterParts.length > 0) {\n        filter = filterParts.join(' && ');\n      }\n\n      const result = await pb.collection('customers').getList(page, perPage, {\n        sort: order === 'ASC' ? `+${field}` : `-${field}`,\n        filter: filter || undefined,\n      });\n\n      return {\n        data: result.items as any,\n        total: result.totalItems,\n      };\n    } catch (error) {\n      console.error('Error fetching customers:', error);\n      throw error;\n    }\n  },\n\n  getOne: async (resource, params) => {\n    try {\n      const record = await pb.collection('customers').getOne(params.id.toString());\n      return { data: record as any };\n    } catch (error) {\n      console.error('Error fetching customer:', error);\n      throw error;\n    }\n  },\n\n  create: async (resource, params) => {\n    try {\n      const record = await pb.collection('customers').create(params.data);\n      return { data: record as any };\n    } catch (error) {\n      console.error('Error creating customer:', error);\n      throw error;\n    }\n  },\n\n  update: async (resource, params) => {\n    try {\n      const record = await pb.collection('customers').update(params.id, params.data);\n      return { data: record as any };\n    } catch (error) {\n      console.error('Error updating customer:', error);\n      throw error;\n    }\n  },\n\n  delete: async (resource, params) => {\n    try {\n      await pb.collection('customers').delete(params.id.toString());\n      return { data: { id: params.id } } as any;\n    } catch (error) {\n      console.error('Error deleting customer:', error);\n      throw error;\n    }\n  },\n\n  deleteMany: async (resource, params) => {\n    try {\n      await Promise.all(\n        params.ids.map(id => pb.collection('customers').delete(id.toString()))\n      );\n      return { data: params.ids };\n    } catch (error) {\n      console.error('Error deleting customers:', error);\n      throw error;\n    }\n  },\n\n  getMany: async (resource, params) => {\n    try {\n      const records = await Promise.all(\n        params.ids.map(id => pb.collection('customers').getOne(id.toString()))\n      );\n      return { data: records as any };\n    } catch (error) {\n      console.error('Error fetching customers:', error);\n      throw error;\n    }\n  },\n\n  getManyReference: async (resource, params) => {\n    const { page, perPage } = params.pagination || { page: 1, perPage: 10 };\n    const { field, order } = params.sort || { field: 'id', order: 'ASC' };\n    const { target, id } = params;\n\n    try {\n      const filter = `${target} = \"${id}\"`;\n      \n      const result = await pb.collection('customers').getList(page, perPage, {\n        sort: order === 'ASC' ? `+${field}` : `-${field}`,\n        filter,\n      });\n\n      return {\n        data: result.items as any,\n        total: result.totalItems,\n      };\n    } catch (error) {\n      console.error('Error fetching customers reference:', error);\n      throw error;\n    }\n  },\n};","import pb, {\n  fetchAllPocketbaseDocuments,\n  fetchPocketbaseDocument,\n  createPocketbaseDocument,\n  updatePocketbaseDocument,\n  deletePocketbaseDocument,\n} from '../api/pocketbase';\n\nexport interface ProductData {\n  collectionId: string;\n  collectionName: string;\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  category_id: string;\n  image_url: string[];\n  name_la: string;\n  description_la: string;\n  details: string;\n  created: string;\n  updated: string;\n}\n\nexport interface ProductFilter {\n  q?: string;\n  category_id?: string;\n  price_gte?: number;\n  price_lte?: number;\n  name?: string;\n  sales_best?: boolean;\n  sales_average?: boolean;\n  sales_low?: boolean;\n  sales_never?: boolean;\n  stock_out?: boolean;\n  stock_low?: boolean;\n  stock_medium?: boolean;\n  stock_high?: boolean;\n}\n\nexport interface ProductListParams {\n  pagination: { page: number; perPage: number };\n  sort: { field: string; order: 'ASC' | 'DESC' };\n  filter: ProductFilter;\n}\n\nexport interface ProductListResponse {\n  data: ProductData[];\n  total: number;\n}\n\nexport const productsDataProvider: any = {\n  getList: async (resource: string, params: ProductListParams): Promise<ProductListResponse> => {\n    const { pagination, sort, filter } = params;\n    const { page, perPage } = pagination;\n    const { field, order } = sort;\n\n    let filterStr = '';\n    const filterConditions: string[] = [];\n\n    if (filter.q) {\n      filterConditions.push(`(name ~ \"${filter.q}\" || description ~ \"${filter.q}\" || name_la ~ \"${filter.q}\" || description_la ~ \"${filter.q}\")`);\n    }\n\n    if (filter.category_id) {\n      filterConditions.push(`category_id = \"${filter.category_id}\"`);\n    }\n\n    if (filter.price_gte) {\n      filterConditions.push(`price >= ${filter.price_gte}`);\n    }\n\n    if (filter.price_lte) {\n      filterConditions.push(`price <= ${filter.price_lte}`);\n    }\n\n    // Stock filters (assuming we have a stock field)\n    const stockFilters: string[] = [];\n    if (filter.stock_out) {\n      stockFilters.push('stock = 0');\n    }\n    if (filter.stock_low) {\n      stockFilters.push('(stock >= 1 && stock <= 9)');\n    }\n    if (filter.stock_medium) {\n      stockFilters.push('(stock >= 10 && stock <= 49)');\n    }\n    if (filter.stock_high) {\n      stockFilters.push('stock >= 50');\n    }\n    if (stockFilters.length > 0) {\n      filterConditions.push(`(${stockFilters.join(' || ')})`);\n    }\n\n    // Sales filters (assuming we have sales data or need to calculate from orders)\n    const salesFilters: string[] = [];\n    if (filter.sales_best) {\n      salesFilters.push('sales_count > 100'); // Adjust threshold as needed\n    }\n    if (filter.sales_average) {\n      salesFilters.push('(sales_count >= 10 && sales_count <= 100)');\n    }\n    if (filter.sales_low) {\n      salesFilters.push('(sales_count >= 1 && sales_count < 10)');\n    }\n    if (filter.sales_never) {\n      salesFilters.push('sales_count = 0');\n    }\n    if (salesFilters.length > 0) {\n      filterConditions.push(`(${salesFilters.join(' || ')})`);\n    }\n\n    if (filterConditions.length > 0) {\n      filterStr = filterConditions.join(' && ');\n    }\n\n    const sortStr = `${order === 'DESC' ? '-' : ''}${field}`;\n\n    try {\n      const result = await pb.collection('products').getList(page, perPage, {\n        filter: filterStr,\n        sort: sortStr,\n        expand: 'category_id',\n      });\n\n      return {\n        data: result.items as ProductData[],\n        total: result.totalItems,\n      };\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      throw new Error('Failed to fetch products');\n    }\n  },\n\n  getOne: async (resource: string, params: { id: string }): Promise<{ data: ProductData }> => {\n    try {\n      const record = await fetchPocketbaseDocument<ProductData>('products', params.id);\n      return { data: record };\n    } catch (error) {\n      console.error('Error fetching product:', error);\n      throw new Error('Failed to fetch product');\n    }\n  },\n\n  getMany: async (resource: string, params: { ids: string[] }): Promise<{ data: ProductData[] }> => {\n    try {\n      const filterStr = params.ids.map(id => `id = \"${id}\"`).join(' || ');\n      const result = await pb.collection('products').getList(1, params.ids.length, {\n        filter: filterStr,\n      });\n      return { data: result.items as ProductData[] };\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      throw new Error('Failed to fetch products');\n    }\n  },\n\n  getManyReference: async (resource: string, params: {\n    target: string;\n    id: string;\n    pagination: { page: number; perPage: number };\n    sort: { field: string; order: 'ASC' | 'DESC' };\n    filter: ProductFilter;\n  }): Promise<ProductListResponse> => {\n    const { target, id, pagination, sort, filter } = params;\n    const { page, perPage } = pagination;\n    const { field, order } = sort;\n\n    const filterConditions: string[] = [`${target} = \"${id}\"`];\n\n    if (filter.q) {\n      filterConditions.push(`(name ~ \"${filter.q}\" || description ~ \"${filter.q}\")`);\n    }\n\n    const filterStr = filterConditions.join(' && ');\n    const sortStr = `${order === 'DESC' ? '-' : ''}${field}`;\n\n    try {\n      const result = await pb.collection('products').getList(page, perPage, {\n        filter: filterStr,\n        sort: sortStr,\n      });\n\n      return {\n        data: result.items as ProductData[],\n        total: result.totalItems,\n      };\n    } catch (error) {\n      console.error('Error fetching related products:', error);\n      throw new Error('Failed to fetch related products');\n    }\n  },\n\n  create: async (resource: string, params: { data: Partial<ProductData> }): Promise<{ data: ProductData }> => {\n    try {\n      const id = await createPocketbaseDocument('products', params.data);\n      const record = await fetchPocketbaseDocument<ProductData>('products', id);\n      return { data: record };\n    } catch (error) {\n      console.error('Error creating product:', error);\n      throw new Error('Failed to create product');\n    }\n  },\n\n  update: async (resource: string, params: { id: string; data: Partial<ProductData> }): Promise<{ data: ProductData }> => {\n    const { id, data } = params;\n    try {\n      await updatePocketbaseDocument('products', id, data);\n      const record = await fetchPocketbaseDocument<ProductData>('products', id);\n      return { data: record };\n    } catch (error) {\n      console.error('Error updating product:', error);\n      throw new Error('Failed to update product');\n    }\n  },\n\n  updateMany: async (resource: string, params: { ids: string[]; data: Partial<ProductData> }): Promise<{ data: string[] }> => {\n    const { ids, data } = params;\n    try {\n      await Promise.all(ids.map(id => updatePocketbaseDocument('products', id, data)));\n      return { data: ids };\n    } catch (error) {\n      console.error('Error updating products:', error);\n      throw new Error('Failed to update products');\n    }\n  },\n\n  delete: async (resource: string, params: { id: string }): Promise<{ data: ProductData }> => {\n    const { id } = params;\n    try {\n      const record = await fetchPocketbaseDocument<ProductData>('products', id);\n      await deletePocketbaseDocument('products', id);\n      return { data: record };\n    } catch (error) {\n      console.error('Error deleting product:', error);\n      throw new Error('Failed to delete product');\n    }\n  },\n\n  deleteMany: async (resource: string, params: { ids: string[] }): Promise<{ data: string[] }> => {\n    const { ids } = params;\n    try {\n      await Promise.all(ids.map(id => deletePocketbaseDocument('products', id)));\n      return { data: ids };\n    } catch (error) {\n      console.error('Error deleting products:', error);\n      throw new Error('Failed to delete products');\n    }\n  },\n};","import { DataProvider } from 'react-admin';\nimport pb, {\n  fetchAllPocketbaseDocuments,\n  fetchPocketbaseDocument,\n  createPocketbaseDocument,\n  updatePocketbaseDocument,\n  deletePocketbaseDocument,\n} from '../api/pocketbase';\n\nexport interface ProductCategory {\n  id: string;\n  collectionId: string;\n  collectionName: string;\n  name: string;\n  name_la: string;\n  image_url: string;\n  created: string;\n  updated: string;\n}\n\nconst COLLECTION_NAME = 'product_categories';\n\nexport const productCategoriesDataProvider: any = {\n  getList: async (resource: string, params: any) => {\n    const { page = 1, perPage = 25 } = params.pagination || {};\n    const { field = 'created', order = 'DESC' } = params.sort || {};\n    const filter = params.filter || {};\n\n    try {\n      let query = pb.collection(COLLECTION_NAME).getList<ProductCategory>(page, perPage, {\n        sort: `${order === 'ASC' ? '+' : '-'}${field}`,\n        filter: Object.keys(filter || {})\n          .map(key => `${key} ~ \"${filter[key]}\"`)\n          .join(' && '),\n      });\n\n      const result = await query;\n      return {\n        data: result.items,\n        total: result.totalItems,\n      };\n    } catch (error) {\n      console.error('Error fetching product categories:', error);\n      throw error;\n    }\n  },\n\n  getOne: async (resource: string, params: any) => {\n    try {\n      const data = await fetchPocketbaseDocument<ProductCategory>(COLLECTION_NAME, String(params.id));\n      return { data };\n    } catch (error) {\n      console.error('Error fetching product category:', error);\n      throw error;\n    }\n  },\n\n  getMany: async (resource: string, params: any) => {\n    try {\n      const data = await Promise.all(\n        params.ids.map((id: any) => fetchPocketbaseDocument<ProductCategory>(COLLECTION_NAME, String(id)))\n      );\n      return { data };\n    } catch (error) {\n      console.error('Error fetching multiple product categories:', error);\n      throw error;\n    }\n  },\n\n  create: async (resource: string, params: any) => {\n    try {\n      const id = await createPocketbaseDocument(\n        COLLECTION_NAME,\n        params.data\n      );\n      const data = await fetchPocketbaseDocument<ProductCategory>(COLLECTION_NAME, id);\n      return { data };\n    } catch (error) {\n      console.error('Error creating product category:', error);\n      throw error;\n    }\n  },\n\n  update: async (resource: string, params: any) => {\n    try {\n      await updatePocketbaseDocument(\n        COLLECTION_NAME,\n        String(params.id),\n        params.data\n      );\n      const data = await fetchPocketbaseDocument<ProductCategory>(COLLECTION_NAME, String(params.id));\n      return { data };\n    } catch (error) {\n      console.error('Error updating product category:', error);\n      throw error;\n    }\n  },\n\n  delete: async (resource: string, params: any) => {\n    try {\n      await deletePocketbaseDocument(COLLECTION_NAME, String(params.id));\n      return { data: params.previousData };\n    } catch (error) {\n      console.error('Error deleting product category:', error);\n      throw error;\n    }\n  },\n\n  deleteMany: async (resource: string, params: any) => {\n    try {\n      await Promise.all(\n        params.ids.map((id: any) => deletePocketbaseDocument(COLLECTION_NAME, String(id)))\n      );\n      return { data: params.ids };\n    } catch (error) {\n      console.error('Error deleting multiple product categories:', error);\n      throw error;\n    }\n  },\n};","import { DataProvider } from 'react-admin';\nimport pb from '../api/pocketbase';\n\nexport interface User {\n  id: string;\n  collectionId: string;\n  collectionName: string;\n  username: string;\n  full_name: string;\n  email: string;\n  phone_number: string;\n  emailVisibility: boolean;\n  verified: boolean;\n  created: string;\n  updated: string;\n}\n\nexport const usersDataProvider: Partial<DataProvider> = {\n  getList: async (resource, params) => {\n    const { page, perPage } = params.pagination || { page: 1, perPage: 10 };\n    const { field, order } = params.sort || { field: 'id', order: 'ASC' };\n    const { q, ...filters } = params.filter;\n\n    try {\n      let filter = '';\n      const filterParts = [];\n\n      // Search query\n      if (q) {\n        filterParts.push(`(full_name ~ \"${q}\" || email ~ \"${q}\" || username ~ \"${q}\")`);\n      }\n\n      // Other filters\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== '') {\n          if (typeof value === 'boolean') {\n            filterParts.push(`${key} = ${value}`);\n          } else if (typeof value === 'string') {\n            filterParts.push(`${key} ~ \"${value}\"`);\n          } else {\n            filterParts.push(`${key} = ${value}`);\n          }\n        }\n      });\n\n      if (filterParts.length > 0) {\n        filter = filterParts.join(' && ');\n      }\n\n      const result = await pb.collection('users').getList(page, perPage, {\n        sort: order === 'ASC' ? `+${field}` : `-${field}`,\n        filter: filter || undefined,\n      });\n\n      return {\n        data: result.items as any,\n        total: result.totalItems,\n      };\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      throw error;\n    }\n  },\n\n  getOne: async (resource, params) => {\n    try {\n      const record = await pb.collection('users').getOne(params.id.toString());\n      return { data: record as any };\n    } catch (error) {\n      console.error('Error fetching user:', error);\n      throw error;\n    }\n  },\n\n  create: async (resource, params) => {\n    try {\n      const record = await pb.collection('users').create(params.data);\n      return { data: record as any };\n    } catch (error) {\n      console.error('Error creating user:', error);\n      throw error;\n    }\n  },\n\n  update: async (resource, params) => {\n    try {\n      const record = await pb.collection('users').update(params.id, params.data);\n      return { data: record as any };\n    } catch (error) {\n      console.error('Error updating user:', error);\n      throw error;\n    }\n  },\n\n  delete: async (resource, params) => {\n    try {\n      await pb.collection('users').delete(params.id.toString());\n      return { data: { id: params.id } } as any;\n    } catch (error) {\n      console.error('Error deleting user:', error);\n      throw error;\n    }\n  },\n\n  deleteMany: async (resource, params) => {\n    try {\n      await Promise.all(\n        params.ids.map(id => pb.collection('users').delete(id.toString()))\n      );\n      return { data: params.ids };\n    } catch (error) {\n      console.error('Error deleting users:', error);\n      throw error;\n    }\n  },\n\n  getMany: async (resource, params) => {\n    try {\n      const records = await Promise.all(\n        params.ids.map(id => pb.collection('users').getOne(id.toString()))\n      );\n      return { data: records as any };\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      throw error;\n    }\n  },\n\n  getManyReference: async (resource, params) => {\n    const { page, perPage } = params.pagination || { page: 1, perPage: 10 };\n    const { field, order } = params.sort || { field: 'id', order: 'ASC' };\n    const { target, id } = params;\n\n    try {\n      const filter = `${target} = \"${id}\"`;\n      \n      const result = await pb.collection('users').getList(page, perPage, {\n        sort: order === 'ASC' ? `+${field}` : `-${field}`,\n        filter,\n      });\n\n      return {\n        data: result.items as any,\n        total: result.totalItems,\n      };\n    } catch (error) {\n      console.error('Error fetching users reference:', error);\n      throw error;\n    }\n  },\n};","import { DataProvider } from 'react-admin';\nimport ordersApiDataProvider from './ordersApi';\nimport { blogsDataProvider } from './blogsDataProvider';\nimport { customersDataProvider } from './customersDataProvider';\nimport { productsDataProvider } from './productsDataProvider';\nimport { productCategoriesDataProvider } from './productCategoriesDataProvider';\nimport { usersDataProvider } from './usersDataProvider';\n\nexport default (type: string) => {\n  // The fake servers require to generate data, which can take some time.\n  // Here we start the server initialization but we don't wait for it to finish\n  const dataProviderPromise = getDataProvider(type);\n\n  // Instead we return this proxy which may be called immediately by react-admin if the\n  // user is already signed-in. In this case, we simply wait for the dataProvider promise\n  // to complete before requesting it the data.\n  // If the user isn't signed in, we already started the server initialization while they see\n  // the login page. By the time they come back to the admin as a signed-in user,\n  // the fake server will be initialized.\n  const dataProviderWithGeneratedData = new Proxy(defaultDataProvider, {\n    get(_, name) {\n      if (name === 'supportAbortSignal') {\n        return import.meta.env.MODE === 'production';\n      }\n      return (resource: string, params: any) => {\n        // Use custom orders API for orders resource\n        if (resource === 'orders' && ordersApiDataProvider[name.toString()]) {\n          return ordersApiDataProvider[name.toString()](resource, params);\n        }\n\n        // Use custom blogs data provider for blogs resource\n        if (resource === 'blogs' && blogsDataProvider[name.toString()]) {\n          return blogsDataProvider[name.toString()](resource, params);\n        }\n\n        // Use custom customers data provider for customers resource\n        if (resource === 'customers' && customersDataProvider[name.toString()]) {\n          return customersDataProvider[name.toString()](resource, params);\n        }\n\n        // Use custom products data provider for products resource\n        if (resource === 'products' && productsDataProvider[name.toString()]) {\n          return productsDataProvider[name.toString()](resource, params);\n        }\n\n        // Use custom product categories data provider for product_categories and categories resources\n        if ((resource === 'product_categories' || resource === 'categories') && productCategoriesDataProvider[name.toString()]) {\n          return productCategoriesDataProvider[name.toString()](resource, params);\n        }\n\n        // Use custom users data provider for users resource\n        if (resource === 'users' && usersDataProvider[name.toString()]) {\n          return usersDataProvider[name.toString()](resource, params);\n        }\n\n        return dataProviderPromise.then((dataProvider) => {\n          return dataProvider[name.toString()](resource, params);\n        });\n      };\n    },\n  });\n\n  return dataProviderWithGeneratedData;\n};\n\nconst getDataProvider = async (type: string): Promise<DataProvider> => {\n  return import('./rest').then((provider) => provider.default);\n};\n\nconst defaultDataProvider: DataProvider = {\n  // @ts-ignore\n  create: () => Promise.resolve({ data: { id: 0 } }),\n  // @ts-ignore\n  delete: () => Promise.resolve({ data: {} }),\n  deleteMany: () => Promise.resolve({}),\n  getList: () => Promise.resolve({ data: [], total: 0 }),\n  getMany: () => Promise.resolve({ data: [] }),\n  getManyReference: () => Promise.resolve({ data: [], total: 0 }),\n  // @ts-ignore\n  getOne: () => Promise.resolve({ data: {} }),\n  // @ts-ignore\n  update: () => Promise.resolve({ data: {} }),\n  updateMany: () => Promise.resolve({}),\n};\n","import { TranslationMessages } from 'react-admin';\nimport englishMessages from 'ra-language-english';\n\nconst customEnglishMessages: TranslationMessages = {\n  ...englishMessages,\n  pos: {\n    search: 'Search',\n    configuration: 'Configuration',\n    language: 'Language',\n    theme: {\n      name: 'Theme',\n      light: 'Light',\n      dark: 'Dark',\n    },\n    dashboard: {\n      monthly_revenue: 'Monthly Revenue',\n      month_history: '30 Day Revenue History',\n      new_orders: 'New Orders',\n      pending_reviews: 'Pending Reviews',\n      all_reviews: 'See all reviews',\n      new_customers: 'New Customers',\n      all_customers: 'See all customers',\n      pending_orders: 'Pending Orders',\n      order: {\n        items:\n          'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n      },\n      welcome: {\n        title: 'Welcome to the react-admin e-commerce demo',\n        subtitle:\n          \"This is the admin of an imaginary poster shop. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n        ra_button: 'react-admin site',\n        demo_button: 'Source for this demo',\n      },\n    },\n    menu: {\n      sales: 'Sales',\n      catalog: 'Catalog',\n      customers: 'Customers',\n    },\n    events: {\n      review: {\n        title: 'Posted review on \"%{product}\"',\n      },\n      order: {\n        title: 'Ordered 1 poster |||| Ordered %{smart_count} posters',\n      },\n    },\n  },\n  resources: {\n    customers: {\n      name: 'Customer |||| Customers',\n      fields: {\n        orders: 'Orders',\n        first_seen: 'First seen',\n        full_name: 'Name',\n        groups: 'Segments',\n        last_seen: 'Last seen',\n        last_seen_gte: 'Visited Since',\n        name: 'Name',\n        total_spent: 'Total spent',\n        password: 'Password',\n        confirm_password: 'Confirm password',\n        stateAbbr: 'State',\n      },\n      filters: {\n        last_visited: 'Last visited',\n        today: 'Today',\n        this_week: 'This week',\n        last_week: 'Last week',\n        this_month: 'This month',\n        last_month: 'Last month',\n        earlier: 'Earlier',\n        has_ordered: 'Has ordered',\n        has_newsletter: 'Has newsletter',\n        group: 'Segment',\n      },\n      fieldGroups: {\n        identity: 'Identity',\n        address: 'Address',\n        stats: 'Stats',\n        history: 'History',\n        password: 'Password',\n        change_password: 'Change Password',\n      },\n      page: {\n        delete: 'Delete Customer',\n      },\n      errors: {\n        password_mismatch:\n          'The password confirmation is not the same as the password.',\n      },\n      notifications: {\n        created: 'Customer created |||| %{smart_count} customers created',\n        updated: 'Customer updated |||| %{smart_count} customers updated',\n        deleted: 'Customer deleted |||| %{smart_count} customers deleted',\n      },\n    },\n    orders: {\n      name: 'Order |||| Orders',\n      amount: '1 order |||| %{smart_count} orders',\n      title: 'Order %{reference}',\n      fields: {\n        basket: {\n          delivery: 'Delivery',\n          reference: 'Reference',\n          quantity: 'Quantity',\n          sum: 'Sum',\n          tax_rate: 'Tax Rate',\n          taxes: 'Tax',\n          total: 'Total',\n          unit_price: 'Unit Price',\n        },\n        address: 'Address',\n        customer_id: 'Customer',\n        date_gte: 'Passed Since',\n        date_lte: 'Passed Before',\n        nb_items: 'Nb Items',\n        total_gte: 'Min amount',\n        status: 'Status',\n        returned: 'Returned',\n      },\n      section: {\n        order: 'Order',\n        customer: 'Customer',\n        shipping_address: 'Shipping Address',\n        items: 'Items',\n        total: 'Totals',\n      },\n      notifications: {\n        created: 'Order created |||| %{smart_count} orders created',\n        updated: 'Order updated |||| %{smart_count} orders updated',\n        deleted: 'Order deleted |||| %{smart_count} orders deleted',\n      },\n    },\n    blogs: {\n      name: 'Blog |||| Blogs',\n    },\n    users: {\n      name: 'User admin |||| User admin',\n      fields: {\n        full_name: 'Full Name',\n        username: 'Username',\n        email: 'Email',\n        phone_number: 'Phone Number',\n        verified: 'Verified',\n        emailVisibility: 'Email Visibility',\n        password: 'Password',\n        passwordConfirm: 'Confirm Password',\n      },\n    },\n    invoices: {\n      name: 'Invoice |||| Invoices',\n      fields: {\n        date: 'Invoice date',\n        customer_id: 'Customer',\n        order_id: 'Order',\n        date_gte: 'Passed Since',\n        date_lte: 'Passed Before',\n        total_gte: 'Min amount',\n        address: 'Address',\n      },\n      notifications: {\n        created: 'Invoice created |||| %{smart_count} invoices created',\n        updated: 'Invoice updated |||| %{smart_count} invoices updated',\n        deleted: 'Invoice deleted |||| %{smart_count} invoices deleted',\n      },\n    },\n    products: {\n      name: 'Products |||| Products',\n      fields: {\n        category_id: 'Category',\n        height_gte: 'Min height',\n        height_lte: 'Max height',\n        height: 'Height',\n        image: 'Image',\n        price: 'Price',\n        reference: 'Reference',\n        sales: 'Sales',\n        stock_lte: 'Low Stock',\n        stock: 'Stock',\n        thumbnail: 'Thumbnail',\n        width_gte: 'Min width',\n        width_lte: 'Max width',\n        width: 'Width',\n      },\n      tabs: {\n        image: 'Image',\n        details: 'Details',\n        description: 'Description',\n        reviews: 'Reviews',\n      },\n      filters: {\n        categories: 'Categories',\n        stock: 'Stock',\n        no_stock: 'Out of stock',\n        low_stock: '1 - 9 items',\n        average_stock: '10 - 49 items',\n        enough_stock: '50 items & more',\n        sales: 'Sales',\n        best_sellers: 'Best sellers',\n        average_sellers: 'Average',\n        low_sellers: 'Low',\n        never_sold: 'Never sold',\n      },\n      notifications: {\n        created: 'Poster created |||| %{smart_count} posters created',\n        updated: 'Poster updated |||| %{smart_count} posters updated',\n        deleted: 'Poster deleted |||| %{smart_count} posters deleted',\n      },\n    },\n    categories: {\n      name: 'Category |||| Categories',\n      fields: {\n        products: 'Products',\n      },\n      notifications: {\n        created: 'Category created |||| %{smart_count} categories created',\n        updated: 'Category updated |||| %{smart_count} categories updated',\n        deleted: 'Category deleted |||| %{smart_count} categories deleted',\n      },\n    },\n    reviews: {\n      name: 'Review |||| Reviews',\n      amount: '1 review |||| %{smart_count} reviews',\n      relative_to_poster: 'Review on poster',\n      detail: 'Review detail',\n      fields: {\n        customer_id: 'Customer',\n        order_id: 'Order',\n        product_id: 'Product',\n        date_gte: 'Posted since',\n        date_lte: 'Posted before',\n        date: 'Date',\n        comment: 'Comment',\n        rating: 'Rating',\n      },\n      action: {\n        accept: 'Accept',\n        reject: 'Reject',\n      },\n      notifications: {\n        created: 'Review created |||| %{smart_count} reviews created',\n        updated: 'Review updated |||| %{smart_count} reviews updated',\n        deleted: 'Review deleted |||| %{smart_count} reviews deleted',\n        approved_success: 'Review approved',\n        approved_error: 'Error: Review not approved',\n        rejected_success: 'Review rejected',\n        rejected_error: 'Error: Review not rejected',\n      },\n    },\n    segments: {\n      name: 'Segment |||| Segments',\n      fields: {\n        customers: 'Customers',\n        name: 'Name',\n      },\n      data: {\n        compulsive: 'Compulsive',\n        collector: 'Collector',\n        ordered_once: 'Ordered once',\n        regular: 'Regular',\n        returns: 'Returns',\n        reviewer: 'Reviewer',\n      },\n    },\n  },\n};\n\nexport default customEnglishMessages;\n","import * as React from 'react';\nimport { Avatar, SxProps } from '@mui/material';\nimport { FieldProps, useRecordContext } from 'react-admin';\nimport { Customer } from '../types';\n\ninterface Props extends Omit<FieldProps<Customer>, 'source'> {\n    sx?: SxProps;\n    size?: string;\n}\n\nconst AvatarField = ({ size = '25', sx }: Props) => {\n    const record = useRecordContext<Customer>();\n    if (!record) return null;\n    return (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            sx={sx}\n            alt={`${record.first_name} ${record.last_name}`}\n        />\n    );\n};\n\nexport default AvatarField;\n","import * as React from 'react';\nimport { SxProps, Typography } from '@mui/material';\nimport { memo } from 'react';\n\nimport { FieldProps, useRecordContext } from 'react-admin';\nimport AvatarField from './AvatarField';\nimport { Customer } from '../types';\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n    sx?: SxProps;\n}\n\nconst FullNameField = (props: Props) => {\n    const { size } = props;\n    const record = useRecordContext<Customer>();\n    return record ? (\n        <Typography\n            variant=\"body2\"\n            component=\"div\"\n            sx={[\n                {\n                    display: 'flex',\n                    flexWrap: 'nowrap',\n                    alignItems: 'center',\n                },\n                ...(Array.isArray(props.sx) ? props.sx : [props.sx]),\n            ]}\n        >\n            <AvatarField\n                record={record}\n                size={size}\n                sx={{\n                    mr: 1,\n                    mt: -0.5,\n                    mb: -0.5,\n                    textDecoration: 'underline',\n                    textDecorationColor: '#bdbdbd',\n                }}\n            />\n            {record.first_name} {record.last_name}\n        </Typography>\n    ) : null;\n};\n\nexport default memo<Props>(FullNameField);\n","import * as React from 'react';\nimport { useRecordContext } from 'react-admin';\nimport { Customer } from '../types';\n\nconst AddressField = () => {\n    const record = useRecordContext<Customer>();\n\n    return record ? (\n        <span>\n            {record.address}, {record.city}, {record.stateAbbr} {record.zipcode}\n        </span>\n    ) : null;\n};\n\nexport default AddressField;\n","import { styled } from '@mui/material/styles';\nimport { TableCell } from '@mui/material';\n\nexport const TableCellRight = styled(TableCell)({ textAlign: 'right' });\n","import * as React from 'react';\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from '@mui/material';\nimport { Link, useTranslate, useGetMany, useRecordContext } from 'react-admin';\n\nimport { Order, Product } from '../types';\nimport { TableCellRight } from './TableCellRight';\n\nconst Basket = () => {\n    const record = useRecordContext<Order>();\n    const translate = useTranslate();\n\n    const productIds = record ? record.basket.map(item => item.product_id) : [];\n\n    const { isPending, data: products } = useGetMany<Product>(\n        'products',\n        { ids: productIds },\n        { enabled: !!record }\n    );\n    const productsById = products\n        ? products.reduce((acc, product) => {\n              acc[product.id] = product;\n              return acc;\n          }, {} as any)\n        : {};\n\n    if (isPending || !record || !products) return null;\n\n    return (\n        <Table>\n            <TableHead>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.orders.fields.basket.reference')}\n                    </TableCell>\n                    <TableCellRight>\n                        {translate('resources.orders.fields.basket.unit_price')}\n                    </TableCellRight>\n                    <TableCellRight>\n                        {translate('resources.orders.fields.basket.quantity')}\n                    </TableCellRight>\n                    <TableCellRight>\n                        {translate('resources.orders.fields.basket.total')}\n                    </TableCellRight>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {record.basket.map((item: any) => (\n                    <TableRow key={item.product_id}>\n                        <TableCell>\n                            <Link to={`/products/${item.product_id}`}>\n                                {productsById[item.product_id].reference}\n                            </Link>\n                        </TableCell>\n                        <TableCellRight>\n                            {productsById[item.product_id].price.toLocaleString(\n                                undefined,\n                                {\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }\n                            )}\n                        </TableCellRight>\n                        <TableCellRight>{item.quantity}</TableCellRight>\n                        <TableCellRight>\n                            {(\n                                productsById[item.product_id].price *\n                                item.quantity\n                            ).toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCellRight>\n                    </TableRow>\n                ))}\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Basket;\n","import * as React from 'react';\nimport { Box, Card, CardContent, Grid, Typography } from '@mui/material';\nimport { ReferenceField, TextField, useRecordContext } from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { Customer, Invoice } from '../types';\n\nconst InvoiceShow = () => {\n    const record = useRecordContext<Invoice>();\n    if (!record) return null;\n    return (\n        <Card sx={{ width: 600, margin: 'auto' }}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid size={{ xs: 6 }}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid size={{ xs: 6 }}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid\n                        size={{ xs: 12 }}\n                        sx={{\n                            alignContent: 'flex-end',\n                        }}\n                    >\n                        <ReferenceField\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <Box\n                    sx={{\n                        height: 20,\n                    }}\n                >\n                    &nbsp;\n                </Box>\n                <Grid container spacing={2}>\n                    <Grid size={{ xs: 6 }}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid size={{ xs: 5 }}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            reference=\"orders\"\n                            source=\"order_id\"\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <Box\n                    sx={{\n                        margin: '10px 0',\n                    }}\n                >\n                    <ReferenceField\n                        reference=\"orders\"\n                        source=\"order_id\"\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </Box>\n            </CardContent>\n        </Card>\n    );\n};\n\nconst CustomerField = () => {\n    const record = useRecordContext<Customer>();\n    return record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n};\n\nexport default InvoiceShow;\n","import * as React from 'react';\nimport {\n    List,\n    ColumnsButton,\n    DateField,\n    ReferenceField,\n    DateInput,\n    TopToolbar,\n    ExportButton,\n    ReferenceInput,\n    FilterButton,\n    useDefaultTitle,\n    useListContext,\n    DataTable,\n} from 'react-admin';\n\nimport { type Invoice } from '../types';\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst listFilters = [\n    <DateInput source=\"date_gte\" alwaysOn />,\n    <DateInput source=\"date_lte\" alwaysOn />,\n    <ReferenceInput source=\"customer_id\" reference=\"customers\" />,\n    <ReferenceInput source=\"order_id\" reference=\"orders\" />,\n];\n\nconst ListActions = () => (\n    <TopToolbar>\n        <FilterButton />\n        <ColumnsButton />\n        <ExportButton />\n    </TopToolbar>\n);\n\nconst InvoicesTitle = () => {\n    const title = useDefaultTitle();\n    const { defaultTitle } = useListContext();\n    return (\n        <>\n            <title>{`${title} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst Column = DataTable.Col<Invoice>;\nconst ColumnNumber = DataTable.NumberCol<Invoice>;\n\nconst InvoiceList = () => (\n    <List\n        filters={listFilters}\n        perPage={25}\n        sort={{ field: 'date', order: 'DESC' }}\n        actions={<ListActions />}\n        title={<InvoicesTitle />}\n    >\n        <DataTable\n            rowClick=\"expand\"\n            expand={<InvoiceShow />}\n            sx={{\n                '& .onlyLarge': {\n                    display: { xs: 'none', lg: 'table-cell' },\n                },\n            }}\n        >\n            <Column source=\"id\" />\n            <Column field={DateField} source=\"date\" />\n            <Column source=\"customer_id\" className=\"onlyLarge\">\n                <ReferenceField source=\"customer_id\" reference=\"customers\">\n                    <FullNameField source=\"last_name\" />\n                </ReferenceField>\n            </Column>\n            <Column\n                source=\"address\"\n                disableSort\n                label=\"resources.invoices.fields.address\"\n            >\n                <ReferenceField\n                    source=\"customer_id\"\n                    reference=\"customers\"\n                    link={false}\n                >\n                    <AddressField />\n                </ReferenceField>\n            </Column>\n            <Column source=\"order_id\">\n                <ReferenceField source=\"order_id\" reference=\"orders\" />\n            </Column>\n            <ColumnNumber source=\"total_ex_taxes\" className=\"onlyLarge\" />\n            <ColumnNumber source=\"delivery_fees\" className=\"onlyLarge\" />\n            <ColumnNumber source=\"taxes\" className=\"onlyLarge\" />\n            <ColumnNumber source=\"total\" />\n        </DataTable>\n    </List>\n);\n\nexport default InvoiceList;\n","import InvoiceIcon from '@mui/icons-material/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","import ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\nimport ArrowDropUpIcon from '@mui/icons-material/ArrowDropUp';\nimport {\n  Box,\n  FormControl,\n  MenuItem,\n  Select,\n  SelectChangeEvent,\n  Typography,\n} from '@mui/material';\nimport React from 'react';\nimport { useCurrency } from '../../hooks/useCurrency';\nimport { useCurrencyContext } from './CurrencyProvider';\n\nconst CustomArrowDropDownIcon = ({ color }: { color: string }) => (\n  <ArrowDropDownIcon sx={{ color, marginLeft: -9.5 }} />\n);\n\nconst CustomArrowDropUpIcon = ({ color }: { color: string }) => (\n  <ArrowDropUpIcon sx={{ color, marginLeft: -9.5 }} />\n);\n\ninterface CurrencySelectorProps {\n  showLabel?: boolean;\n  size?: 'small' | 'medium';\n  variant?: 'standard' | 'outlined' | 'filled';\n  minWidth?: number;\n}\n\nconst CurrencySelector: React.FC<CurrencySelectorProps> = ({\n  showLabel = false,\n  size = 'small',\n  variant = 'outlined',\n  minWidth = 80,\n}) => {\n  const { currencies } = useCurrency(); // should be of type CurrencyItem[]\n\n  // Inside your component:\n  const { currency, setCurrency } = useCurrencyContext();\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleCurrencyChange = (event: SelectChangeEvent) => {\n    setCurrency(event.target.value);\n  };\n\n  const filteredCurrencies = React.useMemo(\n    () => currencies?.filter((item) => item.type === 'SELL'),\n    [currencies]\n  );\n\n  const IconComponent = React.useMemo(\n    () => () =>\n      open ? (\n        <CustomArrowDropUpIcon color={'#000'} />\n      ) : (\n        <CustomArrowDropDownIcon color={'#000'} />\n      ),\n    [open]\n  );\n\n  return (\n    <Box display='flex' alignItems='center' sx={{ mt: -0.4 }}>\n      {showLabel && (\n        <Typography variant='body2' sx={{ mr: 0, color: '#7A6A55' }}>\n          Currency:\n        </Typography>\n      )}\n      <FormControl size={size} sx={{ minWidth }}>\n        <Select\n          open={open}\n          onOpen={() => setOpen(true)}\n          onClose={() => setOpen(false)}\n          IconComponent={IconComponent}\n          value={currency}\n          onChange={handleCurrencyChange}\n          variant={variant}\n          sx={{\n            cursor: 'pointer',\n            '& .MuiSelect-select': {\n              py: size === 'small' ? 0.5 : 1,\n              px: size === 'small' ? -2 : 2,\n              color: '#000',\n            },\n            '& .MuiOutlinedInput-notchedOutline': {\n              borderColor: 'transparent',\n            },\n            '&:hover .MuiOutlinedInput-notchedOutline': {\n              borderColor: 'transparent',\n            },\n            '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\n              borderColor: 'transparent',\n            },\n          }}\n        >\n          {filteredCurrencies?.map((currency) => (\n            <MenuItem key={currency.id} value={currency.ccy}>\n              <Box display='flex' alignItems='center' gap={1}>\n                <Typography>{currency.ccy}</Typography>\n              </Box>\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </Box>\n  );\n};\n\nexport default CurrencySelector;\n","import { LoadingIndicator, LocalesMenuButton } from 'react-admin';\nimport CurrencySelector from '../components/CurrencySelector/CurrencySelector';\n\nexport const AppBarToolbar = () => (\n  <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n    <CurrencySelector />\n    <LocalesMenuButton />\n    <LoadingIndicator />\n  </div>\n);\n","import { Box, Theme, useMediaQuery } from '@mui/material';\nimport { AppBar, TitlePortal } from 'react-admin';\n\nimport { AppBarToolbar } from './AppBarToolbar';\n\nconst CustomAppBar = () => {\n  const isLargeEnough = useMediaQuery<Theme>((theme) =>\n    theme.breakpoints.up('sm')\n  );\n  return (\n    <AppBar color='secondary' toolbar={<AppBarToolbar />}>\n      <TitlePortal />\n      {isLargeEnough && <Box component='span' sx={{ flex: 1 }} />}\n    </AppBar>\n  );\n};\n\nexport default CustomAppBar;\n","import { lazy } from 'react';\nimport {\n  Create,\n  NumberInput,\n  required,\n  SimpleForm,\n  TextInput,\n} from 'react-admin';\n\nconst RichTextInput = lazy(() =>\n  import('ra-input-rich-text').then((m) => ({ default: m.RichTextInput }))\n);\n\nexport const BlogCreate = () => (\n  <Create>\n    <SimpleForm>\n      <TextInput source='title' validate={[required()]} fullWidth />\n      <RichTextInput source='description' validate={[required()]} fullWidth />\n      <TextInput source='image_url' fullWidth />\n      {/* <TextInput source='video_url' fullWidth /> */}\n      {/* <NumberInput source='count' defaultValue={0} /> */}\n    </SimpleForm>\n  </Create>\n);\n","import { lazy } from 'react';\nimport {\n  DateField,\n  DeleteButton,\n  Edit,\n  NumberInput,\n  required,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TopToolbar,\n} from 'react-admin';\n\nconst RichTextInput = lazy(() =>\n  import('ra-input-rich-text').then((m) => ({ default: m.RichTextInput }))\n);\n\nconst BlogEditActions = () => (\n  <TopToolbar>\n    <ShowButton />\n    <DeleteButton />\n  </TopToolbar>\n);\n\nexport const BlogEdit = () => (\n  <Edit actions={<BlogEditActions />}>\n    <SimpleForm>\n      <TextField source='id' />\n      <TextInput source='title' validate={[required()]} fullWidth />\n      <RichTextInput source='description' validate={[required()]} fullWidth />\n      <TextInput source='image_url' fullWidth />\n      {/* <TextInput source='video_url' fullWidth /> */}\n      <NumberInput source='count' />\n      {/* <DateField source='created' /> */}\n      {/* <DateField source='updated' /> */}\n    </SimpleForm>\n  </Edit>\n);\n","import { Typography } from '@mui/material';\nimport {\n  BulkDeleteButton,\n  CreateButton,\n  Datagrid,\n  DateField,\n  DeleteButton,\n  EditButton,\n  ExportButton,\n  FilterButton,\n  List,\n  NumberField,\n  NumberInput,\n  SearchInput,\n  TextField,\n  TextInput,\n  TopToolbar,\n  UrlField,\n  useRecordContext,\n} from 'react-admin';\n\nconst DescriptionField = () => {\n  const record = useRecordContext();\n  if (!record?.description) return null;\n\n  // Strip HTML tags and limit text length for list view\n  const stripHtml = (html: string) => {\n    const tmp = document.createElement('DIV');\n    tmp.innerHTML = html;\n    return tmp.textContent || tmp.innerText || '';\n  };\n\n  const plainText = stripHtml(record.description);\n  const truncatedText =\n    plainText.length > 100 ? plainText.substring(0, 100) + '...' : plainText;\n\n  return (\n    <Typography\n      variant='body2'\n      sx={{\n        maxWidth: '200px',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n      }}\n    >\n      {truncatedText}\n    </Typography>\n  );\n};\n\nconst blogFilters = [\n  <SearchInput source='q' alwaysOn />,\n  <TextInput source='title' />,\n  <TextInput source='description' />,\n  <NumberInput source='count' />,\n];\n\nconst BlogListActions = () => (\n  <TopToolbar>\n    <FilterButton />\n    <CreateButton />\n    <ExportButton />\n  </TopToolbar>\n);\n\nconst BlogBulkActions = () => <BulkDeleteButton />;\n\nexport const BlogList = () => (\n  <List\n    filters={blogFilters}\n    actions={<BlogListActions />}\n    sort={{ field: 'created', order: 'DESC' }}\n    perPage={25}\n  >\n    <Datagrid bulkActionButtons={<BlogBulkActions />} rowClick='edit'>\n      <TextField source='id' />\n      <TextField source='title' />\n      <DescriptionField />\n      <UrlField source='image_url' />\n      {/* <UrlField source='video_url' /> */}\n      <NumberField source='count' />\n      <DateField source='created' />\n      <DateField source='updated' />\n      <EditButton />\n      <DeleteButton />\n    </Datagrid>\n  </List>\n);\n","import {\n  DateField,\n  DeleteButton,\n  EditButton,\n  RichTextField,\n  Show,\n  SimpleShowLayout,\n  TextField,\n  TopToolbar,\n  UrlField,\n} from 'react-admin';\n\n// Removed RichTextField import because 'ra-input-rich-text' does not export RichTextField.\n\nconst BlogShowActions = () => (\n  <TopToolbar>\n    <EditButton />\n    <DeleteButton />\n  </TopToolbar>\n);\n\nexport const BlogShow = () => (\n  <Show actions={<BlogShowActions />}>\n    <SimpleShowLayout>\n      <TextField source='id' />\n      <TextField source='title' />\n      <RichTextField source='description' />\n      <TextField source='title' />\n      <TextField source='description' />\n      <UrlField source='image_url' />\n      <DateField source='created' />\n      <DateField source='updated' />\n    </SimpleShowLayout>\n  </Show>\n);\n","import DescriptionIcon from '@mui/icons-material/Description';\nimport { BlogCreate } from './BlogCreate';\nimport { BlogEdit } from './BlogEdit';\nimport { BlogList } from './BlogList';\nimport { BlogShow } from './BlogShow';\n\nexport default {\n  list: BlogList,\n  create: BlogCreate,\n  edit: BlogEdit,\n  show: BlogShow,\n  icon: DescriptionIcon,\n};\n","import * as React from 'react';\nimport {\n    BooleanField,\n    CreateButton,\n    DataTable,\n    DateField,\n    EmailField,\n    List,\n    SearchInput,\n    TextField,\n    ColumnsButton,\n    TopToolbar,\n    useDefaultTitle,\n    useListContext,\n    BooleanInput,\n    SelectInput,\n    ReferenceInput,\n    useUpdate,\n    useNotify,\n    useRefresh,\n    useDataProvider,\n} from 'react-admin';\nimport { useMediaQuery, Theme, Avatar, Chip, Switch, FormControlLabel, Button } from '@mui/material';\nimport { Download } from '@mui/icons-material';\nimport * as XLSX from 'xlsx';\nimport { Customer } from '../dataProvider/customersDataProvider';\n\nconst customerFilters = [\n    <SearchInput key=\"q\" source=\"q\" alwaysOn />,\n    <SelectInput \n        key=\"verified\"\n        source=\"verified\" \n        choices={[\n            { id: '', name: 'All Status' },\n            { id: true, name: 'Verified' },\n            { id: false, name: 'Unverified' }\n        ]} \n        label=\"Status\" \n        emptyText=\"All Status\"\n    />,\n    <SelectInput \n        key=\"has_ordered\"\n        source=\"has_ordered\" \n        choices={[\n            { id: '', name: 'All Customers' },\n            { id: true, name: 'Has Orders' },\n            { id: false, name: 'No Orders' }\n        ]} \n        label=\"Order Status\" \n        emptyText=\"All Customers\"\n    />,\n    <SelectInput \n        key=\"emailVisibility\"\n        source=\"emailVisibility\" \n        choices={[\n            { id: '', name: 'All Email Visibility' },\n            { id: true, name: 'Email Visible' },\n            { id: false, name: 'Email Hidden' }\n        ]} \n        label=\"Email Visibility\" \n        emptyText=\"All Email Visibility\"\n    />,\n    <SearchInput key=\"email\" source=\"email\" label=\"Search by Email\" placeholder=\"Enter email address\" />,\n];\n\nconst CustomerListActions = () => {\n    const dataProvider = useDataProvider();\n    const notify = useNotify();\n    \n    const handleExportExcel = async () => {\n        try {\n            const { data } = await dataProvider.getList('customers', {\n                pagination: { page: 1, perPage: 1000 },\n                sort: { field: 'created', order: 'DESC' },\n                filter: {},\n            });\n            \n            const exportData = data.map((customer: Customer) => ({\n                'Name': customer.name,\n                'Username': customer.username,\n                'Email': customer.email,\n                'Phone': customer.phone_number,\n                'Verified': customer.verified ? 'Yes' : 'No',\n                'Created': new Date(customer.created).toLocaleDateString(),\n                'Updated': new Date(customer.updated).toLocaleDateString(),\n            }));\n            \n            const worksheet = XLSX.utils.json_to_sheet(exportData);\n            const workbook = XLSX.utils.book_new();\n            XLSX.utils.book_append_sheet(workbook, worksheet, 'Customers');\n            \n            XLSX.writeFile(workbook, `customers_export_${new Date().toISOString().split('T')[0]}.xlsx`);\n            notify('Excel file exported successfully', { type: 'success' });\n        } catch (error) {\n            notify('Failed to export Excel file', { type: 'error' });\n        }\n    };\n    \n    return (\n        <TopToolbar>\n            <Button\n                onClick={handleExportExcel}\n                startIcon={<Download />}\n                variant=\"outlined\"\n                size=\"small\"\n            >\n                Export Excel\n            </Button>\n            <CreateButton />\n            <ColumnsButton />\n        </TopToolbar>\n    );\n};\n\nconst CustomerTitle = () => {\n    const title = useDefaultTitle();\n    const { defaultTitle } = useListContext();\n    return (\n        <>\n            <title>{`${title} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst Column = DataTable.Col<Customer>;\n\nconst AvatarField = ({ record }: { record?: Customer }) => {\n    if (!record?.avatar) return null;\n    return (\n        <Avatar \n            src={`https://sensornode.shop/api/files/_pb_users_auth_/${record.id}/${record.avatar}`}\n            alt={record.name}\n            sx={{ width: 32, height: 32 }}\n        />\n    );\n};\n\nconst VerifiedField = ({ record }: { record?: Customer }) => {\n    const [update] = useUpdate();\n    const notify = useNotify();\n    const refresh = useRefresh();\n    \n    const handleVerifiedChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n        event.stopPropagation();\n        if (!record) return;\n        \n        const newVerified = event.target.checked;\n        try {\n            await update('customers', {\n                id: record.id,\n                data: { ...record, verified: newVerified },\n                previousData: record,\n            });\n            notify(`Customer ${newVerified ? 'verified' : 'unverified'} successfully`, { type: 'success' });\n            refresh();\n        } catch (error) {\n            notify('Error updating verification status', { type: 'error' });\n        }\n    };\n    \n    return (\n        <Switch\n            checked={record?.verified || false}\n            onChange={handleVerifiedChange}\n            size=\"small\"\n            color=\"success\"\n        />\n    );\n};\n\nconst AccountStatusField = ({ record }: { record?: Customer }) => {\n    const [update] = useUpdate();\n    const notify = useNotify();\n    const refresh = useRefresh();\n    \n    const handleStatusChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (!record) return;\n        \n        const newStatus = event.target.checked;\n        try {\n            await update('customers', {\n                id: record.id,\n                data: { ...record, verified: newStatus },\n                previousData: record,\n            });\n            notify(`Account status updated to ${newStatus ? 'Active' : 'Inactive'}`, { type: 'success' });\n            refresh();\n        } catch (error) {\n            notify('Error updating account status', { type: 'error' });\n        }\n    };\n    \n    return (\n        <FormControlLabel\n            control={\n                <Switch\n                    checked={record?.verified || false}\n                    onChange={handleStatusChange}\n                    size=\"small\"\n                    color=\"primary\"\n                />\n            }\n            label={record?.verified ? 'Active' : 'Inactive'}\n            labelPlacement=\"start\"\n            sx={{ margin: 0 }}\n        />\n    );\n};\n\n\nconst CustomerList = () => {\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('sm')\n    );\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('md'));\n    \n    return (\n        <List\n            filters={customerFilters}\n            sort={{ field: 'created', order: 'DESC' }}\n            perPage={25}\n            actions={<CustomerListActions />}\n            title={<CustomerTitle />}\n        >\n            <DataTable\n                rowClick=\"edit\"\n                sx={{\n                    '& .column-avatar': {\n                        width: '48px',\n                    },\n                    '& .column-phone_number': {\n                        md: { display: 'none' },\n                        lg: { display: 'table-cell' },\n                    },\n                }}\n            >\n                <Column\n                    source=\"avatar\"\n                    field={AvatarField}\n                />\n                <Column\n                    source=\"name\"\n                    label=\"Name\"\n                />\n                <Column\n                    source=\"username\"\n                    label=\"Username\"\n                />\n                <Column\n                    source=\"email\"\n                    field={EmailField}\n                />\n                <Column\n                    source=\"phone_number\"\n                    label=\"Phone\"\n                />\n                <Column\n                    source=\"verified\"\n                    field={VerifiedField}\n                />\n                <Column\n                    source=\"created\"\n                    field={DateField}\n                    label=\"Created\"\n                />\n                <Column\n                    source=\"updated\"\n                    field={DateField}\n                    label=\"Updated\"\n                />\n            </DataTable>\n        </List>\n    );\n};\n\nexport default CustomerList;","import * as React from 'react';\nimport {\n    Create,\n    SimpleForm,\n    TextInput,\n    BooleanInput,\n    useTranslate,\n    email,\n    useDefaultTitle,\n    useCreateContext,\n    ImageInput,\n    ImageField,\n} from 'react-admin';\nimport { Box, Typography } from '@mui/material';\n\nexport const validateForm = (\n    values: Record<string, any>\n): Record<string, any> => {\n    const errors = {} as any;\n    if (!values.name) {\n        errors.name = 'ra.validation.required';\n    }\n    if (!values.username) {\n        errors.username = 'ra.validation.required';\n    }\n    if (!values.email) {\n        errors.email = 'ra.validation.required';\n    } else {\n        const error = email()(values.email);\n        if (error) {\n            errors.email = error;\n        }\n    }\n    return errors;\n};\n\nconst CustomerTitle = () => {\n    const appTitle = useDefaultTitle();\n    const { defaultTitle } = useCreateContext();\n    return (\n        <>\n            <title>{`${appTitle} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst CustomerCreate = () => (\n    <Create title={<CustomerTitle />}>\n        <SimpleForm\n            sx={{ maxWidth: 600 }}\n            defaultValues={{\n                verified: false,\n                emailVisibility: true,\n            }}\n            validate={validateForm}\n        >\n            <SectionTitle label=\"Customer Information\" />\n            <Box\n                sx={{\n                    display: { xs: 'block', sm: 'flex', width: '100%' },\n                    gap: 2,\n                }}\n            >\n                <Box sx={{ flex: 1 }}>\n                    <TextInput source=\"name\" isRequired fullWidth />\n                </Box>\n                <Box sx={{ flex: 1 }}>\n                    <TextInput source=\"username\" isRequired fullWidth />\n                </Box>\n            </Box>\n            \n            <TextInput type=\"email\" source=\"email\" isRequired fullWidth />\n            <TextInput source=\"phone_number\" fullWidth />\n            \n            <Separator />\n            \n            <SectionTitle label=\"Profile Settings\" />\n            <ImageInput source=\"avatar\" accept={{}} maxSize={5000000}>\n                <ImageField source=\"src\" title=\"title\" />\n            </ImageInput>\n            \n            <Box\n                sx={{\n                    display: { xs: 'block', sm: 'flex' },\n                    gap: 2,\n                }}\n            >\n                <BooleanInput source=\"verified\" />\n                <BooleanInput source=\"emailVisibility\" />\n            </Box>\n            \n            <Separator />\n            \n            <SectionTitle label=\"Address\" />\n            <TextInput source=\"address_id\" fullWidth helperText=\"Link to address record\" />\n        </SimpleForm>\n    </Create>\n);\n\nconst SectionTitle = ({ label }: { label: string }) => {\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {label}\n        </Typography>\n    );\n};\n\nconst Separator = () => (\n    <Box\n        sx={{\n            pt: '1em',\n        }}\n    />\n);\n\nexport default CustomerCreate;","import * as React from 'react';\nimport {\n    Edit,\n    SimpleForm,\n    TextInput,\n    BooleanInput,\n    useTranslate,\n    useDefaultTitle,\n    useEditContext,\n    ImageInput,\n    ImageField,\n    DateField,\n    TextField,\n} from 'react-admin';\nimport { Box, Typography, Avatar, Card, CardContent } from '@mui/material';\nimport { validateForm } from './CustomerCreate';\n\nconst CustomerEdit = () => {\n    const translate = useTranslate();\n    return (\n        <Edit title={<CustomerTitle />} aside={<CustomerAside />}>\n            <SimpleForm validate={validateForm}>\n                <Box sx={{ display: 'flex', gap: 3, flexDirection: { xs: 'column', md: 'row' } }}>\n                    <Box sx={{ flex: 2 }}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Customer Information\n                        </Typography>\n                        <Box\n                            sx={{\n                                display: { xs: 'block', sm: 'flex' },\n                                gap: 2,\n                            }}\n                        >\n                            <Box sx={{ flex: 1 }}>\n                                <TextInput source=\"name\" isRequired fullWidth />\n                            </Box>\n                            <Box sx={{ flex: 1 }}>\n                                <TextInput source=\"username\" isRequired fullWidth />\n                            </Box>\n                        </Box>\n                        \n                        <TextInput type=\"email\" source=\"email\" isRequired fullWidth />\n                        <TextInput source=\"phone_number\" fullWidth />\n                        \n                        <Box sx={{ mt: 2 }} />\n                        \n                        <Typography variant=\"h6\" gutterBottom>\n                            Profile Settings\n                        </Typography>\n                        <ImageInput source=\"avatar\" accept={{}} maxSize={5000000}>\n                            <ImageField source=\"src\" title=\"title\" />\n                        </ImageInput>\n                        \n                        <Box\n                            sx={{\n                                display: { xs: 'block', sm: 'flex' },\n                                gap: 2,\n                            }}\n                        >\n                            <BooleanInput source=\"verified\" />\n                            <BooleanInput source=\"emailVisibility\" />\n                        </Box>\n                        \n                        <Box sx={{ mt: 2 }} />\n                        \n                        <Typography variant=\"h6\" gutterBottom>\n                            Address\n                        </Typography>\n                        <TextInput source=\"address_id\" fullWidth helperText=\"Link to address record\" />\n                    </Box>\n                    \n                    <Box sx={{ flex: 1 }}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Customer Stats\n                        </Typography>\n                        <Card>\n                            <CardContent>\n                                <Typography variant=\"body2\" color=\"textSecondary\">\n                                    Created: <DateField source=\"created\" showTime />\n                                </Typography>\n                                <Typography variant=\"body2\" color=\"textSecondary\">\n                                    Updated: <DateField source=\"updated\" showTime />\n                                </Typography>\n                            </CardContent>\n                        </Card>\n                    </Box>\n                </Box>\n            </SimpleForm>\n        </Edit>\n    );\n};\n\nconst CustomerAside = () => {\n    return (\n        <Box sx={{ width: 300, p: 2 }}>\n            <Card>\n                <CardContent>\n                    <Typography variant=\"h6\" gutterBottom>\n                        Profile Preview\n                    </Typography>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\n                        <Avatar sx={{ width: 64, height: 64 }}>\n                            <TextField source=\"name\" />\n                        </Avatar>\n                        <Box>\n                            <Typography variant=\"h6\">\n                                <TextField source=\"name\" />\n                            </Typography>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                @<TextField source=\"username\" />\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Typography variant=\"body2\">\n                        Email: <TextField source=\"email\" />\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Phone: <TextField source=\"phone_number\" />\n                    </Typography>\n                </CardContent>\n            </Card>\n        </Box>\n    );\n};\n\nconst CustomerTitle = () => {\n    const appTitle = useDefaultTitle();\n    const { defaultTitle } = useEditContext();\n    return (\n        <>\n            <title>{`${appTitle} - ${defaultTitle}`}</title>\n            <Typography variant=\"h5\">\n                Edit Customer: <TextField source=\"name\" />\n            </Typography>\n        </>\n    );\n};\n\nexport default CustomerEdit;","import CustomerList from './CustomerList';\nimport CustomerCreate from './CustomerCreate';\nimport CustomerEdit from './CustomerEdit';\nimport { PersonAdd, People } from '@mui/icons-material';\n\nexport default {\n    list: CustomerList,\n    create: CustomerCreate,\n    edit: CustomerEdit,\n    icon: People,\n};","import * as React from 'react';\nimport { ReferenceField, ReferenceFieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerReferenceField = (\n    props: Omit<ReferenceFieldProps, 'reference' | 'children' | 'source'> & {\n        source?: string;\n    }\n) => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField source=\"last_name\" />\n    </ReferenceField>\n);\n\nexport default CustomerReferenceField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { Box, Card, CardHeader, CardContent, Typography } from '@mui/material';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    useListContext,\n    RecordContextProvider,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport { Order } from '../types';\n\nconst MobileGrid = () => {\n    const { data, error, isPending } = useListContext<Order>();\n    const translate = useTranslate();\n    if (isPending || error || data.length === 0) {\n        return null;\n    }\n    return (\n        <Box\n            sx={{\n                margin: '0.5em',\n            }}\n        >\n            {data.map(record => (\n                <RecordContextProvider key={record.id} value={record}>\n                    <Card sx={{ margin: '0.5rem 0' }}>\n                        <CardHeader\n                            title={\n                                <>\n                                    {translate('resources.orders.name', 1)} #\n                                    <TextField\n                                        source=\"reference\"\n                                        variant=\"body1\"\n                                    />\n                                </>\n                            }\n                            titleTypographyProps={{ variant: 'body1' }}\n                            action={<EditButton />}\n                        />\n                        <CardContent sx={{ pt: 0 }}>\n                            <CustomerReferenceField\n                                source=\"customer_id\"\n                                sx={{ display: 'block', mb: 1 }}\n                            />\n                            <Typography variant=\"body2\" gutterBottom>\n                                {translate('resources.reviews.fields.date')}\n                                :&nbsp;\n                                <DateField source=\"date\" showTime />\n                            </Typography>\n                            <Typography variant=\"body2\" gutterBottom>\n                                {translate(\n                                    'resources.orders.fields.basket.total'\n                                )}\n                                :&nbsp;\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                />\n                            </Typography>\n                            <Typography variant=\"body2\" gutterBottom>\n                                {translate('resources.orders.fields.status')}\n                                :&nbsp;\n                                <TextField source=\"status\" />\n                            </Typography>\n                            <Typography variant=\"body2\">\n                                {translate('resources.orders.fields.returned')}\n                                :&nbsp;\n                                <BooleanField source=\"returned\" />\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                </RecordContextProvider>\n            ))}\n        </Box>\n    );\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { Fragment, useCallback, useState, createContext, useContext, useEffect } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Count,\n    DataTable,\n    DateField,\n    DateInput,\n    ExportButton,\n    FilterButton,\n    List,\n    NullableBooleanInput,\n    NumberInput,\n    ReferenceField,\n    ReferenceInput,\n    SearchInput,\n    ColumnsButton,\n    TopToolbar,\n    useDefaultTitle,\n    useListContext,\n    useDataProvider,\n    Loading,\n} from 'react-admin';\nimport { \n    useMediaQuery, \n    Divider, \n    Tabs, \n    Tab, \n    Theme, \n    ToggleButton, \n    ToggleButtonGroup, \n    Box, \n    Typography, \n    Collapse,\n    IconButton,\n    Card,\n    CardContent,\n    Chip,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    Paper,\n    Alert\n} from '@mui/material';\nimport { ExpandMore, ExpandLess, Person, LocationOn, Receipt } from '@mui/icons-material';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Customer, Order, Currency, ApiOrder } from '../types';\nimport pb from '../api/pocketbase';\n\nconst storeKeyByStatus = {\n    pending: 'orders.list1',\n    delivered: 'orders.list2',\n    cancelled: 'orders.list3',\n};\n\nconst CurrencyContext = createContext<{\n    currency: Currency;\n    setCurrency: (currency: Currency) => void;\n}>({ currency: 'USD', setCurrency: () => {} });\n\nexport const useCurrency = () => useContext(CurrencyContext);\n\nconst ListActions = () => {\n    const { filterValues } = useListContext();\n    const { currency, setCurrency } = useCurrency();\n    const status =\n        (filterValues.status as 'pending' | 'delivered' | 'cancelled') ??\n        'pending';\n    \n    const handleCurrencyChange = (\n        event: React.MouseEvent<HTMLElement>,\n        newCurrency: Currency | null,\n    ) => {\n        if (newCurrency !== null) {\n            setCurrency(newCurrency);\n        }\n    };\n    \n    return (\n        <TopToolbar>\n            <Box sx={{ display: 'flex', alignItems: 'center', mr: 2 }}>\n                <Typography variant=\"body2\" sx={{ mr: 1 }}>Currency:</Typography>\n                <ToggleButtonGroup\n                    value={currency}\n                    exclusive\n                    onChange={handleCurrencyChange}\n                    size=\"small\"\n                >\n                    <ToggleButton value=\"USD\">USD</ToggleButton>\n                    <ToggleButton value=\"LAK\">LAK</ToggleButton>\n                    <ToggleButton value=\"THB\">THB</ToggleButton>\n                </ToggleButtonGroup>\n            </Box>\n            <FilterButton />\n            <ColumnsButton storeKey={storeKeyByStatus[status]} />\n            <ExportButton />\n        </TopToolbar>\n    );\n};\n\nconst OrdersTitle = () => {\n    const title = useDefaultTitle();\n    const { defaultTitle } = useListContext();\n    return (\n        <>\n            <title>{`${title} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst OrderList = () => {\n    const [currency, setCurrency] = useState<Currency>('USD');\n    \n    return (\n        <CurrencyContext.Provider value={{ currency, setCurrency }}>\n            <Box sx={{ p: 2 }}>\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n                    <Typography variant=\"h4\" component=\"h1\">\n                        Orders Management\n                    </Typography>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n                        <Typography variant=\"body2\">Currency:</Typography>\n                        <ToggleButtonGroup\n                            value={currency}\n                            exclusive\n                            onChange={(event, newCurrency) => {\n                                if (newCurrency !== null) {\n                                    setCurrency(newCurrency);\n                                }\n                            }}\n                            size=\"small\"\n                        >\n                            <ToggleButton value=\"USD\">USD</ToggleButton>\n                            <ToggleButton value=\"LAK\">LAK</ToggleButton>\n                            <ToggleButton value=\"THB\">THB</ToggleButton>\n                        </ToggleButtonGroup>\n                    </Box>\n                </Box>\n                <TabbedDatagrid />\n            </Box>\n        </CurrencyContext.Provider>\n    );\n};\n\nconst orderFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <SearchInput source=\"customerName\" label=\"Customer Name\" />,\n    <SearchInput source=\"phoneNumber\" label=\"Phone Number\" />,\n    <DateInput source=\"created_gte\" label=\"From Date\" parse={d => new Date(d).toISOString().split('T')[0]} />,\n    <DateInput source=\"created_lte\" label=\"To Date\" parse={d => new Date(d).toISOString().split('T')[0]} />,\n];\n\nconst tabs = [\n    { id: 'pending', name: 'pending' },\n    { id: 'delivered', name: 'delivered' },\n    { id: 'cancelled', name: 'cancelled' },\n];\n\n\nconst TabbedDatagrid = () => {\n    const [activeTab, setActiveTab] = useState<string>('pending');\n    const [orderCounts, setOrderCounts] = useState<{[key: string]: number}>({});\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('sm')\n    );\n\n    // Fetch order counts for each status\n    useEffect(() => {\n        const fetchOrderCounts = async () => {\n            try {\n                const counts: {[key: string]: number} = {};\n                \n                for (const tab of tabs) {\n                    const response = await pb.collection('orders').getList(1, 1, {\n                        filter: `status = \"${tab.id}\"`\n                    });\n                    counts[tab.id] = response.totalItems;\n                }\n                \n                setOrderCounts(counts);\n            } catch (error) {\n                console.error('Error fetching order counts:', error);\n            }\n        };\n\n        fetchOrderCounts();\n    }, []);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setActiveTab(value);\n        },\n        []\n    );\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={activeTab}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={\n                            <span>\n                                {choice.name} ({orderCounts[choice.id] || 0})\n                            </span>\n                        }\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <MobileGrid />\n            ) : (\n                <OrdersTable status={activeTab} />\n            )}\n        </Fragment>\n    );\n};\n\nconst Column = DataTable.Col<ApiOrder>;\nconst ColumnNumber = DataTable.NumberCol<ApiOrder>;\n\nconst AmountField = ({ record }: { record?: ApiOrder }) => {\n    const { currency } = useCurrency();\n    \n    if (!record) return null;\n    \n    const getAmount = () => {\n        switch (currency) {\n            case 'USD':\n                return `$${parseFloat(record.amountUSD).toFixed(2)}`;\n            case 'LAK':\n                return `₭${parseFloat(record.amountLAK).toLocaleString()}`;\n            case 'THB':\n                return `฿${parseFloat(record.amountTHB).toFixed(2)}`;\n            default:\n                return `$${parseFloat(record.amountUSD).toFixed(2)}`;\n        }\n    };\n    \n    return <span style={{ fontWeight: 'bold' }}>{getAmount()}</span>;\n};\n\n// Types for PocketBase data\ninterface PBOrder {\n    id: string;\n    customer_id: string;\n    customer_name: string;\n    phone_number: string;\n    address_id: string;\n    address: string;\n    status: 'pending' | 'delivered' | 'cancelled';\n    reference_id: string;\n    remark: string;\n    created: string;\n    updated: string;\n}\n\ninterface PBOrderItem {\n    id: string;\n    order_id: string;\n    product_id: string;\n    quantity: number;\n    price_lak: number;\n    price_usd: number;\n    price_thb: number;\n    product_name: string;\n    created: string;\n    updated: string;\n}\n\ninterface PBCustomer {\n    id: string;\n    username: string;\n    name: string;\n    phone_number: string;\n    avatar: string;\n    verified: boolean;\n    email: string;\n    emailVisibility: boolean;\n    address_id: string;\n    created: string;\n    updated: string;\n}\n\ninterface PBAddress {\n    id: string;\n    customer_id: string;\n    province_id: string;\n    district_id: string;\n    village: string;\n    shipping_name: string;\n    created: string;\n    updated: string;\n}\n\ninterface PBProduct {\n    id: string;\n    name: string;\n    description: string;\n    price_lak: number;\n    price_usd: number;\n    price_thb: number;\n    category_id: string;\n    images: Array<string>;\n    created: string;\n    updated: string;\n}\n\n// Order Detail Component\nconst OrderDetail: React.FC<{ order: PBOrder }> = ({ order }) => {\n    const [open, setOpen] = useState(false);\n    const [orderItems, setOrderItems] = useState<PBOrderItem[]>([]);\n    const [customer, setCustomer] = useState<PBCustomer | null>(null);\n    const [address, setAddress] = useState<PBAddress | null>(null);\n    const [products, setProducts] = useState<{ [key: string]: PBProduct }>({});\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const { currency } = useCurrency();\n\n    const fetchOrderDetails = async () => {\n        if (!open || orderItems.length > 0) return;\n        \n        setLoading(true);\n        setError(null);\n        \n        try {\n            // Fetch order items\n            const itemsResponse = await pb.collection('order_items').getList(1, 50, {\n                filter: `order_id = \"${order.id}\"`\n            });\n            setOrderItems(itemsResponse.items as unknown as PBOrderItem[]);\n\n            // Fetch customer details\n            if (order.customer_id) {\n                try {\n                    const customerData = await pb.collection('customers').getOne(order.customer_id);\n                    setCustomer(customerData as unknown as PBCustomer);\n                } catch (err) {\n                    console.warn('Failed to fetch customer:', err);\n                }\n            }\n\n            // Fetch address details\n            if (order.address_id) {\n                try {\n                    const addressData = await pb.collection('addresses').getOne(order.address_id);\n                    setAddress(addressData as unknown as PBAddress);\n                } catch (err) {\n                    console.warn('Failed to fetch address:', err);\n                }\n            }\n\n            // Fetch product details for each order item\n            const productIds = itemsResponse.items.map(item => item.product_id);\n            const uniqueProductIds = Array.from(new Set(productIds));\n            \n            const productPromises = uniqueProductIds.map(async (productId) => {\n                try {\n                    const productData = await pb.collection('products').getOne(productId);\n                    return { id: productId, data: productData as unknown as PBProduct };\n                } catch (err) {\n                    console.warn(`Failed to fetch product ${productId}:`, err);\n                    return null;\n                }\n            });\n\n            const productResults = await Promise.all(productPromises);\n            const productsMap: { [key: string]: PBProduct } = {};\n            productResults.forEach(result => {\n                if (result) {\n                    productsMap[result.id] = result.data;\n                }\n            });\n            setProducts(productsMap);\n\n        } catch (err) {\n            console.error('Error fetching order details:', err);\n            setError('Failed to load order details');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchOrderDetails();\n    }, [open, order.id]);\n\n    const calculateTotals = () => {\n        return orderItems.reduce((totals, item) => {\n            return {\n                lak: totals.lak + (item.quantity * item.price_lak),\n                usd: totals.usd + (item.quantity * item.price_usd),\n                thb: totals.thb + (item.quantity * item.price_thb)\n            };\n        }, { lak: 0, usd: 0, thb: 0 });\n    };\n\n    const totals = calculateTotals();\n\n    const formatCurrency = (amount: number, currencyType: string) => {\n        switch (currencyType) {\n            case 'LAK':\n                return `₭${amount.toLocaleString()}`;\n            case 'USD':\n                return `$${amount.toFixed(2)}`;\n            case 'THB':\n                return `฿${amount.toFixed(2)}`;\n            default:\n                return amount.toString();\n        }\n    };\n\n    const getCurrentTotal = () => {\n        switch (currency) {\n            case 'LAK':\n                return formatCurrency(totals.lak, 'LAK');\n            case 'USD':\n                return formatCurrency(totals.usd, 'USD');\n            case 'THB':\n                return formatCurrency(totals.thb, 'THB');\n            default:\n                return formatCurrency(totals.usd, 'USD');\n        }\n    };\n\n    return (\n        <>\n            <TableRow>\n                <TableCell>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <IconButton onClick={() => setOpen(!open)} size=\"small\">\n                            {open ? <ExpandLess /> : <ExpandMore />}\n                        </IconButton>\n                        <DateField source=\"created\" record={order} showTime />\n                    </Box>\n                </TableCell>\n                <TableCell>{order.reference_id}</TableCell>\n                <TableCell>{order.customer_name}</TableCell>\n                <TableCell>{order.phone_number}</TableCell>\n                <TableCell>{order.address}</TableCell>\n                <TableCell>\n                    <Chip \n                        label={order.status} \n                        color={order.status === 'pending' ? 'warning' : order.status === 'delivered' ? 'success' : 'error'}\n                        size=\"small\"\n                    />\n                </TableCell>\n                <TableCell>{getCurrentTotal()}</TableCell>\n            </TableRow>\n            <TableRow>\n                <TableCell colSpan={7} sx={{ paddingBottom: 0, paddingTop: 0 }}>\n                    <Collapse in={open} timeout=\"auto\" unmountOnExit>\n                        <Box sx={{ margin: 2 }}>\n                            {loading && <Loading />}\n                            {error && <Alert severity=\"error\">{error}</Alert>}\n                            {!loading && !error && (\n                                <Box sx={{ display: 'flex', flexDirection: { xs: 'column', md: 'row' }, gap: 3 }}>\n                                    {/* Order Information Section */}\n                                    <Box sx={{ flex: { md: '0 0 33%' } }}>\n                                        <Card>\n                                            <CardContent>\n                                                <Typography variant=\"h6\" gutterBottom>\n                                                    <Receipt sx={{ mr: 1, verticalAlign: 'middle' }} />\n                                                    Order Information\n                                                </Typography>\n                                                <Typography variant=\"body2\" color=\"text.secondary\">\n                                                    <strong>Reference:</strong> {order.reference_id}\n                                                </Typography>\n                                                <Typography variant=\"body2\" color=\"text.secondary\">\n                                                    <strong>Created:</strong> {new Date(order.created).toLocaleString()}\n                                                </Typography>\n                                                <Typography variant=\"body2\" color=\"text.secondary\">\n                                                    <strong>Status:</strong> {order.status}\n                                                </Typography>\n                                                {order.remark && (\n                                                    <Typography variant=\"body2\" color=\"text.secondary\">\n                                                        <strong>Remark:</strong> {order.remark}\n                                                    </Typography>\n                                                )}\n                                                {customer && (\n                                                    <Box sx={{ mt: 2 }}>\n                                                        <Typography variant=\"subtitle2\" gutterBottom>\n                                                            <Person sx={{ mr: 1, verticalAlign: 'middle' }} />\n                                                            Customer Details\n                                                        </Typography>\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\n                                                            <strong>Name:</strong> {customer.name || customer.username}\n                                                        </Typography>\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\n                                                            <strong>Email:</strong> {customer.email}\n                                                        </Typography>\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\n                                                            <strong>Phone:</strong> {customer.phone_number}\n                                                        </Typography>\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\n                                                            <strong>Verified:</strong> {customer.verified ? 'Yes' : 'No'}\n                                                        </Typography>\n                                                    </Box>\n                                                )}\n                                                {address && (\n                                                    <Box sx={{ mt: 2 }}>\n                                                        <Typography variant=\"subtitle2\" gutterBottom>\n                                                            <LocationOn sx={{ mr: 1, verticalAlign: 'middle' }} />\n                                                            Shipping Address\n                                                        </Typography>\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\n                                                            <strong>Name:</strong> {address.shipping_name}\n                                                        </Typography>\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\n                                                            <strong>Village:</strong> {address.village}\n                                                        </Typography>\n                                                    </Box>\n                                                )}\n                                            </CardContent>\n                                        </Card>\n                                    </Box>\n\n                                    {/* Order Items Section */}\n                                    <Box sx={{ flex: { md: '0 0 42%' } }}>\n                                        <Card>\n                                            <CardContent>\n                                                <Typography variant=\"h6\" gutterBottom>\n                                                    Order Items\n                                                </Typography>\n                                                {orderItems.length > 0 ? (\n                                                    <TableContainer>\n                                                        <Table size=\"small\">\n                                                            <TableHead>\n                                                                <TableRow>\n                                                                    <TableCell>Product</TableCell>\n                                                                    <TableCell align=\"right\">Qty</TableCell>\n                                                                    <TableCell align=\"right\">Price</TableCell>\n                                                                    <TableCell align=\"right\">Total</TableCell>\n                                                                </TableRow>\n                                                            </TableHead>\n                                                            <TableBody>\n                                                                {orderItems.map((item) => {\n                                                                    const product = products[item.product_id];\n                                                                    const getPrice = () => {\n                                                                        switch (currency) {\n                                                                            case 'LAK': return item.price_lak;\n                                                                            case 'USD': return item.price_usd;\n                                                                            case 'THB': return item.price_thb;\n                                                                            default: return item.price_usd;\n                                                                        }\n                                                                    };\n                                                                    const price = getPrice();\n                                                                    const total = price * item.quantity;\n                                                                    \n                                                                    return (\n                                                                        <TableRow key={item.id}>\n                                                                            <TableCell>\n                                                                                {product?.name || item.product_name}\n                                                                            </TableCell>\n                                                                            <TableCell align=\"right\">{item.quantity}</TableCell>\n                                                                            <TableCell align=\"right\">\n                                                                                {formatCurrency(price, currency)}\n                                                                            </TableCell>\n                                                                            <TableCell align=\"right\">\n                                                                                {formatCurrency(total, currency)}\n                                                                            </TableCell>\n                                                                        </TableRow>\n                                                                    );\n                                                                })}\n                                                            </TableBody>\n                                                        </Table>\n                                                    </TableContainer>\n                                                ) : (\n                                                    <Typography variant=\"body2\" color=\"text.secondary\">\n                                                        No items found\n                                                    </Typography>\n                                                )}\n                                            </CardContent>\n                                        </Card>\n                                    </Box>\n\n                                    {/* Order Totals Section */}\n                                    <Box sx={{ flex: { md: '0 0 25%' } }}>\n                                        <Card>\n                                            <CardContent>\n                                                <Typography variant=\"h6\" gutterBottom>\n                                                    Order Totals\n                                                </Typography>\n                                                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n                                                    <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                                                        <Typography variant=\"body2\">LAK:</Typography>\n                                                        <Typography variant=\"body2\" fontWeight=\"bold\">\n                                                            {formatCurrency(totals.lak, 'LAK')}\n                                                        </Typography>\n                                                    </Box>\n                                                    <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                                                        <Typography variant=\"body2\">USD:</Typography>\n                                                        <Typography variant=\"body2\" fontWeight=\"bold\">\n                                                            {formatCurrency(totals.usd, 'USD')}\n                                                        </Typography>\n                                                    </Box>\n                                                    <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                                                        <Typography variant=\"body2\">THB:</Typography>\n                                                        <Typography variant=\"body2\" fontWeight=\"bold\">\n                                                            {formatCurrency(totals.thb, 'THB')}\n                                                        </Typography>\n                                                    </Box>\n                                                    <Divider sx={{ my: 1 }} />\n                                                    <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                                                        <Typography variant=\"body1\" fontWeight=\"bold\">Current ({currency}):</Typography>\n                                                        <Typography variant=\"body1\" fontWeight=\"bold\" color=\"primary\">\n                                                            {getCurrentTotal()}\n                                                        </Typography>\n                                                    </Box>\n                                                </Box>\n                                            </CardContent>\n                                        </Card>\n                                    </Box>\n                                </Box>\n                            )}\n                        </Box>\n                    </Collapse>\n                </TableCell>\n            </TableRow>\n        </>\n    );\n};\n\n// Custom Orders Table with PocketBase integration\nconst OrdersTable = React.memo(({ status }: { status: string }) => {\n    const [orders, setOrders] = useState<PBOrder[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        const fetchOrders = async () => {\n            setLoading(true);\n            setError(null);\n            \n            try {\n                const response = await pb.collection('orders').getList(1, 50, {\n                    filter: `status = \"${status}\"`,\n                    sort: '-created'\n                });\n                setOrders(response.items as unknown as PBOrder[]);\n            } catch (err) {\n                console.error('Error fetching orders:', err);\n                setError('Failed to load orders');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchOrders();\n    }, [status]);\n\n    if (loading) return <Loading />;\n    if (error) return <Alert severity=\"error\">{error}</Alert>;\n\n    return (\n        <TableContainer component={Paper}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Date</TableCell>\n                        <TableCell>Reference</TableCell>\n                        <TableCell>Customer</TableCell>\n                        <TableCell>Phone</TableCell>\n                        <TableCell>Address</TableCell>\n                        <TableCell>Status</TableCell>\n                        <TableCell>Total</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {orders.map((order) => (\n                        <OrderDetail key={order.id} order={order} />\n                    ))}\n                </TableBody>\n            </Table>\n        </TableContainer>\n    );\n});\n\nexport default OrderList;\n","import * as React from 'react';\nimport { Table, TableBody, TableCell, TableRow } from '@mui/material';\nimport { useRecordContext, useTranslate } from 'react-admin';\n\nimport { Order } from '../types';\nimport { TableCellRight } from './TableCellRight';\n\nconst Totals = () => {\n    const record = useRecordContext<Order>();\n    const translate = useTranslate();\n\n    return (\n        <Table sx={{ minWidth: '35em' }}>\n            <TableBody>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.orders.fields.basket.sum')}\n                    </TableCell>\n                    <TableCellRight>\n                        {record?.total_ex_taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCellRight>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.orders.fields.basket.delivery')}\n                    </TableCell>\n                    <TableCellRight>\n                        {record?.delivery_fees.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCellRight>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.orders.fields.basket.taxes')} (\n                        {record?.tax_rate.toLocaleString(undefined, {\n                            style: 'percent',\n                        })}\n                        )\n                    </TableCell>\n                    <TableCellRight>\n                        {record?.taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCellRight>\n                </TableRow>\n                <TableRow>\n                    <TableCell sx={{ fontWeight: 'bold' }}>\n                        {translate('resources.orders.fields.basket.total')}\n                    </TableCell>\n                    <TableCellRight sx={{ fontWeight: 'bold' }}>\n                        {record?.total.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCellRight>\n                </TableRow>\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Totals;\n","import * as React from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Edit,\n    Form,\n    Labeled,\n    Link as RaLink,\n    PrevNextButtons,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    useRecordContext,\n    useTranslate,\n    useDefaultTitle,\n    useEditContext,\n} from 'react-admin';\nimport { Card, CardContent, Box, Grid, Typography, Link } from '@mui/material';\n\nimport { Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\n\nconst OrderEdit = () => (\n    <Edit title={<OrderTitle />} component=\"div\">\n        <OrderForm />\n    </Edit>\n);\n\nconst OrderTitle = () => {\n    const appTitle = useDefaultTitle();\n    const { defaultTitle } = useEditContext();\n    return (\n        <>\n            <title>{`${appTitle} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst CustomerDetails = () => {\n    const record = useRecordContext<Customer>();\n    return (\n        <Typography>\n            <RaLink to={`/customers/${record?.id}`}>\n                {record?.first_name} {record?.last_name}\n            </RaLink>\n            <br />\n            <Link href={`mailto:${record?.email}`}>{record?.email}</Link>\n        </Typography>\n    );\n};\n\nconst CustomerAddress = () => {\n    const record = useRecordContext<Customer>();\n    return (\n        <div>\n            <Typography>\n                {record?.first_name} {record?.last_name}\n            </Typography>\n            <Typography>{record?.address}</Typography>\n            <Typography>\n                {record?.city}, {record?.stateAbbr} {record?.zipcode}\n            </Typography>\n        </div>\n    );\n};\n\nconst Spacer = () => (\n    <Box\n        sx={{\n            mb: 1,\n        }}\n    >\n        &nbsp;\n    </Box>\n);\n\nconst OrderForm = () => {\n    const translate = useTranslate();\n    return (\n        <Form>\n            <Box\n                sx={{\n                    maxWidth: '50em',\n                }}\n            >\n                <PrevNextButtons\n                    filterDefaultValues={{ status: 'ordered' }}\n                    sort={{ field: 'date', order: 'DESC' }}\n                />\n                <Card>\n                    <CardContent>\n                        <Grid container spacing={1}>\n                            <Grid size={{ xs: 12, sm: 12, md: 8 }}>\n                                <Typography variant=\"h6\" gutterBottom>\n                                    {translate(\n                                        'resources.orders.section.order'\n                                    )}\n                                </Typography>\n                                <Grid container>\n                                    <Grid size={{ xs: 12, sm: 12, md: 6 }}>\n                                        <Labeled source=\"date\">\n                                            <DateField source=\"date\" />\n                                        </Labeled>\n                                    </Grid>\n                                    <Grid size={{ xs: 12, sm: 12, md: 6 }}>\n                                        <Labeled source=\"reference\">\n                                            <TextField source=\"reference\" />\n                                        </Labeled>\n                                    </Grid>\n                                </Grid>\n                                <Grid container>\n                                    <Grid size={{ xs: 12, sm: 12, md: 6 }}>\n                                        <SelectInput\n                                            source=\"status\"\n                                            choices={[\n                                                {\n                                                    id: 'delivered',\n                                                    name: 'delivered',\n                                                },\n                                                {\n                                                    id: 'ordered',\n                                                    name: 'ordered',\n                                                },\n                                                {\n                                                    id: 'cancelled',\n                                                    name: 'cancelled',\n                                                },\n                                                {\n                                                    id: 'unknown',\n                                                    name: 'unknown',\n                                                    disabled: true,\n                                                },\n                                            ]}\n                                            sx={{ width: '80%' }}\n                                        />\n                                    </Grid>\n                                    <Grid size={{ xs: 12, sm: 12, md: 6 }}>\n                                        <Box\n                                            sx={{\n                                                mt: 2,\n                                            }}\n                                        >\n                                            <BooleanInput\n                                                row={true}\n                                                source=\"returned\"\n                                            />\n                                        </Box>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                            <Grid size={{ xs: 12, sm: 12, md: 4 }}>\n                                <Typography variant=\"h6\" gutterBottom>\n                                    {translate(\n                                        'resources.orders.section.customer'\n                                    )}\n                                </Typography>\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                >\n                                    <CustomerDetails />\n                                </ReferenceField>\n                                <Spacer />\n\n                                <Typography variant=\"h6\" gutterBottom>\n                                    {translate(\n                                        'resources.orders.section.shipping_address'\n                                    )}\n                                </Typography>\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                >\n                                    <CustomerAddress />\n                                </ReferenceField>\n                            </Grid>\n                        </Grid>\n                        <Spacer />\n\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate('resources.orders.section.items')}\n                        </Typography>\n                        <div>\n                            <Basket />\n                        </div>\n                        <Spacer />\n\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate('resources.orders.section.total')}\n                        </Typography>\n                        <div>\n                            <Totals />\n                        </div>\n                    </CardContent>\n                    <Toolbar />\n                </Card>\n            </Box>\n        </Form>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@mui/icons-material/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n    recordRepresentation: 'reference',\n};\n","import * as React from 'react';\nimport {\n  BooleanField,\n  CreateButton,\n  DataTable,\n  DateField,\n  EmailField,\n  List,\n  SearchInput,\n  TextField,\n  ColumnsButton,\n  TopToolbar,\n  useDefaultTitle,\n  useListContext,\n  BooleanInput,\n  SelectInput,\n  useUpdate,\n  useNotify,\n  useRefresh,\n  useDataProvider,\n} from 'react-admin';\nimport { useMediaQuery, Theme, Chip, Switch, FormControlLabel, Button } from '@mui/material';\nimport { Download, Person } from '@mui/icons-material';\nimport * as XLSX from 'xlsx';\nimport { User } from '../dataProvider/usersDataProvider';\n\nconst userFilters = [\n  <SearchInput key=\"q\" source=\"q\" alwaysOn />,\n  <SelectInput\n    key=\"verified\"\n    source=\"verified\"\n    choices={[\n      { id: '', name: 'All Status' },\n      { id: true, name: 'Verified' },\n      { id: false, name: 'Unverified' }\n    ]}\n    label=\"Status\"\n    emptyText=\"All Status\"\n  />,\n  <SelectInput\n    key=\"emailVisibility\"\n    source=\"emailVisibility\"\n    choices={[\n      { id: '', name: 'All Email Visibility' },\n      { id: true, name: 'Email Visible' },\n      { id: false, name: 'Email Hidden' }\n    ]}\n    label=\"Email Visibility\"\n    emptyText=\"All Email Visibility\"\n  />,\n  <SearchInput key=\"email\" source=\"email\" label=\"Search by Email\" placeholder=\"Enter email address\" />,\n  <SearchInput key=\"username\" source=\"username\" label=\"Search by Username\" placeholder=\"Enter username\" />,\n];\n\nconst UserListActions = () => {\n  const dataProvider = useDataProvider();\n  const notify = useNotify();\n\n  const handleExportExcel = async () => {\n    try {\n      const { data } = await dataProvider.getList('users', {\n        pagination: { page: 1, perPage: 1000 },\n        sort: { field: 'created', order: 'DESC' },\n        filter: {},\n      });\n\n      const exportData = data.map((user: User) => ({\n        'Full Name': user.full_name,\n        'Username': user.username,\n        'Email': user.email,\n        'Phone': user.phone_number,\n        'Verified': user.verified ? 'Yes' : 'No',\n        'Created': new Date(user.created).toLocaleDateString(),\n        'Updated': new Date(user.updated).toLocaleDateString(),\n      }));\n\n      const worksheet = XLSX.utils.json_to_sheet(exportData);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Users');\n\n      XLSX.writeFile(workbook, `users_export_${new Date().toISOString().split('T')[0]}.xlsx`);\n      notify('Excel file exported successfully', { type: 'success' });\n    } catch (error) {\n      notify('Failed to export Excel file', { type: 'error' });\n    }\n  };\n\n  return (\n    <TopToolbar>\n      <Button\n        onClick={handleExportExcel}\n        startIcon={<Download />}\n        variant=\"outlined\"\n        size=\"small\"\n      >\n        Export Excel\n      </Button>\n      <CreateButton />\n      <ColumnsButton />\n    </TopToolbar>\n  );\n};\n\nconst UserTitle = () => {\n  const title = useDefaultTitle();\n  const { defaultTitle } = useListContext();\n  return (\n    <>\n      <title>{`${title} - ${defaultTitle}`}</title>\n      <span>{defaultTitle}</span>\n    </>\n  );\n};\n\nconst Column = DataTable.Col<User>;\n\nconst VerifiedField = ({ record }: { record?: User }) => {\n  const [update] = useUpdate();\n  const notify = useNotify();\n  const refresh = useRefresh();\n\n  const handleVerifiedChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    event.stopPropagation();\n    if (!record) return;\n\n    const newVerified = event.target.checked;\n    try {\n      await update('users', {\n        id: record.id,\n        data: { ...record, verified: newVerified },\n        previousData: record,\n      });\n      notify(`User ${newVerified ? 'verified' : 'unverified'} successfully`, { type: 'success' });\n      refresh();\n    } catch (error) {\n      notify('Error updating verification status', { type: 'error' });\n    }\n  };\n\n  return (\n    <Switch\n      checked={record?.verified || false}\n      onChange={handleVerifiedChange}\n      size=\"small\"\n      color=\"success\"\n    />\n  );\n};\n\nconst EmailVisibilityField = ({ record }: { record?: User }) => {\n  const [update] = useUpdate();\n  const notify = useNotify();\n  const refresh = useRefresh();\n\n  const handleEmailVisibilityChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    event.stopPropagation();\n    if (!record) return;\n\n    const newEmailVisibility = event.target.checked;\n    try {\n      await update('users', {\n        id: record.id,\n        data: { ...record, emailVisibility: newEmailVisibility },\n        previousData: record,\n      });\n      notify(`Email visibility ${newEmailVisibility ? 'enabled' : 'disabled'} successfully`, { type: 'success' });\n      refresh();\n    } catch (error) {\n      notify('Error updating email visibility', { type: 'error' });\n    }\n  };\n\n  return (\n    <Switch\n      checked={record?.emailVisibility || false}\n      onChange={handleEmailVisibilityChange}\n      size=\"small\"\n      color=\"primary\"\n    />\n  );\n};\n\nconst UserList = () => {\n  const isXsmall = useMediaQuery<Theme>(theme =>\n    theme.breakpoints.down('sm')\n  );\n  const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('md'));\n\n  return (\n    <List\n      filters={userFilters}\n      sort={{ field: 'created', order: 'DESC' }}\n      perPage={25}\n      actions={<UserListActions />}\n      title={<UserTitle />}\n    >\n      <DataTable\n        rowClick=\"edit\"\n        sx={{\n          '& .column-phone_number': {\n            md: { display: 'none' },\n            lg: { display: 'table-cell' },\n          },\n        }}\n      >\n        <Column\n          source=\"full_name\"\n          label=\"Full Name\"\n        />\n        <Column\n          source=\"username\"\n          label=\"Username\"\n        />\n        <Column\n          source=\"email\"\n          field={EmailField}\n        />\n        <Column\n          source=\"phone_number\"\n          label=\"Phone\"\n        />\n        <Column\n          source=\"verified\"\n          field={VerifiedField}\n          label=\"Verified\"\n        />\n        <Column\n          source=\"emailVisibility\"\n          field={EmailVisibilityField}\n          label=\"Email Visibility\"\n        />\n        <Column\n          source=\"created\"\n          field={DateField}\n          label=\"Created\"\n        />\n        <Column\n          source=\"updated\"\n          field={DateField}\n          label=\"Updated\"\n        />\n      </DataTable>\n    </List>\n  );\n};\n\nexport default UserList;\n","import * as React from 'react';\nimport {\n    BooleanInput,\n    Create,\n    email,\n    required,\n    SimpleForm,\n    TextInput,\n    PasswordInput,\n    useNotify,\n    useRedirect,\n} from 'react-admin';\nimport { Box, Typography } from '@mui/material';\n\nconst UserCreate = () => {\n    const notify = useNotify();\n    const redirect = useRedirect();\n\n    const validateForm = (values: any) => {\n        const errors: any = {};\n        if (!values.username) {\n            errors.username = 'Username is required';\n        }\n        if (!values.email) {\n            errors.email = 'Email is required';\n        }\n        if (!values.full_name) {\n            errors.full_name = 'Full name is required';\n        }\n        if (!values.password) {\n            errors.password = 'Password is required';\n        } else if (values.password.length < 6) {\n            errors.password = 'Password must be at least 6 characters long';\n        }\n        if (!values.passwordConfirm) {\n            errors.passwordConfirm = 'Password confirmation is required';\n        } else if (values.password !== values.passwordConfirm) {\n            errors.passwordConfirm = 'Passwords do not match';\n        }\n        return errors;\n    };\n\n    return (\n        <Create\n            title=\"Create User\"\n            mutationOptions={{\n                onSuccess: () => {\n                    notify('User created successfully', { type: 'success' });\n                    redirect('list', 'users');\n                },\n                onError: (error: any) => {\n                    notify(`Error creating user: ${error.message}`, { type: 'error' });\n                },\n            }}\n        >\n            <SimpleForm validate={validateForm}>\n                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, maxWidth: 600 }}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        Basic Information\n                    </Typography>\n                    \n                    <TextInput\n                        source=\"username\"\n                        validate={[required()]}\n                        fullWidth\n                        helperText=\"Username must be unique\"\n                    />\n                    \n                    <TextInput\n                        source=\"full_name\"\n                        validate={[required()]}\n                        fullWidth\n                        label=\"Full Name\"\n                    />\n                    \n                    <TextInput\n                        source=\"email\"\n                        validate={[required(), email()]}\n                        fullWidth\n                        helperText=\"Email must be unique\"\n                    />\n                    \n                    <TextInput\n                        source=\"phone_number\"\n                        fullWidth\n                        label=\"Phone Number\"\n                    />\n\n                    <Typography variant=\"h6\" gutterBottom sx={{ mt: 2 }}>\n                        Account Settings\n                    </Typography>\n                    \n                    <PasswordInput\n                        source=\"password\"\n                        validate={[required()]}\n                        fullWidth\n                        helperText=\"Password must be at least 6 characters long\"\n                    />\n                    \n                    <PasswordInput\n                        source=\"passwordConfirm\"\n                        validate={[required()]}\n                        fullWidth\n                        label=\"Confirm Password\"\n                        helperText=\"Must match the password above\"\n                    />\n                    \n                    <BooleanInput\n                        source=\"verified\"\n                        label=\"Mark as verified\"\n                        defaultValue={false}\n                    />\n                    \n                    <BooleanInput\n                        source=\"emailVisibility\"\n                        label=\"Email visibility\"\n                        defaultValue={true}\n                        helperText=\"Allow email to be visible to other users\"\n                    />\n                </Box>\n            </SimpleForm>\n        </Create>\n    );\n};\n\nexport default UserCreate;","import * as React from 'react';\nimport {\n    BooleanInput,\n    Edit,\n    email,\n    required,\n    SimpleForm,\n    TextInput,\n    PasswordInput,\n    useNotify,\n    useRedirect,\n    DateField,\n    TextField,\n} from 'react-admin';\nimport { Box, Typography, Card, CardContent, Grid } from '@mui/material';\n\nconst UserEdit = () => {\n    const notify = useNotify();\n    const redirect = useRedirect();\n\n    const validateForm = (values: any) => {\n        const errors: any = {};\n        if (!values.username) {\n            errors.username = 'Username is required';\n        }\n        if (!values.email) {\n            errors.email = 'Email is required';\n        }\n        if (!values.full_name) {\n            errors.full_name = 'Full name is required';\n        }\n        if (values.password && values.password.length < 6) {\n            errors.password = 'Password must be at least 6 characters long';\n        }\n        if (values.passwordConfirm && values.password !== values.passwordConfirm) {\n            errors.passwordConfirm = 'Passwords do not match';\n        }\n        return errors;\n    };\n\n    return (\n        <Edit\n            title=\"Edit User\"\n            mutationOptions={{\n                onSuccess: () => {\n                    notify('User updated successfully', { type: 'success' });\n                },\n                onError: (error: any) => {\n                    notify(`Error updating user: ${error.message}`, { type: 'error' });\n                },\n            }}\n        >\n            <SimpleForm validate={validateForm}>\n                <Grid container spacing={3}>\n                    <Grid size={{ xs: 12, md: 8 }}>\n                        <Card>\n                            <CardContent>\n                                <Typography variant=\"h6\" gutterBottom>\n                                    Basic Information\n                                </Typography>\n                                \n                                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                                    <TextInput\n                                        source=\"username\"\n                                        validate={[required()]}\n                                        fullWidth\n                                        helperText=\"Username must be unique\"\n                                    />\n                                    \n                                    <TextInput\n                                        source=\"full_name\"\n                                        validate={[required()]}\n                                        fullWidth\n                                        label=\"Full Name\"\n                                    />\n                                    \n                                    <TextInput\n                                        source=\"email\"\n                                        validate={[required(), email()]}\n                                        fullWidth\n                                        helperText=\"Email must be unique\"\n                                    />\n                                    \n                                    <TextInput\n                                        source=\"phone_number\"\n                                        fullWidth\n                                        label=\"Phone Number\"\n                                    />\n                                </Box>\n\n                                <Typography variant=\"h6\" gutterBottom sx={{ mt: 3 }}>\n                                    Change Password\n                                </Typography>\n                                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                                    <PasswordInput\n                                        source=\"password\"\n                                        fullWidth\n                                        helperText=\"Leave empty to keep current password. Must be at least 6 characters long.\"\n                                    />\n                                    \n                                    <PasswordInput\n                                        source=\"passwordConfirm\"\n                                        fullWidth\n                                        label=\"Confirm Password\"\n                                        helperText=\"Must match the password above\"\n                                    />\n                                </Box>\n\n                                <Typography variant=\"h6\" gutterBottom sx={{ mt: 3 }}>\n                                    Account Settings\n                                </Typography>\n                                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                                    <BooleanInput\n                                        source=\"verified\"\n                                        label=\"Verified\"\n                                    />\n                                    \n                                    <BooleanInput\n                                        source=\"emailVisibility\"\n                                        label=\"Email visibility\"\n                                        helperText=\"Allow email to be visible to other users\"\n                                    />\n                                </Box>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                    \n                    <Grid size={{ xs: 12, md: 4 }}>\n                        <Card>\n                            <CardContent>\n                                <Typography variant=\"h6\" gutterBottom>\n                                    User Information\n                                </Typography>\n                                \n                                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\">\n                                            User ID\n                                        </Typography>\n                                        <TextField source=\"id\" />\n                                    </Box>\n                                    \n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\">\n                                            Collection\n                                        </Typography>\n                                        <TextField source=\"collectionName\" />\n                                    </Box>\n                                    \n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\">\n                                            Created\n                                        </Typography>\n                                        <DateField source=\"created\" showTime />\n                                    </Box>\n                                    \n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\">\n                                            Updated\n                                        </Typography>\n                                        <DateField source=\"updated\" showTime />\n                                    </Box>\n                                </Box>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                </Grid>\n            </SimpleForm>\n        </Edit>\n    );\n};\n\nexport default UserEdit;","import * as React from 'react';\nimport {\n    Show,\n    SimpleShowLayout,\n    TextField,\n    EmailField,\n    BooleanField,\n    DateField,\n    TopToolbar,\n    EditButton,\n    DeleteButton,\n} from 'react-admin';\nimport { Box, Typography, Card, CardContent, Grid, Chip } from '@mui/material';\n\nconst UserShowActions = () => (\n    <TopToolbar>\n        <EditButton />\n        <DeleteButton />\n    </TopToolbar>\n);\n\nconst UserShow = () => {\n    return (\n        <Show actions={<UserShowActions />} title=\"User Details\">\n            <SimpleShowLayout>\n                <Grid container spacing={3}>\n                    <Grid size={{ xs: 12, md: 8 }}>\n                        <Card>\n                            <CardContent>\n                                <Typography variant=\"h6\" gutterBottom>\n                                    User Information\n                                </Typography>\n                                \n                                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                            Full Name\n                                        </Typography>\n                                        <TextField source=\"full_name\" variant=\"h6\" />\n                                    </Box>\n                                    \n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                            Username\n                                        </Typography>\n                                        <TextField source=\"username\" />\n                                    </Box>\n                                    \n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                            Email\n                                        </Typography>\n                                        <EmailField source=\"email\" />\n                                    </Box>\n                                    \n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                            Phone Number\n                                        </Typography>\n                                        <TextField source=\"phone_number\" />\n                                    </Box>\n                                </Box>\n                            </CardContent>\n                        </Card>\n                        \n                        <Card sx={{ mt: 2 }}>\n                            <CardContent>\n                                <Typography variant=\"h6\" gutterBottom>\n                                    Account Status\n                                </Typography>\n                                \n                                <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap' }}>\n                                    <BooleanField\n                                        source=\"verified\"\n                                        label=\"Verified\"\n                                    />\n                                    \n                                    <BooleanField\n                                        source=\"emailVisibility\"\n                                        label=\"Email Visibility\"\n                                    />\n                                </Box>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                    \n                    <Grid size={{ xs: 12, md: 4 }}>\n                        <Card>\n                            <CardContent>\n                                <Typography variant=\"h6\" gutterBottom>\n                                    System Information\n                                </Typography>\n                                \n                                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                            User ID\n                                        </Typography>\n                                        <TextField source=\"id\" />\n                                    </Box>\n                                    \n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                            Collection ID\n                                        </Typography>\n                                        <TextField source=\"collectionId\" />\n                                    </Box>\n                                    \n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                            Collection Name\n                                        </Typography>\n                                        <TextField source=\"collectionName\" />\n                                    </Box>\n                                    \n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                            Created\n                                        </Typography>\n                                        <DateField source=\"created\" showTime />\n                                    </Box>\n                                    \n                                    <Box>\n                                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                            Last Updated\n                                        </Typography>\n                                        <DateField source=\"updated\" showTime />\n                                    </Box>\n                                </Box>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                </Grid>\n            </SimpleShowLayout>\n        </Show>\n    );\n};\n\nexport default UserShow;","import { People } from '@mui/icons-material';\n\nimport UserList from './UserList';\nimport UserCreate from './UserCreate';\nimport UserEdit from './UserEdit';\nimport UserShow from './UserShow';\n\nconst users = {\n    list: UserList,\n    create: UserCreate,\n    edit: UserEdit,\n    show: UserShow,\n    icon: People,\n};\n\nexport default users;","import { Box } from '@mui/material';\nimport clsx from 'clsx';\nimport { useState } from 'react';\nimport {\n  DashboardMenuItem,\n  MenuItemLink,\n  MenuProps,\n  useSidebarState,\n  useTranslate,\n} from 'react-admin';\n\nimport blogs from '../blogs';\nimport categories from '../categories';\nimport customers from '../customers';\nimport orders from '../orders';\nimport products from '../products';\nimport visitors from '../visitors';\nimport users from '../users';\n\ntype MenuName = 'menuCatalog' | 'menuSales' | 'menuCustomers';\n\nconst Menu = ({ dense = false }: MenuProps) => {\n  const [state, setState] = useState({\n    menuCatalog: true,\n    menuSales: true,\n    menuCustomers: true,\n  });\n  const translate = useTranslate();\n  const [open] = useSidebarState();\n\n  const handleToggle = (menu: MenuName) => {\n    setState((state) => ({ ...state, [menu]: !state[menu] }));\n  };\n\n  return (\n    <Box\n      sx={{\n        width: open ? 200 : 50,\n        marginTop: 1,\n        marginBottom: 1,\n        transition: (theme) =>\n          theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n          }),\n      }}\n      className={clsx({\n        'RaMenu-open': open,\n        'RaMenu-closed': !open,\n      })}\n    >\n      <DashboardMenuItem />\n      <MenuItemLink\n        to='/orders'\n        state={{ _scrollToTop: true }}\n        primaryText={translate(`resources.orders.name`, {\n          smart_count: 2,\n        })}\n        leftIcon={<orders.icon />}\n        dense={dense}\n      />\n      <MenuItemLink\n        to='/blogs'\n        state={{ _scrollToTop: true }}\n        primaryText={translate(`resources.blogs.name`, {\n          smart_count: 2,\n        })}\n        leftIcon={<blogs.icon />}\n        dense={dense}\n      />\n      <MenuItemLink\n        to='/customers'\n        state={{ _scrollToTop: true }}\n        primaryText={translate(`resources.customers.name`, {\n          smart_count: 2,\n        })}\n        leftIcon={<customers.icon />}\n        dense={dense}\n      />\n      <MenuItemLink\n        to='/users'\n        state={{ _scrollToTop: true }}\n        primaryText={translate(`resources.users.name`, {\n          smart_count: 2,\n        })}\n        leftIcon={<users.icon />}\n        dense={dense}\n      />\n      <MenuItemLink\n        to='/products'\n        state={{ _scrollToTop: true }}\n        primaryText={translate(`resources.products.name`, {\n          smart_count: 2,\n        })}\n        leftIcon={<products.icon />}\n        dense={dense}\n      />\n      <MenuItemLink\n        to='/categories'\n        state={{ _scrollToTop: true }}\n        primaryText={translate(`resources.categories.name`, {\n          smart_count: 2,\n        })}\n        leftIcon={<categories.icon />}\n        dense={dense}\n      />\n    </Box>\n  );\n};\n\nexport default Menu;\n","import * as React from 'react';\nimport { Layout } from 'react-admin';\nimport AppBar from './AppBar';\nimport Menu from './Menu';\n\nexport default ({ children }: { children: React.ReactNode }) => (\n  <Layout\n    appBar={AppBar}\n    menu={Menu}\n    sx={{\n      backgroundColor: (theme) =>\n        (theme.vars || theme).palette.background.default,\n    }}\n  >\n    {children}\n  </Layout>\n);\n","import * as React from 'react';\nimport { Fragment } from 'react';\nimport {\n    ListItem,\n    ListItemAvatar,\n    ListItemButton,\n    ListItemText,\n} from '@mui/material';\nimport {\n    useCreatePath,\n    ReferenceField,\n    FunctionField,\n    Link,\n    TextField,\n    useRecordContext,\n} from 'react-admin';\n\nimport AvatarField from '../visitors/AvatarField';\nimport { Customer, Review } from './../types';\n\nexport const ReviewItem = () => {\n    const record = useRecordContext<Review>();\n    const createPath = useCreatePath();\n    if (!record) {\n        return null;\n    }\n    return (\n        <ListItem disablePadding>\n            <ListItemButton\n                component={Link}\n                to={createPath({\n                    resource: 'reviews',\n                    type: 'edit',\n                    id: record.id,\n                })}\n            >\n                <ListItemAvatar>\n                    <ReferenceField\n                        source=\"customer_id\"\n                        reference=\"customers\"\n                        link={false}\n                    >\n                        <AvatarField size=\"40\" />\n                    </ReferenceField>\n                </ListItemAvatar>\n                <ListItemText\n                    primary={\n                        <Fragment>\n                            <ReferenceField\n                                source=\"customer_id\"\n                                reference=\"customers\"\n                                link={false}\n                            >\n                                <FunctionField<Customer>\n                                    render={record =>\n                                        `${record.first_name} ${record.last_name}`\n                                    }\n                                    variant=\"subtitle1\"\n                                />\n                            </ReferenceField>{' '}\n                            on{' '}\n                            <ReferenceField\n                                source=\"product_id\"\n                                reference=\"products\"\n                                link={false}\n                            >\n                                <TextField\n                                    source=\"reference\"\n                                    variant=\"subtitle1\"\n                                />\n                            </ReferenceField>\n                        </Fragment>\n                    }\n                    secondary={record.comment}\n                    secondaryTypographyProps={{ noWrap: true }}\n                />\n            </ListItemButton>\n        </ListItem>\n    );\n};\n","import * as React from 'react';\nimport { List } from '@mui/material';\nimport { RecordContextProvider, useListContext } from 'react-admin';\n\nimport { ReviewItem } from './ReviewItem';\nimport { Review } from './../types';\n\nconst ReviewListMobile = () => {\n    const { data, error, isPending, total } = useListContext<Review>();\n    if (isPending || error || Number(total) === 0) {\n        return null;\n    }\n    return (\n        <List sx={{ width: 'calc(100vw - 33px)' }}>\n            {data.map(review => (\n                <RecordContextProvider value={review} key={review.id}>\n                    <ReviewItem />\n                </RecordContextProvider>\n            ))}\n        </List>\n    );\n};\n\nexport default ReviewListMobile;\n","import * as React from 'react';\nimport { ReferenceField, ReferenceFieldProps, TextField } from 'react-admin';\n\ninterface Props {\n    source?: string;\n}\n\nconst ProductReferenceField = (\n    props: Props &\n        Omit<ReferenceFieldProps, 'source' | 'reference' | 'children'>\n) => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nexport default ProductReferenceField;\n","import * as React from 'react';\nimport { Box } from '@mui/material';\nimport Icon from '@mui/icons-material/Stars';\n\nimport { useRecordContext } from 'react-admin';\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n    record?: any;\n}\n\nconst StarRatingField = (props: OwnProps) => {\n    const { size = 'large' } = props;\n    const record = useRecordContext(props);\n    if (!record) return null;\n\n    return (\n        <Box\n            component=\"span\"\n            sx={{\n                display: 'flex',\n                opacity: 0.87,\n                whiteSpace: 'nowrap',\n            }}\n        >\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        sx={{\n                            width: size === 'large' ? 20 : 15,\n                            height: size === 'large' ? 20 : 15,\n                        }}\n                    />\n                ))}\n        </Box>\n    );\n};\n\nexport default StarRatingField;\n","import green from '@mui/material/colors/green';\nimport type { SxProps } from '@mui/material';\nimport orange from '@mui/material/colors/orange';\nimport red from '@mui/material/colors/red';\nimport { Identifier } from 'react-admin';\n\nimport { Review } from './../types';\n\nconst rowSx =\n    (selectedRow?: Identifier) =>\n    (record: Review): SxProps => {\n        let style = {};\n        if (!record) {\n            return style;\n        }\n        if (selectedRow && selectedRow === record.id) {\n            style = {\n                ...style,\n                backgroundColor: 'action.selected',\n            };\n        }\n        if (record.status === 'accepted')\n            return {\n                ...style,\n                borderLeftColor: green[500],\n                borderLeftWidth: 5,\n                borderLeftStyle: 'solid',\n            };\n        if (record.status === 'pending')\n            return {\n                ...style,\n                borderLeftColor: orange[500],\n                borderLeftWidth: 5,\n                borderLeftStyle: 'solid',\n            };\n        if (record.status === 'rejected')\n            return {\n                ...style,\n                borderLeftColor: red[500],\n                borderLeftWidth: 5,\n                borderLeftStyle: 'solid',\n            };\n        return style;\n    };\n\nexport default rowSx;\n","import * as React from 'react';\nimport ThumbUp from '@mui/icons-material/ThumbUp';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useUnselectAll,\n    Identifier,\n    useListContext,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkAcceptButton = () => {\n    const { selectedIds = noSelection } = useListContext();\n    const notify = useNotify();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [updateMany, { isPending }] = useUpdateMany(\n        'reviews',\n        { ids: selectedIds, data: { status: 'accepted' } },\n        {\n            mutationMode: 'undoable',\n            onSuccess: () => {\n                notify('resources.reviews.notifications.approved_success', {\n                    type: 'info',\n                    undoable: true,\n                });\n                unselectAll();\n            },\n            onError: () => {\n                notify('resources.reviews.notifications.approved_error', {\n                    type: 'error',\n                });\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={() => updateMany()}\n            disabled={isPending}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nexport default BulkAcceptButton;\n","import * as React from 'react';\nimport ThumbDown from '@mui/icons-material/ThumbDown';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useUnselectAll,\n    Identifier,\n    useListContext,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkRejectButton = () => {\n    const { selectedIds = noSelection } = useListContext();\n    const notify = useNotify();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [updateMany, { isPending }] = useUpdateMany(\n        'reviews',\n        { ids: selectedIds, data: { status: 'rejected' } },\n        {\n            mutationMode: 'undoable',\n            onSuccess: () => {\n                notify('resources.reviews.notifications.approved_success', {\n                    type: 'info',\n                    undoable: true,\n                });\n                unselectAll();\n            },\n            onError: () => {\n                notify('resources.reviews.notifications.approved_error', {\n                    type: 'error',\n                });\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={() => updateMany()}\n            disabled={isPending}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nexport default BulkRejectButton;\n","import * as React from 'react';\nimport {\n    BulkDeleteButton,\n    DataTable,\n    DateField,\n    Identifier,\n    useCreatePath,\n} from 'react-admin';\nimport { useNavigate } from 'react-router';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport rowSx from './rowSx';\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport { type Review } from '../types';\n\nexport interface ReviewListDesktopProps {\n    selectedRow?: Identifier;\n}\n\nconst ReviewsBulkActionButtons = () => (\n    <>\n        <BulkAcceptButton />\n        <BulkRejectButton />\n        <BulkDeleteButton />\n    </>\n);\n\nconst Table = DataTable<Review>;\nconst Column = DataTable.Col<Review>;\n\nconst ReviewListDesktop = ({ selectedRow }: ReviewListDesktopProps) => {\n    const navigate = useNavigate();\n    const createPath = useCreatePath();\n    return (\n        <Table\n            rowClick={(id, resource) => {\n                // As we display the edit view in a drawer, we don't the default rowClick behavior that will scroll to the top of the page\n                // So we navigate manually without specifying the _scrollToTop state\n                navigate(\n                    createPath({\n                        resource,\n                        id,\n                        type: 'edit',\n                    })\n                );\n                // Disable the default rowClick behavior\n                return false;\n            }}\n            rowSx={rowSx(selectedRow)}\n            bulkActionButtons={<ReviewsBulkActionButtons />}\n            sx={{\n                '& .RaDataTable-thead': {\n                    borderLeftColor: 'transparent',\n                    borderLeftWidth: 5,\n                    borderLeftStyle: 'solid',\n                },\n            }}\n        >\n            <Column source=\"date\" field={DateField} />\n            <Column source=\"customer_id\">\n                <CustomerReferenceField source=\"customer_id\" link={false} />\n            </Column>\n            <Column source=\"product_id\">\n                <ProductReferenceField source=\"product_id\" link={false} />\n            </Column>\n            <Column\n                source=\"rating\"\n                label=\"resources.reviews.fields.rating\"\n                field={StarRatingField}\n            />\n            <Column\n                source=\"comment\"\n                sx={{\n                    maxWidth: '18em',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap',\n                }}\n            />\n            <Column source=\"status\" />\n        </Table>\n    );\n};\n\nexport default ReviewListDesktop;\n","import * as React from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n} from 'react-admin';\nimport green from '@mui/material/colors/green';\nimport orange from '@mui/material/colors/orange';\nimport red from '@mui/material/colors/red';\nimport { Box } from '@mui/material';\n\nimport { Customer } from '../types';\n\nconst colorMap: { [key: string]: string } = {\n    accepted: green[500],\n    pending: orange[500],\n    rejected: red[500],\n};\n\nconst reviewFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <SelectInput\n        source=\"status\"\n        choices={[\n            { id: 'accepted', name: 'Accepted' },\n            { id: 'pending', name: 'Pending' },\n            { id: 'rejected', name: 'Rejected' },\n        ]}\n        optionText={choice => (\n            <>\n                <Box\n                    component=\"span\"\n                    sx={{\n                        bgcolor: colorMap[choice.id],\n                        width: 8,\n                        height: 8,\n                        borderRadius: 4,\n                        mr: 1,\n                        display: 'inline-block',\n                    }}\n                />\n                {choice.name}\n            </>\n        )}\n    />,\n    <ReferenceInput source=\"customer_id\" reference=\"customers\">\n        <AutocompleteInput\n            optionText={(choice?: Customer) =>\n                choice?.id // the empty choice is { id: '' }\n                    ? `${choice.first_name} ${choice.last_name}`\n                    : ''\n            }\n            sx={{ minWidth: 200 }}\n        />\n    </ReferenceInput>,\n    <ReferenceInput source=\"product_id\" reference=\"products\">\n        <AutocompleteInput optionText=\"reference\" />\n    </ReferenceInput>,\n    <DateInput source=\"date_gte\" />,\n    <DateInput source=\"date_lte\" />,\n];\n\nexport default reviewFilters;\n","import * as React from 'react';\nimport Button from '@mui/material/Button';\nimport ThumbUp from '@mui/icons-material/ThumbUp';\nimport {\n    useTranslate,\n    useUpdate,\n    useNotify,\n    useRedirect,\n    useRecordContext,\n} from 'react-admin';\nimport { Review } from './../types';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton = () => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const record = useRecordContext<Review>();\n\n    const [approve, { isPending }] = useUpdate(\n        'reviews',\n        { id: record?.id, data: { status: 'accepted' }, previousData: record },\n        {\n            mutationMode: 'undoable',\n            onSuccess: () => {\n                notify('resources.reviews.notifications.approved_success', {\n                    type: 'info',\n                    undoable: true,\n                });\n                redirectTo('/reviews');\n            },\n            onError: () => {\n                notify('resources.reviews.notifications.approved_error', {\n                    type: 'error',\n                });\n            },\n        }\n    );\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={() => approve()}\n            sx={{ borderColor: theme => theme.palette.success.main }}\n            startIcon={\n                <ThumbUp sx={{ color: theme => theme.palette.success.main }} />\n            }\n            disabled={isPending}\n        >\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nexport default AcceptButton;\n","import * as React from 'react';\nimport Button from '@mui/material/Button';\nimport ThumbDown from '@mui/icons-material/ThumbDown';\nimport {\n    useTranslate,\n    useUpdate,\n    useNotify,\n    useRedirect,\n    useRecordContext,\n} from 'react-admin';\nimport { Review } from '../types';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton = () => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const record = useRecordContext<Review>();\n\n    const [reject, { isPending }] = useUpdate(\n        'reviews',\n        { id: record?.id, data: { status: 'rejected' }, previousData: record },\n        {\n            mutationMode: 'undoable',\n            onSuccess: () => {\n                notify('resources.reviews.notifications.rejected_success', {\n                    type: 'info',\n                    undoable: true,\n                });\n                redirectTo('/reviews');\n            },\n            onError: () => {\n                notify('resources.reviews.notifications.rejected_error', {\n                    type: 'error',\n                });\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={() => reject()}\n            sx={{ borderColor: theme => theme.palette.error.main }}\n            startIcon={\n                <ThumbDown sx={{ color: theme => theme.palette.error.main }} />\n            }\n            disabled={isPending}\n        >\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nexport default RejectButton;\n","import * as React from 'react';\nimport { Fragment } from 'react';\nimport Toolbar from '@mui/material/Toolbar';\n\nimport {\n    SaveButton,\n    DeleteButton,\n    ToolbarProps,\n    useRecordContext,\n    useNotify,\n    useRedirect,\n} from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\nimport { Review } from '../types';\n\nconst ReviewEditToolbar = (props: ToolbarProps) => {\n    const { resource } = props;\n    const redirect = useRedirect();\n    const notify = useNotify();\n\n    const record = useRecordContext<Review>(props);\n\n    if (!record) return null;\n    return (\n        <Toolbar\n            sx={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                minHeight: { sm: 0 },\n            }}\n        >\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton />\n                    <RejectButton />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        mutationOptions={{\n                            onSuccess: () => {\n                                notify('ra.notification.updated', {\n                                    type: 'info',\n                                    messageArgs: { smart_count: 1 },\n                                    undoable: true,\n                                });\n                                redirect('list', 'reviews');\n                            },\n                        }}\n                        type=\"button\"\n                    />\n                    <DeleteButton record={record} resource={resource} />\n                </Fragment>\n            )}\n        </Toolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import * as React from 'react';\nimport {\n    EditBase,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n    Labeled,\n    useDefaultTitle,\n    useEditContext,\n} from 'react-admin';\nimport { Box, Grid, Stack, IconButton, Typography } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\nimport { Review } from '../types';\n\ninterface ReviewEditProps {\n    id: Review['id'];\n    onCancel: () => void;\n}\n\nconst ReviewTitle = () => {\n    const appTitle = useDefaultTitle();\n    const { defaultTitle } = useEditContext();\n    return <title>{`${appTitle} - ${defaultTitle}`}</title>;\n};\n\nconst ReviewEdit = ({ id, onCancel }: ReviewEditProps) => {\n    const translate = useTranslate();\n    return (\n        <EditBase id={id}>\n            <ReviewTitle />\n            <Box\n                sx={{\n                    pt: 5,\n                    width: { xs: '100vW', sm: 400 },\n                    mt: { xs: 2, sm: 1 },\n                }}\n            >\n                <Stack\n                    direction=\"row\"\n                    sx={{\n                        p: 2,\n                    }}\n                >\n                    <Typography\n                        variant=\"h6\"\n                        sx={{\n                            flex: '1',\n                        }}\n                    >\n                        {translate('resources.reviews.detail')}\n                    </Typography>\n                    <IconButton onClick={onCancel} size=\"small\">\n                        <CloseIcon />\n                    </IconButton>\n                </Stack>\n                <SimpleForm\n                    sx={{ pt: 0, pb: 0 }}\n                    toolbar={<ReviewEditToolbar />}\n                >\n                    <Grid\n                        container\n                        rowSpacing={1}\n                        sx={{\n                            mb: 1,\n                        }}\n                    >\n                        <Grid size={{ xs: 6 }}>\n                            <Labeled source=\"customer_id\">\n                                <CustomerReferenceField source=\"customer_id\" />\n                            </Labeled>\n                        </Grid>\n                        <Grid size={{ xs: 6 }}>\n                            <Labeled label=\"resources.reviews.fields.product_id\">\n                                <ProductReferenceField />\n                            </Labeled>\n                        </Grid>\n                        <Grid size={{ xs: 6 }}>\n                            <Labeled>\n                                <DateField source=\"date\" />\n                            </Labeled>\n                        </Grid>\n                        <Grid size={{ xs: 6 }}>\n                            <Labeled label=\"resources.reviews.fields.rating\">\n                                <StarRatingField />\n                            </Labeled>\n                        </Grid>\n                    </Grid>\n                    <TextInput source=\"comment\" maxRows={15} multiline />\n                </SimpleForm>\n            </Box>\n        </EditBase>\n    );\n};\n\nexport default ReviewEdit;\n","import * as React from 'react';\nimport { useCallback } from 'react';\nimport {\n    CreateButton,\n    ExportButton,\n    FilterButton,\n    List,\n    ColumnsButton,\n    TopToolbar,\n    useDefaultTitle,\n    useListContext,\n} from 'react-admin';\nimport { matchPath, useLocation, useNavigate } from 'react-router-dom';\nimport { Box, Drawer, useMediaQuery, Theme } from '@mui/material';\n\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport reviewFilters from './reviewFilters';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewListActions = () => (\n    <TopToolbar>\n        <FilterButton />\n        <CreateButton />\n        <ColumnsButton />\n        <ExportButton />\n    </TopToolbar>\n);\n\nconst ReviewsTitle = () => {\n    const title = useDefaultTitle();\n    const { defaultTitle } = useListContext();\n    return (\n        <>\n            <title>{`${title} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst ReviewList = () => {\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('sm')\n    );\n    const location = useLocation();\n    const navigate = useNavigate();\n\n    const handleClose = useCallback(() => {\n        navigate('/reviews');\n    }, [navigate]);\n\n    const match = matchPath('/reviews/:id', location.pathname);\n\n    return (\n        <Box\n            sx={{\n                display: 'flex',\n            }}\n        >\n            <List\n                sx={{\n                    flexGrow: 1,\n                    transition: (theme: any) =>\n                        theme.transitions.create(['all'], {\n                            duration: theme.transitions.duration.enteringScreen,\n                        }),\n                    marginRight: match ? '400px' : 0,\n                }}\n                filters={reviewFilters}\n                perPage={25}\n                sort={{ field: 'date', order: 'DESC' }}\n                actions={<ReviewListActions />}\n                title={<ReviewsTitle />}\n            >\n                {isXSmall ? (\n                    <ReviewListMobile />\n                ) : (\n                    <ReviewListDesktop\n                        selectedRow={\n                            match\n                                ? parseInt((match as any).params.id, 10)\n                                : undefined\n                        }\n                    />\n                )}\n            </List>\n            <Drawer\n                variant=\"persistent\"\n                open={!!match}\n                anchor=\"right\"\n                onClose={handleClose}\n                sx={{ zIndex: 100 }}\n            >\n                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                {!!match && (\n                    <ReviewEdit\n                        id={(match as any).params.id}\n                        onCancel={handleClose}\n                    />\n                )}\n            </Drawer>\n        </Box>\n    );\n};\n\nexport default ReviewList;\n","import { Box, Rating, Typography, styled } from '@mui/material';\nimport Icon from '@mui/icons-material/Stars';\nimport { InputProps, useInput, useTranslate } from 'react-admin';\n\nconst StarRatingInput = (props: InputProps) => {\n    const { name = 'resources.reviews.fields.rating' } = props;\n    const { field } = useInput(props);\n    const translate = useTranslate();\n\n    return (\n        <Box\n            sx={{\n                display: 'flex',\n                flexDirection: 'column',\n                marginBottom: '1rem',\n            }}\n        >\n            <Typography>{translate(name)}</Typography>\n            <StyledRating\n                {...field}\n                icon={<Icon />}\n                onChange={(event, value) => field.onChange(value)}\n            />\n        </Box>\n    );\n};\n\nconst StyledRating = styled(Rating)({\n    '& .MuiRating-iconFilled': {\n        color: '#000',\n    },\n    '& .MuiRating-iconHover': {\n        color: '#000',\n    },\n});\n\nexport default StarRatingInput;\n","import * as React from 'react';\nimport {\n    SimpleForm,\n    Create,\n    ReferenceInput,\n    TextInput,\n    DateInput,\n    AutocompleteInput,\n    required,\n    useNotify,\n    useRedirect,\n    getRecordFromLocation,\n    useDefaultTitle,\n    useCreateContext,\n} from 'react-admin';\nimport { useLocation } from 'react-router';\n\nimport StarRatingInput from './StarRatingInput';\n\nconst ReviewTitle = () => {\n    const appTitle = useDefaultTitle();\n    const { defaultTitle } = useCreateContext();\n    return (\n        <>\n            <title>{`${appTitle} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst ReviewCreate = () => {\n    const notify = useNotify();\n    const redirect = useRedirect();\n    const location = useLocation();\n\n    const onSuccess = (_: any) => {\n        const record = getRecordFromLocation(location);\n        notify('resources.reviews.notifications.created');\n        if (record && record.product_id) {\n            redirect(`/products/${record.product_id}/reviews`);\n        } else {\n            redirect(`/reviews`);\n        }\n    };\n\n    return (\n        <Create mutationOptions={{ onSuccess }} title={<ReviewTitle />}>\n            <SimpleForm\n                defaultValues={{ status: 'pending' }}\n                sx={{\n                    maxWidth: '30em',\n                }}\n            >\n                <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                    <AutocompleteInput validate={required()} />\n                </ReferenceInput>\n                <ReferenceInput source=\"product_id\" reference=\"products\">\n                    <AutocompleteInput\n                        optionText=\"reference\"\n                        validate={required()}\n                    />\n                </ReferenceInput>\n                <DateInput\n                    source=\"date\"\n                    defaultValue={new Date()}\n                    validate={required()}\n                />\n                <StarRatingInput source=\"rating\" defaultValue={2} />\n                <TextInput\n                    source=\"comment\"\n                    multiline\n                    resettable\n                    validate={required()}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nexport default ReviewCreate;\n","import ReviewIcon from '@mui/icons-material/Comment';\nimport ReviewList from './ReviewList';\nimport ReviewCreate from './ReviewCreate';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n    create: ReviewCreate,\n};\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import * as React from 'react';\nimport { Stack, Chip } from '@mui/material';\nimport { FieldProps, useTranslate, useRecordContext } from 'react-admin';\nimport segments from '../segments/data';\nimport { Customer } from '../types';\n\nconst segmentsById = segments.reduce(\n    (acc, segment) => {\n        acc[segment.id] = segment;\n        return acc;\n    },\n    {} as { [key: string]: any }\n);\n\nconst SegmentsField = (_: Omit<FieldProps, 'source'> & { source?: string }) => {\n    const translate = useTranslate();\n    const record = useRecordContext<Customer>();\n    if (!record || !record.groups) {\n        return null;\n    }\n    return (\n        <Stack\n            direction=\"row\"\n            sx={{\n                gap: 1,\n                flexWrap: 'wrap',\n            }}\n        >\n            {record.groups.map(segmentId => (\n                <Chip\n                    size=\"small\"\n                    key={segmentId}\n                    label={translate(segmentsById[segmentId].name)}\n                />\n            ))}\n        </Stack>\n    );\n};\n\nexport default SegmentsField;\n","import * as React from 'react';\nimport {\n    BooleanField,\n    CreateButton,\n    DataTable,\n    DateField,\n    DateInput,\n    ExportButton,\n    List,\n    NullableBooleanInput,\n    SearchInput,\n    ColumnsButton,\n    TopToolbar,\n    useDefaultTitle,\n    useListContext,\n} from 'react-admin';\nimport { useMediaQuery, Theme } from '@mui/material';\n\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport MobileGrid from './MobileGrid';\nimport VisitorListAside from './VisitorListAside';\nimport type { Customer } from '../types';\n\nconst visitorFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <DateInput source=\"last_seen_gte\" />,\n    <NullableBooleanInput source=\"has_ordered\" />,\n    <NullableBooleanInput source=\"has_newsletter\" defaultValue />,\n    <SegmentInput source=\"groups\" />,\n];\n\nconst VisitorListActions = () => (\n    <TopToolbar>\n        <CreateButton />\n        <ColumnsButton />\n        <ExportButton />\n    </TopToolbar>\n);\n\nconst VisitorTitle = () => {\n    const title = useDefaultTitle();\n    const { defaultTitle } = useListContext();\n    return (\n        <>\n            <title>{`${title} - ${defaultTitle}`}</title>\n            <span>{defaultTitle}</span>\n        </>\n    );\n};\n\nconst Column = DataTable.Col<Customer>;\nconst ColumnNumber = DataTable.NumberCol<Customer>;\n\nconst VisitorList = () => {\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('sm')\n    );\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('md'));\n    return (\n        <List\n            filters={isSmall ? visitorFilters : undefined}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n            aside={<VisitorListAside />}\n            actions={<VisitorListActions />}\n            title={<VisitorTitle />}\n        >\n            {isXsmall ? (\n                <MobileGrid />\n            ) : (\n                <DataTable\n                    rowClick=\"edit\"\n                    sx={{\n                        '& .column-groups': {\n                            md: { display: 'none' },\n                            lg: { display: 'table-cell' },\n                        },\n                    }}\n                    hiddenColumns={['birthday']}\n                >\n                    <Column\n                        source=\"last_name\"\n                        label=\"resources.customers.fields.full_name\"\n                        field={CustomerLinkField}\n                    />\n                    <Column source=\"last_seen\" field={DateField} />\n                    <ColumnNumber\n                        source=\"nb_orders\"\n                        label=\"resources.customers.fields.orders\"\n                    />\n                    <ColumnNumber\n                        source=\"total_spent\"\n                        align=\"right\"\n                        cellSx={record =>\n                            record.total_spent > 500 ? { color: 'red' } : {}\n                        }\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <Column source=\"latest_purchase\">\n                        <DateField source=\"latest_purchase\" showTime />\n                    </Column>\n                    <Column\n                        source=\"has_newsletter\"\n                        label=\"News.\"\n                        field={BooleanField}\n                    />\n                    <Column source=\"groups\" field={SegmentsField} />\n                    <Column source=\"birthday\" field={DateField} />\n                </DataTable>\n            )}\n        </List>\n    );\n};\n\nexport default VisitorList;\n","import VisitorIcon from '@mui/icons-material/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nconst resource = {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n    recordRepresentation: (record: any) =>\n        `${record.first_name} ${record.last_name}`,\n};\n\nexport default resource;\n","import { Button } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport queryString from 'query-string';\n\nimport visitors from '../visitors';\n\nconst LinkToRelatedCustomers = ({ segment }: { segment: string }) => {\n  const translate = useTranslate();\n  return (\n    <Button\n      size=\"small\"\n      color=\"primary\"\n      component={Link}\n      to={{\n        pathname: '/customers',\n        search: queryString.stringify({\n          filter: { groups: segment },\n        }),\n      }}\n      state={{ _scrollToTop: true }}\n      sx={{\n        display: 'inline-flex',\n        alignItems: 'center',\n      }}\n    >\n      <visitors.icon sx={{ paddingRight: '0.5em' }} />\n      {translate('resources.segments.fields.customers')}\n    </Button>\n  );\n};\n\nexport default LinkToRelatedCustomers;\n","import {\n  Card,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from '@mui/material';\nimport {\n  useTranslate,\n  Title,\n  useDefaultTitle,\n  useGetResourceLabel,\n} from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport segments from './data';\n\nconst Segments = () => {\n  const appTitle = useDefaultTitle();\n  const translate = useTranslate();\n  const getResourceLabel = useGetResourceLabel();\n  const pageTitle = translate(`ra.page.list`, {\n    name: getResourceLabel('segments', 2),\n  });\n\n  return (\n    <>\n      <title>{`${appTitle} - ${pageTitle}`}</title>\n      <Card sx={{ mt: 2 }}>\n        <Title title={pageTitle} />\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>\n                {translate('resources.segments.fields.name')}\n              </TableCell>\n              <TableCell />\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {segments.map(segment => (\n              <TableRow key={segment.id}>\n                <TableCell>{translate(segment.name)}</TableCell>\n                <TableCell>\n                  <LinkToRelatedCustomers\n                    segment={segment.id}\n                  />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </Card>\n    </>\n  );\n};\n\nexport default Segments;\n","import { defaultTheme } from 'react-admin';\n\n/**\n * Soft: A gentle theme for apps with rich content (images, charts, maps, etc).\n *\n * Uses white app bar, rounder corners, light colors.\n */\n\nexport const softDarkTheme = {\n  palette: {\n    primary: {\n      main: '#D4AF37',\n    },\n    secondary: {\n      main: '#D4AF37',\n    },\n    mode: 'dark' as 'dark', // Switching the dark mode on is a single property value change.\n  },\n  sidebar: {\n    width: 200,\n  },\n  components: {\n    ...defaultTheme.components,\n    RaMenuItemLink: {\n      styleOverrides: {\n        root: {\n          borderLeft: '3px solid #000',\n          '&.RaMenuItemLink-active': {\n            borderLeft: '3px solid #90caf9',\n          },\n        },\n      },\n    },\n    MuiFilledInput: {\n      styleOverrides: {},\n    },\n    MuiAppBar: {\n      styleOverrides: {\n        colorSecondary: {\n          color: '#ffffffb3',\n          backgroundColor: '#616161',\n        },\n      },\n      defaultProps: {\n        elevation: 1,\n      },\n    },\n  },\n};\n\nexport const softLightTheme = {\n  palette: {\n    primary: {\n      main: '#4f3cc9',\n    },\n    secondary: {\n      light: '#5f5fc4',\n      main: '#283593',\n      dark: '#001064',\n      contrastText: '#fff',\n    },\n    background: {\n      default: '#fcfcfe',\n    },\n    mode: 'light' as 'light',\n  },\n  shape: {\n    borderRadius: 10,\n  },\n  sidebar: {\n    width: 200,\n  },\n  components: {\n    ...defaultTheme.components,\n    RaMenuItemLink: {\n      styleOverrides: {\n        root: {\n          borderLeft: '3px solid #fff',\n          '&.RaMenuItemLink-active': {\n            borderLeft: '3px solid #4f3cc9',\n          },\n        },\n      },\n    },\n    MuiPaper: {\n      styleOverrides: {\n        elevation1: {\n          boxShadow: 'none',\n        },\n        root: {\n          border: '1px solid #e0e0e3',\n          backgroundClip: 'padding-box',\n        },\n      },\n    },\n    MuiAppBar: {\n      styleOverrides: {\n        colorSecondary: {\n          color: '#808080',\n          backgroundColor: '#fff',\n        },\n      },\n      defaultProps: {\n        elevation: 1,\n      },\n    },\n    MuiLinearProgress: {\n      styleOverrides: {\n        colorPrimary: {\n          backgroundColor: '#f5f5f5',\n        },\n        barColorPrimary: {\n          backgroundColor: '#d7d7d7',\n        },\n      },\n    },\n    MuiTableRow: {\n      styleOverrides: {\n        root: {\n          '&:last-child td': { border: 0 },\n        },\n      },\n    },\n  },\n};\n","import { RaThemeOptions } from 'react-admin';\n\n/** Just for fun */\n\nexport const chiptuneTheme: RaThemeOptions = {\n    palette: {\n        mode: 'dark' as 'dark',\n        primary: {\n            main: '#D4AF37',\n        },\n        background: {\n            default: '#111111',\n            paper: '#212121',\n        },\n        text: {\n            primary: '#D4AF37',\n        },\n    },\n    typography: {\n        fontFamily: `'Pixelify Sans', cursive`,\n    },\n    components: {\n        MuiAutocomplete: { defaultProps: { fullWidth: true } },\n        MuiFormControl: { defaultProps: { fullWidth: true } },\n        MuiTextField: { defaultProps: { fullWidth: true } },\n        RaSimpleFormIterator: { defaultProps: { fullWidth: true } },\n    },\n};\n","import { createTheme, lighten } from '@mui/material';\nimport { RaThemeOptions } from 'react-admin';\n\nconst defaultTheme = createTheme();\nconst lightTheme: RaThemeOptions = {\n    palette: {\n        mode: 'light',\n        bulkActionsToolbarBackgroundColor: lighten(\n            defaultTheme.palette.primary.light,\n            0.8\n        ),\n    },\n};\nconst darkTheme: RaThemeOptions = {\n    palette: {\n        mode: 'dark',\n        bulkActionsToolbarBackgroundColor: defaultTheme.palette.primary.dark,\n    },\n};\n\nexport const cssVariablesTheme = createTheme({\n    cssVariables: true,\n    defaultColorScheme: 'light',\n    colorSchemes: {\n        light: lightTheme,\n        dark: darkTheme,\n    },\n});\n","import {\n    RaThemeOptions,\n    defaultLightTheme,\n    defaultDarkTheme,\n    nanoDarkTheme,\n    nanoLightTheme,\n    radiantDarkTheme,\n    radiantLightTheme,\n    houseDarkTheme,\n    houseLightTheme,\n    bwLightTheme,\n    bwDarkTheme,\n} from 'react-admin';\n\nimport { softDarkTheme, softLightTheme } from './softTheme';\nimport { chiptuneTheme } from './chiptuneTheme';\nimport { cssVariablesTheme } from './cssVariablesTheme';\n\nexport type ThemeName =\n    | 'soft'\n    | 'B&W'\n    | 'default'\n    | 'nano'\n    | 'radiant'\n    | 'house'\n    | 'chiptune'\n    | 'cssVariables';\n\nexport type Theme = {\n    name: ThemeName;\n    light?: RaThemeOptions;\n    dark?: RaThemeOptions;\n    single?: RaThemeOptions;\n};\n\nconst BW_SIDEBAR_OVERRIDE = {\n    styleOverrides: {\n        root: {\n            '& .SubMenu .MuiMenuItem-root': {\n                paddingLeft: 24,\n            },\n            '& .RaMenu-closed .SubMenu .MuiMenuItem-root': {\n                paddingLeft: 8,\n            },\n        },\n    },\n};\n\nexport const themes: Theme[] = [\n    { name: 'soft', light: softLightTheme, dark: softDarkTheme },\n    {\n        name: 'cssVariables',\n        single: cssVariablesTheme,\n    },\n    { name: 'default', light: defaultLightTheme, dark: defaultDarkTheme },\n    {\n        name: 'B&W',\n        light: {\n            ...bwLightTheme,\n            components: {\n                ...bwLightTheme.components,\n                RaSidebar: BW_SIDEBAR_OVERRIDE,\n            },\n        },\n        dark: {\n            ...bwDarkTheme,\n            components: {\n                ...bwDarkTheme.components,\n                RaSidebar: BW_SIDEBAR_OVERRIDE,\n            },\n        },\n    },\n    { name: 'nano', light: nanoLightTheme, dark: nanoDarkTheme },\n    { name: 'radiant', light: radiantLightTheme, dark: radiantDarkTheme },\n    { name: 'house', light: houseLightTheme, dark: houseDarkTheme },\n    { name: 'chiptune', light: chiptuneTheme },\n];\n","import { useState } from \"react\";\nimport { useLogin, useNotify, Login } from \"react-admin\";\nimport {\n  TextField,\n  Button,\n  Typography,\n  Box,\n  Paper,\n  Container,\n} from \"@mui/material\";\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const login = useLogin();\n  const notify = useNotify();\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    try {\n      await login({ email, password });\n    } catch {\n      notify(\"Invalid email or password\", { type: \"error\" });\n    }\n  };\n\n  return (\n    <Login>\n      <Container maxWidth=\"sm\">\n        <Paper elevation={3} sx={{ padding: 4, marginTop: 8 }}>\n          <Typography variant=\"h5\" align=\"center\" gutterBottom>\n            Admin Login\n          </Typography>\n          <Box component=\"form\" onSubmit={handleSubmit}>\n            <TextField\n              fullWidth\n              label=\"Email\"\n              name=\"email\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <TextField\n              fullWidth\n              label=\"Password\"\n              name=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              sx={{ marginTop: 2 }}\n            >\n              Login\n            </Button>\n          </Box>\n        </Paper>\n      </Container>\n    </Login>\n  );\n};\n\nexport default LoginPage;\n","import { createTheme } from '@mui/material/styles';\n\nconst theme = createTheme({\n  palette: {\n    primary: { main: '#C98B6B' },\n    secondary: { main: '#C98B6B' },\n    error: { main: '#B71C1C' },\n    warning: { main: '#FF5722' },\n    success: { main: '#8BC34A' },\n    background: {\n      default: 'linear-gradient(to bottom right, #F5F5F5, #FBF8F4)',\n      paper: '#FBF8F4',\n    },\n    text: { primary: '#000', secondary: '#000' },\n  },\n  typography: {\n    fontFamily: 'Canela Trial',\n    button: { textTransform: 'none' },\n  },\n  components: {\n    MuiCssBaseline: {\n      styleOverrides: {\n        '@global': {\n          // Load both fonts from Google Fonts\n          '@font-face': [\n            {\n              fontFamily: 'Canela Trial',\n              fontStyle: 'normal',\n              fontWeight: 400,\n              fontDisplay: 'swap',\n              src: `url('https://fonts.googleapis.com/css2?family=Canela+Trial&display=swap') format('woff2')`,\n            },\n            {\n              fontFamily: 'Noto Sans Lao',\n              fontStyle: 'normal',\n              fontWeight: 400,\n              fontDisplay: 'swap',\n              src: `url('https://fonts.googleapis.com/css2?family=Noto+Sans+Lao&display=swap') format('woff2')`,\n            },\n          ],\n          // Global font override using :lang()\n          body: {\n            background: 'linear-gradient(to bottom right, #F5F5F5, #FBF8F4)',\n            fontFamily: `'Canela Trial', 'Noto Sans Lao', sans-serif`,\n          },\n          // Use Noto Sans Lao when content is in Lao\n          ':lang(lo)': {\n            fontFamily: `'Noto Sans Lao', sans-serif`,\n          },\n          ':lang(en)': {\n            fontFamily: `'Canela Trial', serif`,\n          },\n        },\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          borderRadius: '10px',\n          color: '#F5F5F5',\n          fontWeight: 'bold',\n          padding: '8px 14px',\n          '&:hover': {\n            background: 'linear-gradient(45deg, #ab6936 30%, #C98B6B 90%)',\n          },\n        },\n      },\n    },\n  },\n});\n\nexport default theme;\n","import createCache from '@emotion/cache';\nimport { CacheProvider } from '@emotion/react';\nimport { CssBaseline, ThemeProvider } from '@mui/material';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport theme from './theme';\n\nconst MuiProvider = ({ children }: { children: React.ReactNode }) => {\n   const emotionCache = createCache({ key: 'css' });\n\n  return (\n    <CacheProvider value={emotionCache}>\n      <ThemeProvider theme={theme}>\n        <LocalizationProvider dateAdapter={AdapterDayjs}>\n          <CssBaseline />\n          {children}\n        </LocalizationProvider>\n      </ThemeProvider>\n    </CacheProvider>\n  );\n};\n\nexport default MuiProvider;\n","import * as React from 'react';\nimport {\n    List,\n    Datagrid,\n    TextField,\n    ImageField,\n    DateField,\n    EditButton,\n    DeleteButton,\n    CreateButton,\n    ExportButton,\n    FilterButton,\n    TopToolbar,\n    SearchInput,\n    TextInput,\n    useListContext,\n} from 'react-admin';\nimport { Card, CardContent } from '@mui/material';\n\nconst ProductCategoryFilters = [\n    <SearchInput source=\"name\" placeholder=\"Search by name\" alwaysOn />,\n    <TextInput source=\"name_la\" label=\"Lao Name\" />,\n];\n\nconst ProductCategoryListActions = () => (\n    <TopToolbar>\n        <FilterButton />\n        <CreateButton />\n        <ExportButton />\n    </TopToolbar>\n);\n\nconst ProductCategoryList = () => (\n    <List\n        filters={ProductCategoryFilters}\n        actions={<ProductCategoryListActions />}\n        sort={{ field: 'created', order: 'DESC' }}\n        perPage={25}\n    >\n        <Datagrid\n            rowClick=\"edit\"\n            bulkActionButtons={<DeleteButton />}\n        >\n            <ImageField \n                source=\"image_url\" \n                label=\"Image\"\n                sx={{ width: 60, height: 60, objectFit: 'cover' }} \n            />\n            <TextField source=\"name\" label=\"Name\" />\n            <TextField source=\"name_la\" label=\"Lao Name\" />\n            <DateField source=\"created\" label=\"Created\" showTime />\n            <DateField source=\"updated\" label=\"Updated\" showTime />\n            <EditButton />\n            <DeleteButton />\n        </Datagrid>\n    </List>\n);\n\nexport default ProductCategoryList;","import * as React from 'react';\nimport {\n    Edit,\n    SimpleForm,\n    TextInput,\n    required,\n    useEditContext,\n    Title,\n} from 'react-admin';\nimport { Box, Typography } from '@mui/material';\n\nconst ProductCategoryTitle = () => {\n    const { record } = useEditContext();\n    return (\n        <Title title={record ? `Edit Category \"${record.name}\"` : 'Edit Category'} />\n    );\n};\n\nconst ProductCategoryEdit = () => (\n    <Edit title={<ProductCategoryTitle />}>\n        <SimpleForm>\n            <Box display=\"flex\" flexDirection=\"column\" gap={2} width=\"100%\" maxWidth={600}>\n                <Typography variant=\"h6\" gutterBottom>\n                    Category Information\n                </Typography>\n                \n                <TextInput\n                    source=\"name\"\n                    label=\"Category Name\"\n                    validate={[required()]}\n                    fullWidth\n                />\n                \n                <TextInput\n                    source=\"name_la\"\n                    label=\"Lao Name\"\n                    validate={[required()]}\n                    fullWidth\n                />\n                \n                <TextInput\n                    source=\"image_url\"\n                    label=\"Image URL\"\n                    validate={[required()]}\n                    fullWidth\n                    multiline\n                    rows={3}\n                />\n            </Box>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default ProductCategoryEdit;","import * as React from 'react';\nimport {\n    Create,\n    SimpleForm,\n    TextInput,\n    required,\n    Title,\n} from 'react-admin';\nimport { Box, Typography } from '@mui/material';\n\nconst ProductCategoryCreate = () => (\n    <Create title={<Title title=\"Create New Product Category\" />}>\n        <SimpleForm>\n            <Box display=\"flex\" flexDirection=\"column\" gap={2} width=\"100%\" maxWidth={600}>\n                <Typography variant=\"h6\" gutterBottom>\n                    New Category Information\n                </Typography>\n                \n                <TextInput\n                    source=\"name\"\n                    label=\"Category Name\"\n                    validate={[required()]}\n                    fullWidth\n                />\n                \n                <TextInput\n                    source=\"name_la\"\n                    label=\"Lao Name\"\n                    validate={[required()]}\n                    fullWidth\n                />\n                \n                <TextInput\n                    source=\"image_url\"\n                    label=\"Image URL\"\n                    validate={[required()]}\n                    fullWidth\n                    multiline\n                    rows={3}\n                    helperText=\"Enter a valid image URL\"\n                />\n            </Box>\n        </SimpleForm>\n    </Create>\n);\n\nexport default ProductCategoryCreate;","import * as React from 'react';\nimport {\n    Show,\n    SimpleShowLayout,\n    TextField,\n    ImageField,\n    DateField,\n    EditButton,\n    DeleteButton,\n    TopToolbar,\n    useShowContext,\n    Title,\n} from 'react-admin';\nimport { Box, Card, CardContent, Typography } from '@mui/material';\n\nconst ProductCategoryShowActions = () => (\n    <TopToolbar>\n        <EditButton />\n        <DeleteButton />\n    </TopToolbar>\n);\n\nconst ProductCategoryTitle = () => {\n    const { record } = useShowContext();\n    return (\n        <Title title={record ? `Category \"${record.name}\"` : 'Category Details'} />\n    );\n};\n\nconst ProductCategoryShow = () => (\n    <Show \n        title={<ProductCategoryTitle />}\n        actions={<ProductCategoryShowActions />}\n    >\n        <SimpleShowLayout>\n            <Box display=\"flex\" flexDirection=\"column\" gap={3} maxWidth={800}>\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Category Details\n                        </Typography>\n                        \n                        <Box display=\"flex\" gap={4} alignItems=\"start\">\n                            <Box flex={1}>\n                                <TextField source=\"name\" label=\"Category Name\" />\n                                <TextField source=\"name_la\" label=\"Lao Name\" />\n                                <TextField source=\"image_url\" label=\"Image URL\" />\n                            </Box>\n                            \n                            <Box>\n                                <ImageField \n                                    source=\"image_url\" \n                                    label=\"Category Image\"\n                                    sx={{ maxWidth: 200, maxHeight: 200, objectFit: 'contain' }}\n                                />\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n                \n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Metadata\n                        </Typography>\n                        \n                        <DateField source=\"created\" label=\"Created\" showTime />\n                        <DateField source=\"updated\" label=\"Last Updated\" showTime />\n                        <TextField source=\"id\" label=\"ID\" />\n                        <TextField source=\"collectionId\" label=\"Collection ID\" />\n                    </CardContent>\n                </Card>\n            </Box>\n        </SimpleShowLayout>\n    </Show>\n);\n\nexport default ProductCategoryShow;","import CategoryIcon from '@mui/icons-material/Category';\nimport ProductCategoryList from './ProductCategoryList';\nimport ProductCategoryEdit from './ProductCategoryEdit';\nimport ProductCategoryCreate from './ProductCategoryCreate';\nimport ProductCategoryShow from './ProductCategoryShow';\n\nexport default {\n    list: ProductCategoryList,\n    edit: ProductCategoryEdit,\n    create: ProductCategoryCreate,\n    show: ProductCategoryShow,\n    icon: CategoryIcon,\n    recordRepresentation: 'name',\n};","import polyglotI18nProvider from 'ra-i18n-polyglot';\nimport {\n  Admin,\n  CustomRoutes,\n  Resource,\n  localStorageStore,\n  useStore,\n  StoreContextProvider,\n} from 'react-admin';\nimport { Route } from 'react-router';\n\nimport authProvider from './authProvider';\nimport categories from './categories';\nimport { Dashboard } from './dashboard';\nimport dataProviderFactory from './dataProvider';\nimport englishMessages from './i18n/en';\nimport invoices from './invoices';\nimport { Layout } from './layout';\nimport orders from './orders';\nimport products from './products';\nimport reviews from './reviews';\nimport Segments from './segments/Segments';\nimport visitors from './visitors';\nimport customers from './customers';\nimport { themes, ThemeName } from './themes/themes';\nimport LoginPage from './layout/Login2';\nimport MuiProvider from './styles/ThemeProvider';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { CurrencyProvider } from './components/CurrencySelector/CurrencyProvider';\nimport blogs from './blogs';\nimport productCategories from './productCategories';\nimport users from './users';\n\nconst i18nProvider = polyglotI18nProvider(\n  (locale) => {\n    if (locale === 'fr') {\n      return import('./i18n/fr').then((messages) => messages.default);\n    }\n\n    // Always fallback on english\n    return englishMessages;\n  },\n  'en',\n  [\n    { locale: 'en', name: 'English' },\n    { locale: 'fr', name: 'Français' },\n  ]\n);\n\nconst store = localStorageStore(undefined, 'ECommerce');\n\nconst App = () => {\n  const [themeName] = useStore<ThemeName>('themeName', 'soft');\n  const singleTheme = themes.find((theme) => theme.name === themeName)?.single;\n  const lightTheme = themes.find((theme) => theme.name === themeName)?.light;\n  const darkTheme = themes.find((theme) => theme.name === themeName)?.dark;\n  return (\n    <Admin\n      title='Posters Galore Admin'\n      dataProvider={dataProviderFactory(\n        process.env.REACT_APP_DATA_PROVIDER || ''\n      )}\n      store={store}\n      authProvider={authProvider}\n      dashboard={Dashboard}\n      loginPage={LoginPage}\n      layout={Layout}\n      i18nProvider={i18nProvider}\n      disableTelemetry\n      theme={singleTheme}\n      lightTheme={lightTheme}\n      darkTheme={darkTheme}\n      defaultTheme='light'\n      requireAuth\n    >\n      <CustomRoutes>\n        <Route path='/segments' element={<Segments />} />\n      </CustomRoutes>\n      <Resource name='customers' {...customers} />\n      <Resource name='orders' {...orders} />\n      <Resource name='invoices' {...invoices} />\n      <Resource name='products' {...products} />\n      <Resource name='categories' {...categories} />\n      <Resource name='product_categories' {...productCategories} />\n      <Resource name='reviews' {...reviews} />\n      <Resource name='blogs' {...blogs} />\n      <Resource name='users' {...users} />\n    </Admin>\n  );\n};\n\n// Create a client\nconst queryClient = new QueryClient();\n\nconst AppWrapper = () => (\n  <StoreContextProvider value={store}>\n    <QueryClientProvider client={queryClient}>\n      <MuiProvider>\n        <CurrencyProvider>\n          <App />\n        </CurrencyProvider>\n      </MuiProvider>\n    </QueryClientProvider>\n  </StoreContextProvider>\n);\n\nexport default AppWrapper;\n","import { createRoot } from 'react-dom/client';\n\nimport App from './App';\n\nconst container = document.getElementById('root');\nif (!container) {\n    throw new Error('No container found');\n}\nconst root = createRoot(container);\n\nroot.render(<App />);\n"],"file":"assets/index-CJ02g5A3.js"}